[{"url": "https://api.github.com/repos/amethyst/legion/issues/180", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/180/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/180/events", "html_url": "https://github.com/amethyst/legion/pull/180", "id": 686554347, "node_id": "MDExOlB1bGxSZXF1ZXN0NDc0MTAxMjY4", "number": 180, "title": "More flexible EntitySerializer", "user": {"login": "kabergstrom", "id": 625207, "node_id": "MDQ6VXNlcjYyNTIwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/625207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabergstrom", "html_url": "https://github.com/kabergstrom", "followers_url": "https://api.github.com/users/kabergstrom/followers", "following_url": "https://api.github.com/users/kabergstrom/following{/other_user}", "gists_url": "https://api.github.com/users/kabergstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabergstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabergstrom/subscriptions", "organizations_url": "https://api.github.com/users/kabergstrom/orgs", "repos_url": "https://api.github.com/users/kabergstrom/repos", "events_url": "https://api.github.com/users/kabergstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/kabergstrom/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-26T19:12:22Z", "updated_at": "2020-08-31T06:41:29Z", "closed_at": "2020-08-31T06:41:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/180", "html_url": "https://github.com/amethyst/legion/pull/180", "diff_url": "https://github.com/amethyst/legion/pull/180.diff", "patch_url": "https://github.com/amethyst/legion/pull/180.patch", "merged_at": "2020-08-31T06:41:29Z"}, "body": "This PR gives more freedom for the caller in terms of how to store its impl of EntitySerializer. The why is here: https://github.com/TomGillen/legion/issues/169", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/176", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/176/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/176/events", "html_url": "https://github.com/amethyst/legion/pull/176", "id": 678300430, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY3MjcwODI0", "number": 176, "title": "Fix typo", "user": {"login": "msvbg", "id": 3961616, "node_id": "MDQ6VXNlcjM5NjE2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3961616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msvbg", "html_url": "https://github.com/msvbg", "followers_url": "https://api.github.com/users/msvbg/followers", "following_url": "https://api.github.com/users/msvbg/following{/other_user}", "gists_url": "https://api.github.com/users/msvbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/msvbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msvbg/subscriptions", "organizations_url": "https://api.github.com/users/msvbg/orgs", "repos_url": "https://api.github.com/users/msvbg/repos", "events_url": "https://api.github.com/users/msvbg/events{/privacy}", "received_events_url": "https://api.github.com/users/msvbg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-13T09:39:45Z", "updated_at": "2020-08-15T09:03:43Z", "closed_at": "2020-08-15T00:53:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/176", "html_url": "https://github.com/amethyst/legion/pull/176", "diff_url": "https://github.com/amethyst/legion/pull/176.diff", "patch_url": "https://github.com/amethyst/legion/pull/176.patch", "merged_at": "2020-08-15T00:53:10Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/170", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/170/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/170/events", "html_url": "https://github.com/amethyst/legion/pull/170", "id": 673082112, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYzMDA4MzM4", "number": 170, "title": "Clarify what runs when", "user": {"login": "CleanCut", "id": 5838512, "node_id": "MDQ6VXNlcjU4Mzg1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5838512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CleanCut", "html_url": "https://github.com/CleanCut", "followers_url": "https://api.github.com/users/CleanCut/followers", "following_url": "https://api.github.com/users/CleanCut/following{/other_user}", "gists_url": "https://api.github.com/users/CleanCut/gists{/gist_id}", "starred_url": "https://api.github.com/users/CleanCut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CleanCut/subscriptions", "organizations_url": "https://api.github.com/users/CleanCut/orgs", "repos_url": "https://api.github.com/users/CleanCut/repos", "events_url": "https://api.github.com/users/CleanCut/events{/privacy}", "received_events_url": "https://api.github.com/users/CleanCut/received_events", "type": "User", "user_view_type": "public", "site_admin": true}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-04T21:03:54Z", "updated_at": "2020-08-04T22:57:44Z", "closed_at": "2020-08-04T22:57:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/170", "html_url": "https://github.com/amethyst/legion/pull/170", "diff_url": "https://github.com/amethyst/legion/pull/170.diff", "patch_url": "https://github.com/amethyst/legion/pull/170.patch", "merged_at": "2020-08-04T22:57:44Z"}, "body": "This wording confused me.  It sort of sounds like systems only run once, which doesn't make sense.  Or maybe it meant the system is only setup once--but I don't know why that would be important information at this spot in the documentation.  I _think_ this new wording conveys what was actually intended.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/167", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/167/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/167/events", "html_url": "https://github.com/amethyst/legion/pull/167", "id": 669766529, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYwMTAwNjk5", "number": 167, "title": "Fix compilation to wasm: the Uuid::new_v4() function is not found", "user": {"login": "tuzz", "id": 892251, "node_id": "MDQ6VXNlcjg5MjI1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/892251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuzz", "html_url": "https://github.com/tuzz", "followers_url": "https://api.github.com/users/tuzz/followers", "following_url": "https://api.github.com/users/tuzz/following{/other_user}", "gists_url": "https://api.github.com/users/tuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuzz/subscriptions", "organizations_url": "https://api.github.com/users/tuzz/orgs", "repos_url": "https://api.github.com/users/tuzz/repos", "events_url": "https://api.github.com/users/tuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/tuzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-31T12:29:16Z", "updated_at": "2020-08-03T11:37:05Z", "closed_at": "2020-07-31T16:10:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/167", "html_url": "https://github.com/amethyst/legion/pull/167", "diff_url": "https://github.com/amethyst/legion/pull/167.diff", "patch_url": "https://github.com/amethyst/legion/pull/167.patch", "merged_at": "2020-07-31T16:10:39Z"}, "body": "Legion uses the Uuid::new_v4 function in `src/internals/entity.rs` and it\r\ncorrectly depends on the uuid crate with feature 'v4' enabled. However,\r\nfor wasm targets you must additionally enable either the stdweb or\r\nwasm-bindgen feature on that crate: https://github.com/uuid-rs/uuid#dependencies\r\n\r\nTherefore, re-export those features so they may be enabled by downstream\r\nlibraries/binaries that target wasm and use this crate.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/167/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/166", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/166/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/166/events", "html_url": "https://github.com/amethyst/legion/pull/166", "id": 667817002, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDE1OTIy", "number": 166, "title": "Allow !Sync resources to be stored in Resources", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-29T12:45:52Z", "updated_at": "2020-07-31T21:19:16Z", "closed_at": "2020-07-31T21:19:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/166", "html_url": "https://github.com/amethyst/legion/pull/166", "diff_url": "https://github.com/amethyst/legion/pull/166.diff", "patch_url": "https://github.com/amethyst/legion/pull/166.patch", "merged_at": "2020-07-31T21:19:13Z"}, "body": "Resources which are !Sync can now be stored inside Resources collections. Systems which attempt to access such resources will themselves be marked as !Sync and cannot be scheduled via `add_system`, but must be scheduled as thread-local via `add_thread_local`.\r\n\r\nThis is a breaking change as `Resources` is now no longer `Send` or `Sync`, as it may own resources which themselves need to stay on the main thread.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/166/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/165", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/165/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/165/events", "html_url": "https://github.com/amethyst/legion/pull/165", "id": 666056273, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2OTY2ODA2", "number": 165, "title": "#[system] procedural macro", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-27T07:27:47Z", "updated_at": "2020-07-31T17:37:58Z", "closed_at": "2020-07-31T17:37:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/165", "html_url": "https://github.com/amethyst/legion/pull/165", "diff_url": "https://github.com/amethyst/legion/pull/165.diff", "patch_url": "https://github.com/amethyst/legion/pull/165.patch", "merged_at": "2020-07-31T17:37:54Z"}, "body": "This PR adds a `#[system]` procedural macro to legion, behind the \"codegen\" feature flag (enabled by default), which generates the code dealing with manually constructing systems with the `SystemBuilder` API, as discussed in #31. The function maked with the attribute is left as-is, so auto-complete and other IDE tooling continue to function as normal.\r\n\r\nTo copy and paste the docs for the macro:\r\n\r\n## #[system]\r\nWraps a function in a system, and generates a new function which constructs that system.\r\n\r\nThere are three types of systems: simple (default), for_each and par_for_each. By default, the system macro will create a new function named `<attributed_fn_name>_system` which can be called to construct the system.\r\n\r\n### Examples\r\n\r\nBy default, the system function is called once when the system runs.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world() {\r\n   println!(\"hello world\");\r\n}\r\n\r\nSchedule::builder()\r\n    .add_system(hello_world_system())\r\n    .build();\r\n```\r\n\r\nThe function can request resources with reference parameters marked with the #[resource] attribute.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world(#[resource] person: &Person) {\r\n   println!(\"hello, {}\", person.name);\r\n}\r\n```\r\n\r\nSystems can also request a world or command buffer.\r\n\r\n```rust\r\n#[system]\r\nfn create_entity(world: &mut SubWorld, cmd: &mut CommandBuffer) {\r\n   cmd.push((1usize, false, Person { name: \"Jane Doe\" }));\r\n}\r\n```\r\n\r\nSystems can declare access to component types with the #[read_component] and #[write_component] attributes.\r\n\r\n```rust\r\n#[system]\r\n#[read_component(usize)]\r\n#[write_component(bool)]\r\nfn run_query(world: &mut SubWorld) {\r\n    let mut query = <(Read<usize>, Write<bool>)>::query();\r\n    for (a, b) in query.iter_mut(world) {\r\n        println!(\"{} {}\", a, b);\r\n    }\r\n}\r\n```\r\n\r\nfor_each and par_for_each system types can be used to implement the query for you. References will be interpreted as Read<T> and Write<T>, while options of references (e.g. Option<&Position>) will be interpreted as TryRead<T> and TryWrite<T>. You can request the entity ID via a &Entity parameter.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nfor_each and par_for_each systems can request attitional filters for their query via the #[filter] attribute.\r\n\r\n```rust\r\n#[system(for_each)]\r\n#[filter(maybe_changed::<Position>())]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nSystems can contain their own state. Add a reference marked with the #[state] parameter to your function. This state will be initialized when you construct the system.\r\n\r\n```rust\r\n#[system]\r\nfn stateful(#[state] counter: &mut usize) {\r\n    *counter += 1;\r\n    println!(\"state: {}\", counter);\r\n}\r\n\r\nSchedule::builder()\r\n     // initialize state when you construct the system\r\n    .add_system(stateful_system(5usize))\r\n    .build();\r\n```\r\n\r\nSystems can contain generic parameters.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn print_component<T: Component + Debug>(component: &T) {\r\n    println!(\"{:?}\", component);\r\n}\r\n\r\nSchedule::builder()\r\n     // supply generic parameters when constructing the system\r\n    .add_system(print_component_system::<Position>())\r\n    .build();\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/165/reactions", "total_count": 20, "+1": 0, "-1": 0, "laugh": 0, "hooray": 11, "confused": 0, "heart": 9, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/155", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/155/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/155/events", "html_url": "https://github.com/amethyst/legion/pull/155", "id": 642377494, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM3NDEzNDQ3", "number": 155, "title": "Fix the example in the readme.", "user": {"login": "brian-dawn", "id": 1274409, "node_id": "MDQ6VXNlcjEyNzQ0MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1274409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brian-dawn", "html_url": "https://github.com/brian-dawn", "followers_url": "https://api.github.com/users/brian-dawn/followers", "following_url": "https://api.github.com/users/brian-dawn/following{/other_user}", "gists_url": "https://api.github.com/users/brian-dawn/gists{/gist_id}", "starred_url": "https://api.github.com/users/brian-dawn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brian-dawn/subscriptions", "organizations_url": "https://api.github.com/users/brian-dawn/orgs", "repos_url": "https://api.github.com/users/brian-dawn/repos", "events_url": "https://api.github.com/users/brian-dawn/events{/privacy}", "received_events_url": "https://api.github.com/users/brian-dawn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-20T13:38:25Z", "updated_at": "2020-06-20T18:56:04Z", "closed_at": "2020-06-20T18:56:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/155", "html_url": "https://github.com/amethyst/legion/pull/155", "diff_url": "https://github.com/amethyst/legion/pull/155.diff", "patch_url": "https://github.com/amethyst/legion/pull/155.patch", "merged_at": "2020-06-20T18:56:04Z"}, "body": "Specifically change query.iter to query.iter_mut.\r\n\r\ncloses #87", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/155/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/151", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/151/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/151/events", "html_url": "https://github.com/amethyst/legion/pull/151", "id": 640430470, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1ODQxNjY3", "number": 151, "title": "Move has_component to EntityStore", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-17T13:10:41Z", "updated_at": "2020-06-18T17:55:03Z", "closed_at": "2020-06-18T17:55:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/151", "html_url": "https://github.com/amethyst/legion/pull/151", "diff_url": "https://github.com/amethyst/legion/pull/151.diff", "patch_url": "https://github.com/amethyst/legion/pull/151.patch", "merged_at": "2020-06-18T17:55:03Z"}, "body": "Resolves #148.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/147", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/147/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/147/events", "html_url": "https://github.com/amethyst/legion/pull/147", "id": 636204589, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNDIxMDAy", "number": 147, "title": "Update derivative dependency to resolve Clippy's warnings.", "user": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T12:27:26Z", "updated_at": "2020-06-10T14:30:02Z", "closed_at": "2020-06-10T14:30:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/147", "html_url": "https://github.com/amethyst/legion/pull/147", "diff_url": "https://github.com/amethyst/legion/pull/147.diff", "patch_url": "https://github.com/amethyst/legion/pull/147.patch", "merged_at": "2020-06-10T14:30:02Z"}, "body": "Derivative fixed this issue last version 2.1.1. So updating the version should fix all the warnings in the CI.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/136", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/136/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/136/events", "html_url": "https://github.com/amethyst/legion/pull/136", "id": 619425889, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE4OTQxNjA4", "number": 136, "title": "Clearer documentation of safe usage of _unchecked functions on queries", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-16T09:30:02Z", "updated_at": "2020-05-18T19:33:33Z", "closed_at": "2020-05-18T19:27:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/136", "html_url": "https://github.com/amethyst/legion/pull/136", "diff_url": "https://github.com/amethyst/legion/pull/136.diff", "patch_url": "https://github.com/amethyst/legion/pull/136.patch", "merged_at": "2020-05-18T19:27:33Z"}, "body": "The current documentation of these functions was unclear to me, so I improved it based on what I think is correct. If my interpretation is wrong, I'll fix it.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/133", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/133/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/133/events", "html_url": "https://github.com/amethyst/legion/pull/133", "id": 606699923, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4ODU3MTcx", "number": 133, "title": "Add WASM Cargo criterion example under Getting Started", "user": {"login": "rellfy", "id": 2058962, "node_id": "MDQ6VXNlcjIwNTg5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2058962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rellfy", "html_url": "https://github.com/rellfy", "followers_url": "https://api.github.com/users/rellfy/followers", "following_url": "https://api.github.com/users/rellfy/following{/other_user}", "gists_url": "https://api.github.com/users/rellfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rellfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rellfy/subscriptions", "organizations_url": "https://api.github.com/users/rellfy/orgs", "repos_url": "https://api.github.com/users/rellfy/repos", "events_url": "https://api.github.com/users/rellfy/events{/privacy}", "received_events_url": "https://api.github.com/users/rellfy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-25T06:07:09Z", "updated_at": "2020-04-30T15:14:20Z", "closed_at": "2020-04-29T16:14:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/133", "html_url": "https://github.com/amethyst/legion/pull/133", "diff_url": "https://github.com/amethyst/legion/pull/133.diff", "patch_url": "https://github.com/amethyst/legion/pull/133.patch", "merged_at": "2020-04-29T16:14:47Z"}, "body": "Added a guidance in Getting Started for those building for WASM.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/133/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/130", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/130/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/130/events", "html_url": "https://github.com/amethyst/legion/pull/130", "id": 598377336, "node_id": "MDExOlB1bGxSZXF1ZXN0NDAyMjY0NTkx", "number": 130, "title": "Added missing lifetime annotations for SubWorld", "user": {"login": "Guvante", "id": 7098608, "node_id": "MDQ6VXNlcjcwOTg2MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7098608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Guvante", "html_url": "https://github.com/Guvante", "followers_url": "https://api.github.com/users/Guvante/followers", "following_url": "https://api.github.com/users/Guvante/following{/other_user}", "gists_url": "https://api.github.com/users/Guvante/gists{/gist_id}", "starred_url": "https://api.github.com/users/Guvante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Guvante/subscriptions", "organizations_url": "https://api.github.com/users/Guvante/orgs", "repos_url": "https://api.github.com/users/Guvante/repos", "events_url": "https://api.github.com/users/Guvante/events{/privacy}", "received_events_url": "https://api.github.com/users/Guvante/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-12T00:09:42Z", "updated_at": "2020-04-20T23:15:34Z", "closed_at": "2020-04-20T23:15:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/130", "html_url": "https://github.com/amethyst/legion/pull/130", "diff_url": "https://github.com/amethyst/legion/pull/130.diff", "patch_url": "https://github.com/amethyst/legion/pull/130.patch", "merged_at": "2020-04-20T23:15:34Z"}, "body": "#129 brought up a soundness issue which looked like it should have been solved by the borrow checker already. Lifetime annotations seem to resolve it.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/118", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/118/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/118/events", "html_url": "https://github.com/amethyst/legion/pull/118", "id": 581432666, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4NDk0NzQ4", "number": 118, "title": "Add AsMut for RefMut and RefMapMut", "user": {"login": "foeb", "id": 16327576, "node_id": "MDQ6VXNlcjE2MzI3NTc2", "avatar_url": "https://avatars.githubusercontent.com/u/16327576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foeb", "html_url": "https://github.com/foeb", "followers_url": "https://api.github.com/users/foeb/followers", "following_url": "https://api.github.com/users/foeb/following{/other_user}", "gists_url": "https://api.github.com/users/foeb/gists{/gist_id}", "starred_url": "https://api.github.com/users/foeb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foeb/subscriptions", "organizations_url": "https://api.github.com/users/foeb/orgs", "repos_url": "https://api.github.com/users/foeb/repos", "events_url": "https://api.github.com/users/foeb/events{/privacy}", "received_events_url": "https://api.github.com/users/foeb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-15T00:18:39Z", "updated_at": "2020-03-28T15:20:01Z", "closed_at": "2020-03-28T15:20:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/118", "html_url": "https://github.com/amethyst/legion/pull/118", "diff_url": "https://github.com/amethyst/legion/pull/118.diff", "patch_url": "https://github.com/amethyst/legion/pull/118.patch", "merged_at": "2020-03-28T15:20:01Z"}, "body": "I needed this to deal with `TryWrite<...>` in a query so I could pass in an `Option<RefMut<...>>` to a function and interact with the interior by writing `if Some(x) = x.as_mut() { ... }`. I'm not sure that was necessarily the best way of doing it, but I figure not implementing `AsMut` for these two structs was probably an oversight so here's a pull request! :smile:", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/117", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/117/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/117/events", "html_url": "https://github.com/amethyst/legion/pull/117", "id": 578384954, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1OTc1Mzc1", "number": 117, "title": "Entity component tag types", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-10T07:24:50Z", "updated_at": "2020-04-20T23:24:08Z", "closed_at": "2020-04-20T23:24:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/117", "html_url": "https://github.com/amethyst/legion/pull/117", "diff_url": "https://github.com/amethyst/legion/pull/117.diff", "patch_url": "https://github.com/amethyst/legion/pull/117.patch", "merged_at": "2020-04-20T23:24:08Z"}, "body": "This returns the ComponentTypeId/ComponentMeta and TagTypeId/TagMeta for all components/tags associated with an entity. We are using this for serialization/deserialization.\r\n\r\nThis was originally embedded in #113 but I'm pulling it out separately", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/116", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/116/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/116/events", "html_url": "https://github.com/amethyst/legion/pull/116", "id": 577581991, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzI1Nzkz", "number": 116, "title": "Track component changes like resource changes", "user": {"login": "Guvante", "id": 7098608, "node_id": "MDQ6VXNlcjcwOTg2MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7098608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Guvante", "html_url": "https://github.com/Guvante", "followers_url": "https://api.github.com/users/Guvante/followers", "following_url": "https://api.github.com/users/Guvante/following{/other_user}", "gists_url": "https://api.github.com/users/Guvante/gists{/gist_id}", "starred_url": "https://api.github.com/users/Guvante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Guvante/subscriptions", "organizations_url": "https://api.github.com/users/Guvante/orgs", "repos_url": "https://api.github.com/users/Guvante/repos", "events_url": "https://api.github.com/users/Guvante/events{/privacy}", "received_events_url": "https://api.github.com/users/Guvante/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-03-08T23:06:43Z", "updated_at": "2020-03-28T15:17:29Z", "closed_at": "2020-03-28T15:17:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/116", "html_url": "https://github.com/amethyst/legion/pull/116", "diff_url": "https://github.com/amethyst/legion/pull/116.diff", "patch_url": "https://github.com/amethyst/legion/pull/116.patch", "merged_at": "2020-03-28T15:17:28Z"}, "body": "- Track reads as well as writes\r\n- Writes are dependent on reads to avoid simultanious execution\r\n- Reads handled after writes to prevent overriting last read", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/116/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/115", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/115/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/115/events", "html_url": "https://github.com/amethyst/legion/pull/115", "id": 577572141, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzE4NDQ5", "number": 115, "title": "Experimental refactor in legion_experiment crate", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 36, "created_at": "2020-03-08T21:51:03Z", "updated_at": "2020-07-27T07:14:05Z", "closed_at": "2020-07-27T07:13:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/115", "html_url": "https://github.com/amethyst/legion/pull/115", "diff_url": "https://github.com/amethyst/legion/pull/115.diff", "patch_url": "https://github.com/amethyst/legion/pull/115.patch", "merged_at": "2020-07-27T07:13:48Z"}, "body": "This started as a simple refactor of legion into smaller sub-modules, as some of the module files were well over 1k LoC and were getting unmaintainable. However, while moving things around, I found some soundness issues and saw some opportunity to simplify things. Those in turn caused more changes downstream, and the simplifications made other improvements that I had been planning fairly trivial to implement. This ended up being a _much_ larger and more impactful refactor of the entire legion_core crate than I had originally planned. This work is not yet complete, but it is wide reaching enough that I want to give everyone the opportunity to see what I've been doing and collect some feedback.\r\n\r\nThe general changes are:\r\n * Much shorter module files, each with a more clearly defined scope.\r\n * Simpler code in general. I don't have a line count yet, but I expect this to have shaved a few hundred lines off the library overall.\r\n * Removed many uses of `unsafe`.\r\n\r\nChanges to `World` (which now more closely resembles a std collection):\r\n * Added `len` to retrieve entity count.\r\n * Renamed `insert` to `extend`.\r\n * Added `push` as sugar for inserting a single entity.\r\n * Renamed `delete` to `remove`.\r\n * Renamed `is_alive` to `contains`.\r\n * Added `entity(Entity) -> Entry` and `entity_mut(Entity) -> EntryMut` functions. Entries contain the APIs for interacting with a single entity. e.g. `get_component`, `add_component` and `layout` (which in turn offers `has_component` etc).\r\n * `iter` and `iter_mut` for iterating through all entity entries.\r\n * You can now insert with a tuple of component vecs, in addition to an iterator of component tuples. This is about 50% faster.\r\n\r\nChanges to storage:\r\n * Much clearer distinction between structural changes to storage (e.g. adding entities) and the interior mutability involved in accessing components.\r\n * Chunk metadata has been pulled out into a `LayoutIndex`.\r\n * The layout index is optimised for search and provides a `.search(EntityFilter) -> impl Iterator<Item = ArchetypeIndex>` function.\r\n * Renamed \"archetype\" to \"layout\".\r\n * Renamed \"chunk set\" to \"archetype\".\r\n * Storage now derefs into `[Archetype]` and can be indexed by `ArchetypeIndex`.\r\n * Chunks no longer free their internal memory when empty. Defrag now deletes empty chunks.\r\n * Event subscribers can ask to recieve initial creation/insertion events for pre-existing archetypes and entities when they subscribe.\r\n\r\nChanges to filters:\r\n * No longer implemented as iterators. This was a pain without GATs (it is the canonical streaming iterator problem).\r\n * Filters now only provide their matching logic.\r\n * Distinction made between stateless layout/archetype filters and stateful chunk filters.\r\n * Filters can now _cache their matches_ and incrementally update queries. System queries should do this by default in the future.\r\n\r\nIt is likely that `SystemQuery` won't be needed anymore, too.\r\n\r\nI don't forsee any more major API changes beyond completing this rework, and legion v1.0.0 will likely closely resemble this, after which things should stabilise and breaking changes will hopefully be rare.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/115/reactions", "total_count": 21, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 8, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/115/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/113", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/113/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/113/events", "html_url": "https://github.com/amethyst/legion/pull/113", "id": 577455439, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MjMzNzI4", "number": 113, "title": "Clone move rebased", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-08T06:51:02Z", "updated_at": "2020-05-05T15:40:16Z", "closed_at": "2020-05-05T15:40:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/113", "html_url": "https://github.com/amethyst/legion/pull/113", "diff_url": "https://github.com/amethyst/legion/pull/113.diff", "patch_url": "https://github.com/amethyst/legion/pull/113.patch", "merged_at": "2020-05-05T15:40:15Z"}, "body": "This is another pass on clone merging started with PR #68 \r\n\r\nThis includes some changes that are PR'ed in #105 - happy to rebase it if it goes in ahead of this one.\r\n\r\nFrom the original PR:\r\n> This implements clone_merge: a copying merge that lets the user choose how the copy is made. It also supports transforming one component type to another during the merge operation, where the user defines the transformation.\r\n>\r\n> clone_merge will allocate new entity IDs in the dst world by default, but can be fed with an entity mapping to specify the mappings of IDs from src to dst world. A result_mapping can be supplied if the user wishes to know about the final mappings of src to dst world entities, which takes into account newly allocated entities as well as any replaced entities.\r\n\r\n@kabergstrom and I have been working on this for a while to solve several problems:\r\n * A fast copy allows us to bake prefabs into legion worlds, and spawn them by copying from a prefab world to the game world\r\n * Support for transforming from one type to another allows for transforming from say, a component that describes the dimensions of a box (editor-friendly), to a component that holds a handle to a rigid body in a physics engine (runtime-friendly)\r\n * Being able to direct the copy to replace data allows us to hot-reload in an editor\r\n * The new clone_merge_single variant is used for copying data out of the game world into a cache. We can then compare future gameplay data with the cache to detect and persist changes. We use diffs for editing scenarios like undo/redo, for defining overrides for prefabs, and to provide quick local feedback (while dragging something) while also sending changes to a daemon to persist to disk.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/113/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/113/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/112", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/112/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/112/events", "html_url": "https://github.com/amethyst/legion/pull/112", "id": 576746011, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0NjcxOTMy", "number": 112, "title": "Made getters ArchetypeId public.", "user": {"login": "TimonPost", "id": 19969910, "node_id": "MDQ6VXNlcjE5OTY5OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/19969910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimonPost", "html_url": "https://github.com/TimonPost", "followers_url": "https://api.github.com/users/TimonPost/followers", "following_url": "https://api.github.com/users/TimonPost/following{/other_user}", "gists_url": "https://api.github.com/users/TimonPost/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimonPost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimonPost/subscriptions", "organizations_url": "https://api.github.com/users/TimonPost/orgs", "repos_url": "https://api.github.com/users/TimonPost/repos", "events_url": "https://api.github.com/users/TimonPost/events{/privacy}", "received_events_url": "https://api.github.com/users/TimonPost/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-06T07:22:29Z", "updated_at": "2020-03-08T21:55:40Z", "closed_at": "2020-03-08T21:55:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/112", "html_url": "https://github.com/amethyst/legion/pull/112", "diff_url": "https://github.com/amethyst/legion/pull/112.diff", "patch_url": "https://github.com/amethyst/legion/pull/112.patch", "merged_at": "2020-03-08T21:55:40Z"}, "body": "When I receive an event I can't access the `ArchetypeId`. All the other index types do have public fields. I propose to do the same for this type. I need to know the internals of this type in order to use the events. Otherwise, they are pretty useless, because reconstruction of the game world can't happen. \r\n\r\n```rust\r\nArchetypeCreated(ArchetypeId(WorldId(1, 0), ArchetypeIndex(0)))\r\nChunkCreated(ChunkId(ArchetypeId(WorldId(1, 0), ArchetypeIndex(0)), SetIndex(0), ChunkIndex(0)))\r\nEntityInserted(Entity { index: 63, version: 1 }, ChunkId(ArchetypeId(WorldId(1, 0), ArchetypeIndex(0)), SetIndex(0), ChunkIndex(0)))\r\n```", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/109", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/109/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/109/events", "html_url": "https://github.com/amethyst/legion/pull/109", "id": 572591132, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgxMjU1NjEx", "number": 109, "title": "Use SetIndex in impl View for Tagged", "user": {"login": "Guvante", "id": 7098608, "node_id": "MDQ6VXNlcjcwOTg2MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7098608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Guvante", "html_url": "https://github.com/Guvante", "followers_url": "https://api.github.com/users/Guvante/followers", "following_url": "https://api.github.com/users/Guvante/following{/other_user}", "gists_url": "https://api.github.com/users/Guvante/gists{/gist_id}", "starred_url": "https://api.github.com/users/Guvante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Guvante/subscriptions", "organizations_url": "https://api.github.com/users/Guvante/orgs", "repos_url": "https://api.github.com/users/Guvante/repos", "events_url": "https://api.github.com/users/Guvante/events{/privacy}", "received_events_url": "https://api.github.com/users/Guvante/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-28T07:59:20Z", "updated_at": "2020-03-04T23:04:22Z", "closed_at": "2020-03-04T23:04:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/109", "html_url": "https://github.com/amethyst/legion/pull/109", "diff_url": "https://github.com/amethyst/legion/pull/109.diff", "patch_url": "https://github.com/amethyst/legion/pull/109.patch", "merged_at": "2020-03-04T23:04:22Z"}, "body": "- Requires adding SetIndex to View::fetch", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/109/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/106", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/106/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/106/events", "html_url": "https://github.com/amethyst/legion/pull/106", "id": 567068260, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc2NzYxNzMx", "number": 106, "title": "Updates all dependency crates to latest versions", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-18T18:10:25Z", "updated_at": "2020-03-04T23:10:16Z", "closed_at": "2020-03-04T23:10:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/106", "html_url": "https://github.com/amethyst/legion/pull/106", "diff_url": "https://github.com/amethyst/legion/pull/106.diff", "patch_url": "https://github.com/amethyst/legion/pull/106.patch", "merged_at": "2020-03-04T23:10:16Z"}, "body": "This updates all dependencies to their latest versions. Also changes a small point where explicit iterator types were used, I changed these to impl Iterators for easier usage.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/105", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/105/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/105/events", "html_url": "https://github.com/amethyst/legion/pull/105", "id": 566132810, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc2MDAyODU4", "number": 105, "title": "Add support for getting a slice of refs to all components of a given type", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-17T08:25:04Z", "updated_at": "2020-05-30T21:24:43Z", "closed_at": "2020-05-30T21:24:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/105", "html_url": "https://github.com/amethyst/legion/pull/105", "diff_url": "https://github.com/amethyst/legion/pull/105.diff", "patch_url": "https://github.com/amethyst/legion/pull/105.patch", "merged_at": "2020-05-30T21:24:43Z"}, "body": "This PR adds a method for getting a slice of refs to all components.\r\n\r\nThis is for use with https://github.com/aclysma/imgui-inspect\r\n\r\nIt might also be useful for exposing data via FFI", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/104", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/104/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/104/events", "html_url": "https://github.com/amethyst/legion/pull/104", "id": 566130532, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc2MDAwOTcw", "number": 104, "title": "Add support for removing all entity data", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-17T08:20:55Z", "updated_at": "2020-03-05T09:49:32Z", "closed_at": "2020-03-05T09:49:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/104", "html_url": "https://github.com/amethyst/legion/pull/104", "diff_url": "https://github.com/amethyst/legion/pull/104.diff", "patch_url": "https://github.com/amethyst/legion/pull/104.patch", "merged_at": "2020-03-05T09:49:31Z"}, "body": "This change deletes all entities from the entity allocator (the code that was in Drop was moved to a new function delete_all_entities and now Drop calls that.) It also drops all the chunks in storage which in turn calls drop on all components. Event subscriptions and the command buffer are left intact.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/104/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/103", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/103/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/103/events", "html_url": "https://github.com/amethyst/legion/pull/103", "id": 566125834, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc1OTk3MDM2", "number": 103, "title": "Fire RemoveEntity events when a ComponentStorage is dropped", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-17T08:12:23Z", "updated_at": "2020-03-05T00:20:13Z", "closed_at": "2020-03-05T00:20:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/103", "html_url": "https://github.com/amethyst/legion/pull/103", "diff_url": "https://github.com/amethyst/legion/pull/103.diff", "patch_url": "https://github.com/amethyst/legion/pull/103.patch", "merged_at": "2020-03-05T00:20:13Z"}, "body": "Not sure if you consider it a bug that the event doesn't fire if a world is dropped. I have another PR that adds support for deleting all entities. This change would ensure events fire in that case too.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/102", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/102/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/102/events", "html_url": "https://github.com/amethyst/legion/pull/102", "id": 566125052, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc1OTk2Mzcy", "number": 102, "title": "Add support iterating across all entities", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-17T08:11:04Z", "updated_at": "2020-03-05T13:26:29Z", "closed_at": "2020-03-05T13:26:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/102", "html_url": "https://github.com/amethyst/legion/pull/102", "diff_url": "https://github.com/amethyst/legion/pull/102.diff", "patch_url": "https://github.com/amethyst/legion/pull/102.patch", "merged_at": "2020-03-05T13:26:29Z"}, "body": "This is implemented by iterating component storage to find live entities. I'm using this for comparing two worlds and detecting what has been added between the two worlds.\r\n\r\nThe function enumerate_entities already existed. I considered renaming it to enumerate_entity_locations but that seemed a bit long. Also, I see more usages of iter_* than enumerate_* in standard library, so maybe it's a tiny bit more idiomatic, maybe?\r\n\r\nI don't have a strong opinion about the naming though. Happy to change it to whatever you prefer!", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/99", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/99/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/99/events", "html_url": "https://github.com/amethyst/legion/pull/99", "id": 562098348, "node_id": "MDExOlB1bGxSZXF1ZXN0MzcyNzczMDk0", "number": 99, "title": "Fixed thread local systems not getting flushed", "user": {"login": "MagicRB", "id": 8005463, "node_id": "MDQ6VXNlcjgwMDU0NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/8005463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MagicRB", "html_url": "https://github.com/MagicRB", "followers_url": "https://api.github.com/users/MagicRB/followers", "following_url": "https://api.github.com/users/MagicRB/following{/other_user}", "gists_url": "https://api.github.com/users/MagicRB/gists{/gist_id}", "starred_url": "https://api.github.com/users/MagicRB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MagicRB/subscriptions", "organizations_url": "https://api.github.com/users/MagicRB/orgs", "repos_url": "https://api.github.com/users/MagicRB/repos", "events_url": "https://api.github.com/users/MagicRB/events{/privacy}", "received_events_url": "https://api.github.com/users/MagicRB/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-09T00:17:43Z", "updated_at": "2020-04-20T23:14:25Z", "closed_at": "2020-04-20T23:14:25Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/99", "html_url": "https://github.com/amethyst/legion/pull/99", "diff_url": "https://github.com/amethyst/legion/pull/99.diff", "patch_url": "https://github.com/amethyst/legion/pull/99.patch", "merged_at": "2020-04-20T23:14:25Z"}, "body": "I did add another vector into Schedule, maybe not the best way, but it works.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/99/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/99/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/96", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/96/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/96/events", "html_url": "https://github.com/amethyst/legion/pull/96", "id": 561454712, "node_id": "MDExOlB1bGxSZXF1ZXN0MzcyMjYxODI5", "number": 96, "title": "Fix #92 \"panic occurs when repeatedly deleting worlds with entities still allocated in them", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-07T06:52:06Z", "updated_at": "2020-02-07T16:54:20Z", "closed_at": "2020-02-07T16:54:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/96", "html_url": "https://github.com/amethyst/legion/pull/96", "diff_url": "https://github.com/amethyst/legion/pull/96.diff", "patch_url": "https://github.com/amethyst/legion/pull/96.patch", "merged_at": "2020-02-07T16:54:20Z"}, "body": "Add a test to reproduce the issue and address it by resetting EntityAllocators to a safe default state before returning them to the pool", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/96/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/77", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/77/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/77/events", "html_url": "https://github.com/amethyst/legion/pull/77", "id": 549642697, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYyNjk2MTEx", "number": 77, "title": "Only create a drop_fn in TagMeta if the tag needs drop", "user": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-14T15:30:04Z", "updated_at": "2020-01-18T16:56:11Z", "closed_at": "2020-01-18T16:56:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/77", "html_url": "https://github.com/amethyst/legion/pull/77", "diff_url": "https://github.com/amethyst/legion/pull/77.diff", "patch_url": "https://github.com/amethyst/legion/pull/77.patch", "merged_at": "2020-01-18T16:56:10Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/77/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/74", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/74/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/74/events", "html_url": "https://github.com/amethyst/legion/pull/74", "id": 548836316, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYyMDQwODEx", "number": 74, "title": "typos", "user": {"login": "bestouff", "id": 1163188, "node_id": "MDQ6VXNlcjExNjMxODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1163188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bestouff", "html_url": "https://github.com/bestouff", "followers_url": "https://api.github.com/users/bestouff/followers", "following_url": "https://api.github.com/users/bestouff/following{/other_user}", "gists_url": "https://api.github.com/users/bestouff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bestouff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bestouff/subscriptions", "organizations_url": "https://api.github.com/users/bestouff/orgs", "repos_url": "https://api.github.com/users/bestouff/repos", "events_url": "https://api.github.com/users/bestouff/events{/privacy}", "received_events_url": "https://api.github.com/users/bestouff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-13T10:28:48Z", "updated_at": "2020-01-18T16:54:52Z", "closed_at": "2020-01-18T16:54:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/74", "html_url": "https://github.com/amethyst/legion/pull/74", "diff_url": "https://github.com/amethyst/legion/pull/74.diff", "patch_url": "https://github.com/amethyst/legion/pull/74.patch", "merged_at": "2020-01-18T16:54:52Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/74/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/73", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/73/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/73/events", "html_url": "https://github.com/amethyst/legion/pull/73", "id": 548751618, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYxOTcxNTY1", "number": 73, "title": "Fix for #72 by passing correct data in Tags::tag_set", "user": {"login": "Guvante", "id": 7098608, "node_id": "MDQ6VXNlcjcwOTg2MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7098608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Guvante", "html_url": "https://github.com/Guvante", "followers_url": "https://api.github.com/users/Guvante/followers", "following_url": "https://api.github.com/users/Guvante/following{/other_user}", "gists_url": "https://api.github.com/users/Guvante/gists{/gist_id}", "starred_url": "https://api.github.com/users/Guvante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Guvante/subscriptions", "organizations_url": "https://api.github.com/users/Guvante/orgs", "repos_url": "https://api.github.com/users/Guvante/repos", "events_url": "https://api.github.com/users/Guvante/events{/privacy}", "received_events_url": "https://api.github.com/users/Guvante/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-13T07:31:00Z", "updated_at": "2020-01-24T05:58:52Z", "closed_at": "2020-01-24T05:58:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/73", "html_url": "https://github.com/amethyst/legion/pull/73", "diff_url": "https://github.com/amethyst/legion/pull/73.diff", "patch_url": "https://github.com/amethyst/legion/pull/73.patch", "merged_at": "2020-01-24T05:58:52Z"}, "body": "- Added a test to ensure it doesn't happen again", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/73/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/71", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/71/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/71/events", "html_url": "https://github.com/amethyst/legion/pull/71", "id": 548621226, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYxODY2OTQ4", "number": 71, "title": "readme.md: Fix `use` statement", "user": {"login": "xtian", "id": 602654, "node_id": "MDQ6VXNlcjYwMjY1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/602654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtian", "html_url": "https://github.com/xtian", "followers_url": "https://api.github.com/users/xtian/followers", "following_url": "https://api.github.com/users/xtian/following{/other_user}", "gists_url": "https://api.github.com/users/xtian/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtian/subscriptions", "organizations_url": "https://api.github.com/users/xtian/orgs", "repos_url": "https://api.github.com/users/xtian/repos", "events_url": "https://api.github.com/users/xtian/events{/privacy}", "received_events_url": "https://api.github.com/users/xtian/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-12T20:17:34Z", "updated_at": "2020-01-18T16:54:12Z", "closed_at": "2020-01-18T16:54:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/71", "html_url": "https://github.com/amethyst/legion/pull/71", "diff_url": "https://github.com/amethyst/legion/pull/71.diff", "patch_url": "https://github.com/amethyst/legion/pull/71.patch", "merged_at": "2020-01-18T16:54:12Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/71/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/69", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/69/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/69/events", "html_url": "https://github.com/amethyst/legion/pull/69", "id": 548436388, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYxNzM0MzE5", "number": 69, "title": "Typed indices", "user": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-11T14:29:53Z", "updated_at": "2020-02-06T14:25:55Z", "closed_at": "2020-02-06T14:25:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/69", "html_url": "https://github.com/amethyst/legion/pull/69", "diff_url": "https://github.com/amethyst/legion/pull/69.diff", "patch_url": "https://github.com/amethyst/legion/pull/69.patch", "merged_at": "2020-02-06T14:25:55Z"}, "body": "In spirit of this [comment](https://github.com/TomGillen/legion/issues/65#issuecomment-570707911) I experimented a bit with replacing serveral `usize` indices via the new type pattern by introducing `ArchetypeIndex`, `ChunkIndex`, `ComponentIndex` and `SetIndex` ~~as well as a `TypedIndex` trait to make it a bit nicer to use these index types for getting things out of slices. Unfortunately the `SliceIndex` trait in std isn't stable, and as it seems will never be stabilized which makes this a bit more ugly and verbose to implement than it could be and due to how name resolution works I was unable to use the `get` name for retrieving values through this new trait which is why I settled with `fetch_*` for now(though given resources use this name as well another name might be better).~~\r\nI also implemented a few accessor methods for the different storage kinds to make indexing nicer.\r\n\r\nWhile doing this I found two wrong index usages:\r\n- Fixed one index misuse in `query::Chunk` where a set index was partially used in place of chunk indices, the Chunk now keeps track of both indices given both are needed.\r\n\r\n- Fixed another index misuse in `DynamicTagLayout` where it was using a chunk index instead of a set index for indexing into the Tags.\r\n\r\nLet me know if this is welcome and/or if I should make any adjustments.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/69/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/66", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/66/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/66/events", "html_url": "https://github.com/amethyst/legion/pull/66", "id": 543326282, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU3NjE2OTY1", "number": 66, "title": "Archetype merge index fix", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-29T06:32:19Z", "updated_at": "2020-01-09T11:27:54Z", "closed_at": "2020-01-09T11:27:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/66", "html_url": "https://github.com/amethyst/legion/pull/66", "diff_url": "https://github.com/amethyst/legion/pull/66.diff", "patch_url": "https://github.com/amethyst/legion/pull/66.patch", "merged_at": "2020-01-09T11:27:53Z"}, "body": "I noticed this and it looked like a bug.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/66/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/63", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/63/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/63/events", "html_url": "https://github.com/amethyst/legion/pull/63", "id": 542613599, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU3MDE4NDM2", "number": 63, "title": "Rename immutable/mutable methods", "user": {"login": "aeubanks", "id": 10538900, "node_id": "MDQ6VXNlcjEwNTM4OTAw", "avatar_url": "https://avatars.githubusercontent.com/u/10538900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aeubanks", "html_url": "https://github.com/aeubanks", "followers_url": "https://api.github.com/users/aeubanks/followers", "following_url": "https://api.github.com/users/aeubanks/following{/other_user}", "gists_url": "https://api.github.com/users/aeubanks/gists{/gist_id}", "starred_url": "https://api.github.com/users/aeubanks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aeubanks/subscriptions", "organizations_url": "https://api.github.com/users/aeubanks/orgs", "repos_url": "https://api.github.com/users/aeubanks/repos", "events_url": "https://api.github.com/users/aeubanks/events{/privacy}", "received_events_url": "https://api.github.com/users/aeubanks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-26T17:26:57Z", "updated_at": "2020-01-20T06:21:41Z", "closed_at": "2020-01-09T11:26:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/63", "html_url": "https://github.com/amethyst/legion/pull/63", "diff_url": "https://github.com/amethyst/legion/pull/63.diff", "patch_url": "https://github.com/amethyst/legion/pull/63.patch", "merged_at": "2020-01-09T11:26:45Z"}, "body": "Addresses #55 ", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/63/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/63/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/62", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/62/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/62/events", "html_url": "https://github.com/amethyst/legion/pull/62", "id": 541485389, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MTEwMDEy", "number": 62, "title": "s/parralel/parallel", "user": {"login": "aeubanks", "id": 10538900, "node_id": "MDQ6VXNlcjEwNTM4OTAw", "avatar_url": "https://avatars.githubusercontent.com/u/10538900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aeubanks", "html_url": "https://github.com/aeubanks", "followers_url": "https://api.github.com/users/aeubanks/followers", "following_url": "https://api.github.com/users/aeubanks/following{/other_user}", "gists_url": "https://api.github.com/users/aeubanks/gists{/gist_id}", "starred_url": "https://api.github.com/users/aeubanks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aeubanks/subscriptions", "organizations_url": "https://api.github.com/users/aeubanks/orgs", "repos_url": "https://api.github.com/users/aeubanks/repos", "events_url": "https://api.github.com/users/aeubanks/events{/privacy}", "received_events_url": "https://api.github.com/users/aeubanks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-22T18:21:13Z", "updated_at": "2019-12-23T11:49:37Z", "closed_at": "2019-12-23T11:49:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/62", "html_url": "https://github.com/amethyst/legion/pull/62", "diff_url": "https://github.com/amethyst/legion/pull/62.diff", "patch_url": "https://github.com/amethyst/legion/pull/62.patch", "merged_at": "2019-12-23T11:49:37Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/62/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/61", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/61/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/61/events", "html_url": "https://github.com/amethyst/legion/pull/61", "id": 541378238, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MDM0Mjk3", "number": 61, "title": "fix subtracting overflow in World::defrag", "user": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-21T22:04:05Z", "updated_at": "2019-12-23T15:01:23Z", "closed_at": "2019-12-23T11:54:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/61", "html_url": "https://github.com/amethyst/legion/pull/61", "diff_url": "https://github.com/amethyst/legion/pull/61.diff", "patch_url": "https://github.com/amethyst/legion/pull/61.patch", "merged_at": "2019-12-23T11:54:01Z"}, "body": "Fixes #60 \r\n\r\nSimply moving the `let mut last = slice.len() - 1;` a few lines down should do the trick given that slice cannot have a len of zero at that point due to the branching return.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/59", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/59/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/59/events", "html_url": "https://github.com/amethyst/legion/pull/59", "id": 541375660, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MDMyNTMy", "number": 59, "title": "Fix impl_view_tuple! for read_types() and write_types()", "user": {"login": "caelunshun", "id": 25177429, "node_id": "MDQ6VXNlcjI1MTc3NDI5", "avatar_url": "https://avatars.githubusercontent.com/u/25177429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caelunshun", "html_url": "https://github.com/caelunshun", "followers_url": "https://api.github.com/users/caelunshun/followers", "following_url": "https://api.github.com/users/caelunshun/following{/other_user}", "gists_url": "https://api.github.com/users/caelunshun/gists{/gist_id}", "starred_url": "https://api.github.com/users/caelunshun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caelunshun/subscriptions", "organizations_url": "https://api.github.com/users/caelunshun/orgs", "repos_url": "https://api.github.com/users/caelunshun/repos", "events_url": "https://api.github.com/users/caelunshun/events{/privacy}", "received_events_url": "https://api.github.com/users/caelunshun/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-21T21:32:25Z", "updated_at": "2019-12-23T11:57:40Z", "closed_at": "2019-12-23T11:57:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/59", "html_url": "https://github.com/amethyst/legion/pull/59", "diff_url": "https://github.com/amethyst/legion/pull/59.diff", "patch_url": "https://github.com/amethyst/legion/pull/59.patch", "merged_at": "2019-12-23T11:57:40Z"}, "body": "This fixes #58.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/59/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/59/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/57", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/57/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/57/events", "html_url": "https://github.com/amethyst/legion/pull/57", "id": 541159806, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU1ODY4OTgy", "number": 57, "title": "Finish the CommandBuffer implementation", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-20T19:26:48Z", "updated_at": "2020-01-11T10:10:19Z", "closed_at": "2020-01-11T10:10:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/57", "html_url": "https://github.com/amethyst/legion/pull/57", "diff_url": "https://github.com/amethyst/legion/pull/57.diff", "patch_url": "https://github.com/amethyst/legion/pull/57.patch", "merged_at": "2020-01-11T10:10:18Z"}, "body": "This commit makes a few internals changes, but not much of a public API change. The aim of this PR is completing the CommandBuffer implementation to a working order. This current implementation does not consider inefficiencies in the implementation (a buffer copy, basically).\r\n\r\nThe command buffer implementation has been shifted, to taking N entities out of the world and keeping them resident to the buffer for usage. Every frame, the Scheduler now calls `resize` on the command buffer, having it take more entities if it needs. This means any given buffer can only create N entities any given frame. This is a logical limitation for the system, I believe.\r\n\r\nThis made some changes to the `World` object:\r\n- Added a `command_buffer_size` parameter to `World`, defaulting to 64 via `World::DEFAULT_COMMAND_BUFFER_SIZE`. This configures how many entities a command buffer takes any given frame.\r\n- Moved the actual inner workings of `insert` into `insert_impl`, `insert` is now just a wrapper for this. This was done because I have added `len` to `ComponentSource`, which allows to retrieve the length of the insert at compile time.\r\n- Added `pub(crate) insert_buffered`, which allows us to perform an insert-like API call for already allocated entities. \r\n- Added `write_entities` to `ComponentSource`, to allow writing chunks for already-allocated entities\r\n- `CommandBuffer` now requires `mut` on a few extra function calls.\r\n- Adds `has_component` and `has_component_by_id` to World, allowing for component checks\r\n- Adds `remove_components` and `add_components` to World, preventing multiple moves occurring when adding and removing multiple entities.\r\n\r\nThis PR is feature complete in that:\r\n- Entity's can not be retrieved out of command buffers for creation and insertion.\r\n- `CommandBuffer::create_entity` now works\r\n- `CommandBuffer::insert` now actually behaves like `World::insert`, returning a `Vec` of entities which were inserted. \r\n- `EntityBuilder` now works, where `build` now takes a `CommandBuffer`, and creates an insert command for it.\r\n\r\nThis also contains the following fixes:\r\n- Added `is_alive` checks to the beginning of `World::delete` and `World:add_component`, as it caused UB when a dead entity was passed to these functions.\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/57/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/57/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/56", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/56/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/56/events", "html_url": "https://github.com/amethyst/legion/pull/56", "id": 538572884, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzNjk1NDA4", "number": 56, "title": "Remove SegQueue from CommandBuffer & Additional Tests", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-16T18:14:59Z", "updated_at": "2019-12-23T11:59:01Z", "closed_at": "2019-12-23T11:59:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/56", "html_url": "https://github.com/amethyst/legion/pull/56", "diff_url": "https://github.com/amethyst/legion/pull/56.diff", "patch_url": "https://github.com/amethyst/legion/pull/56.patch", "merged_at": "2019-12-23T11:59:01Z"}, "body": "This removes SegQueue from CommandBuffer. it was causing out-of-order command buffer operations, leading to panics due to things occuring out of order. This also refs #53, as it removes another crossbeam usage.\r\n\r\nThis also adds a few tests to world for a bug I was attempting to track.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/56/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/56/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/54", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/54/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/54/events", "html_url": "https://github.com/amethyst/legion/pull/54", "id": 537905450, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzMTY5NTkw", "number": 54, "title": "Remove unused shrinkwraprs dependency", "user": {"login": "repi", "id": 1262692, "node_id": "MDQ6VXNlcjEyNjI2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1262692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/repi", "html_url": "https://github.com/repi", "followers_url": "https://api.github.com/users/repi/followers", "following_url": "https://api.github.com/users/repi/following{/other_user}", "gists_url": "https://api.github.com/users/repi/gists{/gist_id}", "starred_url": "https://api.github.com/users/repi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/repi/subscriptions", "organizations_url": "https://api.github.com/users/repi/orgs", "repos_url": "https://api.github.com/users/repi/repos", "events_url": "https://api.github.com/users/repi/events{/privacy}", "received_events_url": "https://api.github.com/users/repi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-14T12:04:06Z", "updated_at": "2019-12-14T21:09:18Z", "closed_at": "2019-12-14T21:09:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/54", "html_url": "https://github.com/amethyst/legion/pull/54", "diff_url": "https://github.com/amethyst/legion/pull/54.diff", "patch_url": "https://github.com/amethyst/legion/pull/54.patch", "merged_at": "2019-12-14T21:09:18Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/53", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/53/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/53/events", "html_url": "https://github.com/amethyst/legion/pull/53", "id": 537905438, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzMTY5NTgz", "number": 53, "title": "Include only needed crossbeam dependencies", "user": {"login": "repi", "id": 1262692, "node_id": "MDQ6VXNlcjEyNjI2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1262692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/repi", "html_url": "https://github.com/repi", "followers_url": "https://api.github.com/users/repi/followers", "following_url": "https://api.github.com/users/repi/following{/other_user}", "gists_url": "https://api.github.com/users/repi/gists{/gist_id}", "starred_url": "https://api.github.com/users/repi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/repi/subscriptions", "organizations_url": "https://api.github.com/users/repi/orgs", "repos_url": "https://api.github.com/users/repi/repos", "events_url": "https://api.github.com/users/repi/events{/privacy}", "received_events_url": "https://api.github.com/users/repi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-14T12:03:57Z", "updated_at": "2019-12-16T08:49:21Z", "closed_at": "2019-12-16T03:27:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/53", "html_url": "https://github.com/amethyst/legion/pull/53", "diff_url": "https://github.com/amethyst/legion/pull/53.diff", "patch_url": "https://github.com/amethyst/legion/pull/53.patch", "merged_at": "2019-12-16T03:27:28Z"}, "body": "When building without `par-schedule` feature one only needs the crossbeam-channel crate, not all the other parts of crossbeam. \r\n\r\nThis reduces compile times when building with few features. We ran into this because we are building with `default-features = false` and wanted to reduce amount of dependencies and improve build times.\r\n\r\nAnd when building with that feature, we only additionally need crossbeam-queue. Although in practice in that case one gets rest of crossbeam due to rayon.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/53/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/51", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/51/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/51/events", "html_url": "https://github.com/amethyst/legion/pull/51", "id": 536504095, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUyMDIyODc3", "number": 51, "title": "Change from HashMap to FxHashMap. ", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-11T17:09:40Z", "updated_at": "2019-12-13T05:39:56Z", "closed_at": "2019-12-13T05:39:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/51", "html_url": "https://github.com/amethyst/legion/pull/51", "diff_url": "https://github.com/amethyst/legion/pull/51.diff", "patch_url": "https://github.com/amethyst/legion/pull/51.patch", "merged_at": "2019-12-13T05:39:56Z"}, "body": "See https://github.com/cbreeden/fxhash for comparison of performance for our 8/12 byte keys", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/47", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/47/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/47/events", "html_url": "https://github.com/amethyst/legion/pull/47", "id": 533552356, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ5NjA2NDQy", "number": 47, "title": "Add impl T: Debug for AtomicRefCell and Fix release builds", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-05T19:35:50Z", "updated_at": "2019-12-05T21:04:15Z", "closed_at": "2019-12-05T21:04:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/47", "html_url": "https://github.com/amethyst/legion/pull/47", "diff_url": "https://github.com/amethyst/legion/pull/47.diff", "patch_url": "https://github.com/amethyst/legion/pull/47.patch", "merged_at": "2019-12-05T21:04:15Z"}, "body": "Simple enough. \r\n\r\n- Release builds were broken at the moment, as there was a missing `use` in `borrow` for `PhantomData` when debug assertions were disabled.\r\n\r\n- derived `impl Debug where T: Debug` on `AtomicRefCell`", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/47/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/46", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/46/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/46/events", "html_url": "https://github.com/amethyst/legion/pull/46", "id": 530881178, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ3NDI5Njg5", "number": 46, "title": "[schedule-executor branch] Fix clippy/check warnings, and merge up master", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-02T04:26:40Z", "updated_at": "2019-12-04T19:08:06Z", "closed_at": "2019-12-04T19:08:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/46", "html_url": "https://github.com/amethyst/legion/pull/46", "diff_url": "https://github.com/amethyst/legion/pull/46.diff", "patch_url": "https://github.com/amethyst/legion/pull/46.patch", "merged_at": "2019-12-04T19:08:06Z"}, "body": "I am pulling this into your scheduler PR, as I am currently working off that branch for my code. \r\n\r\nThere was a good amount of documentation and clippy warnings in this branch, so I fixed them up.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/46/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/43", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/43/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/43/events", "html_url": "https://github.com/amethyst/legion/pull/43", "id": 529477988, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ2MzQ4MjE4", "number": 43, "title": "Fix incorrect Chunk iterator on tags during iter_chunks", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-27T17:13:02Z", "updated_at": "2019-12-01T15:57:44Z", "closed_at": "2019-12-01T15:57:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/43", "html_url": "https://github.com/amethyst/legion/pull/43", "diff_url": "https://github.com/amethyst/legion/pull/43.diff", "patch_url": "https://github.com/amethyst/legion/pull/43.patch", "merged_at": "2019-12-01T15:57:43Z"}, "body": "- Remove extra dead comment\r\n- Fixed `Chunk` pulling from the wrong chunk index. It was querying as chunk_index when it should have been set index", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/41", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/41/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/41/events", "html_url": "https://github.com/amethyst/legion/pull/41", "id": 524087174, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxOTI3MTA3", "number": 41, "title": "Replaced `SystemScheduler` with `Schedule`", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-18T01:36:49Z", "updated_at": "2019-12-05T15:33:12Z", "closed_at": "2019-12-05T15:33:07Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/41", "html_url": "https://github.com/amethyst/legion/pull/41", "diff_url": "https://github.com/amethyst/legion/pull/41.diff", "patch_url": "https://github.com/amethyst/legion/pull/41.patch", "merged_at": "2019-12-05T15:33:07Z"}, "body": "`Schedule` is a lower level primitive for building system scheduling logic. It provides an API for recording systems, command buffer flushes, and thread-local functions, and builds the required `Executor`s.\r\n\r\ne.g.:\r\n```rust\r\nlet mut schedule = Schedule::builder()\r\n    .add_system(create_entities)\r\n    .add_system(update_positions)\r\n    .flush()\r\n    .add_thread_local_system(render)\r\n    .build();\r\n\r\nschedule.execute(&mut world);\r\n```\r\n\r\nI am not planning on adding higher level scheduling logic to the core legion crate. `SystemScheduler` may be re-implemented in its own crate in the future.\r\n\r\n@jaynus I'd like your feedback about how this might impact your scheduler work in Amethyst before I merge this.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/41/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/40", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/40/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/40/events", "html_url": "https://github.com/amethyst/legion/pull/40", "id": 524019982, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxODc3NTQw", "number": 40, "title": "Serde support for World", "user": {"login": "kabergstrom", "id": 625207, "node_id": "MDQ6VXNlcjYyNTIwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/625207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabergstrom", "html_url": "https://github.com/kabergstrom", "followers_url": "https://api.github.com/users/kabergstrom/followers", "following_url": "https://api.github.com/users/kabergstrom/following{/other_user}", "gists_url": "https://api.github.com/users/kabergstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabergstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabergstrom/subscriptions", "organizations_url": "https://api.github.com/users/kabergstrom/orgs", "repos_url": "https://api.github.com/users/kabergstrom/repos", "events_url": "https://api.github.com/users/kabergstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/kabergstrom/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-17T17:55:26Z", "updated_at": "2020-01-09T11:51:08Z", "closed_at": "2020-01-09T11:51:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/40", "html_url": "https://github.com/amethyst/legion/pull/40", "diff_url": "https://github.com/amethyst/legion/pull/40.diff", "patch_url": "https://github.com/amethyst/legion/pull/40.patch", "merged_at": "2020-01-09T11:51:08Z"}, "body": "This PR implements support for serde 1.0. Users implement `ser::WorldSerializer` and `de::WorldDeserializer` traits, where they have full control over how to serialize `ComponentTypeId`, `TagTypeId`, `Entity` as well as component/tag data.\r\n\r\nAn example that roundtrips data by serializing, deserializing and then serializing again is provided, whereby the entity-UUID mappings are maintained through the whole process.\r\n\r\nPlease tell me all the ways in which this is unsound.\r\n\r\nI'll squash commits before merge.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/40/reactions", "total_count": 11, "+1": 0, "-1": 0, "laugh": 0, "hooray": 8, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/35", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/35/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/35/events", "html_url": "https://github.com/amethyst/legion/pull/35", "id": 523642559, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxNjAyMTE1", "number": 35, "title": "Fix broken resources in release build, bug in scheduler, and change travis to test release.", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-15T19:17:38Z", "updated_at": "2019-11-16T01:04:16Z", "closed_at": "2019-11-16T01:04:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/35", "html_url": "https://github.com/amethyst/legion/pull/35", "diff_url": "https://github.com/amethyst/legion/pull/35.diff", "patch_url": "https://github.com/amethyst/legion/pull/35.patch", "merged_at": "2019-11-16T01:04:16Z"}, "body": "- The change to downcast-rs was incomplete, errors were not caught in\r\nrelease due to travis missing release build tests.\r\n- Added release build tests to travis. This is needed because some things are feature-gated to release builds, we need to test this case too.\r\n- Fixed a bug case where the scheduler would make a system dependent on\r\nitself, causing the system to never run", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/35/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/34", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/34/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/34/events", "html_url": "https://github.com/amethyst/legion/pull/34", "id": 522387891, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQwNTk3ODkx", "number": 34, "title": "Fix change filter on optional components", "user": {"login": "cheetah", "id": 69730, "node_id": "MDQ6VXNlcjY5NzMw", "avatar_url": "https://avatars.githubusercontent.com/u/69730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cheetah", "html_url": "https://github.com/cheetah", "followers_url": "https://api.github.com/users/cheetah/followers", "following_url": "https://api.github.com/users/cheetah/following{/other_user}", "gists_url": "https://api.github.com/users/cheetah/gists{/gist_id}", "starred_url": "https://api.github.com/users/cheetah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cheetah/subscriptions", "organizations_url": "https://api.github.com/users/cheetah/orgs", "repos_url": "https://api.github.com/users/cheetah/repos", "events_url": "https://api.github.com/users/cheetah/events{/privacy}", "received_events_url": "https://api.github.com/users/cheetah/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-13T18:10:40Z", "updated_at": "2019-12-01T16:06:52Z", "closed_at": "2019-12-01T16:06:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/34", "html_url": "https://github.com/amethyst/legion/pull/34", "diff_url": "https://github.com/amethyst/legion/pull/34.diff", "patch_url": "https://github.com/amethyst/legion/pull/34.patch", "merged_at": "2019-12-01T16:06:52Z"}, "body": "With the new optional components queries (`TryRead` and `TryWrite`) it will be useful to refer to this optional components while filtering by change. For now situation when optional component is missing on entity, but present in the filter results in panic. Not quite sure with the actual implementation though.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/34/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/30", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/30/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/30/events", "html_url": "https://github.com/amethyst/legion/pull/30", "id": 520529612, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM5MDk5ODI4", "number": 30, "title": "Fix individual feature builds. Unblocks #28", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T23:47:20Z", "updated_at": "2019-11-09T23:57:48Z", "closed_at": "2019-11-09T23:57:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/30", "html_url": "https://github.com/amethyst/legion/pull/30", "diff_url": "https://github.com/amethyst/legion/pull/30.diff", "patch_url": "https://github.com/amethyst/legion/pull/30.patch", "merged_at": "2019-11-09T23:57:48Z"}, "body": "This is a small bug fix to fix building with `no-default-features` with individual feature sets.\r\n\r\nThis fixes the compile errors in #28 allowing that to go into CI.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/30/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/29", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/29/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/29/events", "html_url": "https://github.com/amethyst/legion/pull/29", "id": 520521389, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM5MDk0MjU4", "number": 29, "title": "Implement debug for res Fetch types where applicable", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T22:18:59Z", "updated_at": "2019-11-09T23:59:06Z", "closed_at": "2019-11-09T23:59:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/29", "html_url": "https://github.com/amethyst/legion/pull/29", "diff_url": "https://github.com/amethyst/legion/pull/29.diff", "patch_url": "https://github.com/amethyst/legion/pull/29.patch", "merged_at": "2019-11-09T23:59:06Z"}, "body": "`Fetch` and `FetchMut` for resources do not conditionally implement `Debug` if the underlying `T` does. This fixes that, so you can transparently use `Debug` on the inner type for a `Fetch.\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/29/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/28", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/28/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/28/events", "html_url": "https://github.com/amethyst/legion/pull/28", "id": 520478438, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM5MDYyNjky", "number": 28, "title": "Test features individually in CI", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T16:53:35Z", "updated_at": "2019-11-10T09:05:09Z", "closed_at": "2019-11-10T09:05:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/28", "html_url": "https://github.com/amethyst/legion/pull/28", "diff_url": "https://github.com/amethyst/legion/pull/28.diff", "patch_url": "https://github.com/amethyst/legion/pull/28.patch", "merged_at": "2019-11-10T09:05:08Z"}, "body": "Ensures no accidental interdependencies arise.\r\n\r\nThis does in fact fail due to some existing interdependencies, and probably shouldn't be merged until they're fixed.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/28/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/27", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/27/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/27/events", "html_url": "https://github.com/amethyst/legion/pull/27", "id": 520456296, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM5MDQ0MDQ4", "number": 27, "title": "Improved public API soundess", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2019-11-09T15:21:52Z", "updated_at": "2019-11-12T12:11:04Z", "closed_at": "2019-11-12T12:11:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/27", "html_url": "https://github.com/amethyst/legion/pull/27", "diff_url": "https://github.com/amethyst/legion/pull/27.diff", "patch_url": "https://github.com/amethyst/legion/pull/27.patch", "merged_at": "2019-11-12T12:11:01Z"}, "body": "Changed `World` and `Query` APIs to require `&mut World`, such that it is statically impossible to write safe code with unsound borrowing. New unsafe `_unchecked` alternatives have been added with the previous behaviour.\r\n\r\nThis required changing the `PreparedQuery` APIs to also require they be given a `PreparedWorld` reference, in order to control whether a system can execute two of its queries at the same time.\r\n\r\n`PreparedWorld` now provides more of the API that is available on `World`. `PreparedWorld` allows random access to components and archetypes that a system's queries declare access to. `SystemBuilder::[read/write]_component` can now be used to mark the system as accessing all archetypes.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/27/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/27/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/26", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/26/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/26/events", "html_url": "https://github.com/amethyst/legion/pull/26", "id": 520109283, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM4NzU1MDI2", "number": 26, "title": "Run CI with both no and all features", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-08T16:28:52Z", "updated_at": "2019-11-09T08:43:45Z", "closed_at": "2019-11-09T08:43:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/26", "html_url": "https://github.com/amethyst/legion/pull/26", "diff_url": "https://github.com/amethyst/legion/pull/26.diff", "patch_url": "https://github.com/amethyst/legion/pull/26.patch", "merged_at": "2019-11-09T08:43:45Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/25", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/25/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/25/events", "html_url": "https://github.com/amethyst/legion/pull/25", "id": 519403602, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM4MTUyMDky", "number": 25, "title": "TryRead/Write for querying optional components", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-07T17:18:47Z", "updated_at": "2019-11-11T17:14:09Z", "closed_at": "2019-11-11T13:21:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/25", "html_url": "https://github.com/amethyst/legion/pull/25", "diff_url": "https://github.com/amethyst/legion/pull/25.diff", "patch_url": "https://github.com/amethyst/legion/pull/25.patch", "merged_at": "2019-11-11T13:21:46Z"}, "body": "If this implementation strategy looks good, I'll follow up with a similar `MaybeWrite`.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/25/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/24", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/24/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/24/events", "html_url": "https://github.com/amethyst/legion/pull/24", "id": 519064813, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM3ODc0MTg0", "number": 24, "title": "Grammar fixes", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-07T06:17:03Z", "updated_at": "2019-11-10T03:19:03Z", "closed_at": "2019-11-09T08:24:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/24", "html_url": "https://github.com/amethyst/legion/pull/24", "diff_url": "https://github.com/amethyst/legion/pull/24.diff", "patch_url": "https://github.com/amethyst/legion/pull/24.patch", "merged_at": "2019-11-09T08:24:16Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/24/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/23", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/23/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/23/events", "html_url": "https://github.com/amethyst/legion/pull/23", "id": 519058867, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM3ODY5Mzkz", "number": 23, "title": "Convenience API for worlds alone in the universe", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-07T05:58:44Z", "updated_at": "2019-11-11T20:26:06Z", "closed_at": "2019-11-11T20:21:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/23", "html_url": "https://github.com/amethyst/legion/pull/23", "diff_url": "https://github.com/amethyst/legion/pull/23.diff", "patch_url": "https://github.com/amethyst/legion/pull/23.patch", "merged_at": "2019-11-11T20:21:47Z"}, "body": "Simple applications often won't need multiple worlds sharing the same ID space, and this saves them a little boilerplate.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/23/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/22", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/22/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/22/events", "html_url": "https://github.com/amethyst/legion/pull/22", "id": 519045753, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM3ODU4Njcw", "number": 22, "title": "Remove redundant mopa dependency", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-07T05:14:21Z", "updated_at": "2019-11-10T03:18:49Z", "closed_at": "2019-11-09T23:53:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/22", "html_url": "https://github.com/amethyst/legion/pull/22", "diff_url": "https://github.com/amethyst/legion/pull/22.diff", "patch_url": "https://github.com/amethyst/legion/pull/22.patch", "merged_at": "2019-11-09T23:53:10Z"}, "body": "I believe it and downcast-rs are functionally equivalent. It still builds, at least; let me know if I missed a subtlety!", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/22/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/11", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/11/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/11/events", "html_url": "https://github.com/amethyst/legion/pull/11", "id": 496836676, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIwMDg1Nzkz", "number": 11, "title": "SystemBuilder and structural associated changes.", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-22T21:41:19Z", "updated_at": "2019-11-07T00:55:14Z", "closed_at": "2019-11-07T00:55:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/11", "html_url": "https://github.com/amethyst/legion/pull/11", "diff_url": "https://github.com/amethyst/legion/pull/11.diff", "patch_url": "https://github.com/amethyst/legion/pull/11.patch", "merged_at": "2019-11-07T00:55:14Z"}, "body": "See inline comments for actual changes. This adds a SystemBuilder allowing usage such as:\r\n\r\n```rs\r\n#[cfg(test)]\r\nmod tests {\r\n    use super::*;\r\n    use crate::prelude::*;\r\n    use crate::resources::{ResourceAccessType, Resources};\r\n\r\n    #[derive(Clone, Copy, Debug, PartialEq)]\r\n    struct Pos(f32, f32, f32);\r\n    #[derive(Clone, Copy, Debug, PartialEq)]\r\n    struct Vel(f32, f32, f32);\r\n    #[derive(Default)]\r\n    struct TestResource(pub i32);\r\n\r\n    #[test]\r\n    fn builder_crate_and_execute() {\r\n        let universe = Universe::new();\r\n        let mut world = universe.create_world();\r\n        let mut resources = Resources::default();\r\n\r\n        let system = SystemBuilder::<()>::new(\"TestSystem\")\r\n            .with_resource::<TestResource>(ResourceAccessType::Read)\r\n            .with_query(Read::<Pos>::query())\r\n            .with_query(Read::<Vel>::query())\r\n            .build(|resource, queries| {\r\n                println!(\"Hello world\");\r\n                let _ = queries.fetch(); // Fetch the prepared queries. This could be implemented as a Deref on the PreparedQueries struct\r\n            });\r\n\r\n        system.run(&resources, &world);\r\n    }\r\n}\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/8", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/8/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/8/events", "html_url": "https://github.com/amethyst/legion/pull/8", "id": 492786711, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2ODkxNTI0", "number": 8, "title": "The Great Refactor", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-12T12:53:24Z", "updated_at": "2019-09-18T23:53:41Z", "closed_at": "2019-09-18T23:53:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/8", "html_url": "https://github.com/amethyst/legion/pull/8", "diff_url": "https://github.com/amethyst/legion/pull/8.diff", "patch_url": "https://github.com/amethyst/legion/pull/8.patch", "merged_at": "2019-09-18T23:53:36Z"}, "body": "This PR merges a total re-write of legion. The headline changes are:\r\n\r\n* New storage implementation.\r\n    * Untyped, largely to support a future C API.\r\n    * Tag values are now stored in linear vectors per archetype.\r\n    * Archetype tag and component types now stored in linear vectors.\r\n    * Chunks with the same tag values are now grouped into chunksets.\r\n    * Chunks lazily allocate their memory and automatically free it when empty.\r\n    * Iterative defragmentation compacts entities into fewer, more highly occupied, chunks.\r\n* New filter implementation.\r\n    * Filters now split into dictinct types for each level of the hierarchy (archetype, chunkset, chunk).\r\n    * New `Filter` trait implements filters as iterators\r\n    * Better type-foo to erase `Passthrough` filter in many situations.\r\n* API changes:\r\n    * `insert_from` removed; `insert` can perform the role of both functions.\r\n    * `world.tag` and `world.component` have been renamed `world.get_tag` and `world.get_component`.\r\n    * `.as_tags()` no longer needed on tag tuples for `insert`.\r\n    * `mutate_entity` removed, now individual `[add/remove]_[component/tag]` functions. Now no longer allocates temporary memory in most cases.\r\n    * All component references now return a smart pointer that correctly keeps tracking runtime borrows.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/8/reactions", "total_count": 7, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 2, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/6", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/6/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/6/events", "html_url": "https://github.com/amethyst/legion/pull/6", "id": 484726015, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNTQ1MjQ0", "number": 6, "title": "Initial rust format and clippy pass to allow for using clippy and format", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-23T21:51:59Z", "updated_at": "2019-08-24T20:34:27Z", "closed_at": "2019-08-24T20:34:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/6", "html_url": "https://github.com/amethyst/legion/pull/6", "diff_url": "https://github.com/amethyst/legion/pull/6.diff", "patch_url": "https://github.com/amethyst/legion/pull/6.patch", "merged_at": "2019-08-24T20:34:26Z"}, "body": "This is strictly ergonomic changes. I went through the effort of getting Legion to completely pass a normal clippy pass. This included small changes like passing newtypes of primitives by value, some idiomatic changes to iterator usage (find instead of filter+next, etc) and some pointer arithmetic changes for clarity, and finally some derivative changes to be more in line with \"Default is default\" idiom.\r\n\r\nThis was mainly so i could begin work while actively using clippy on the repo.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/6/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/4", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/4/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/4/events", "html_url": "https://github.com/amethyst/legion/pull/4", "id": 479412616, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2MzEwMDEy", "number": 4, "title": "optional universe name", "user": {"login": "dakom", "id": 6406986, "node_id": "MDQ6VXNlcjY0MDY5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/6406986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dakom", "html_url": "https://github.com/dakom", "followers_url": "https://api.github.com/users/dakom/followers", "following_url": "https://api.github.com/users/dakom/following{/other_user}", "gists_url": "https://api.github.com/users/dakom/gists{/gist_id}", "starred_url": "https://api.github.com/users/dakom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dakom/subscriptions", "organizations_url": "https://api.github.com/users/dakom/orgs", "repos_url": "https://api.github.com/users/dakom/repos", "events_url": "https://api.github.com/users/dakom/events{/privacy}", "received_events_url": "https://api.github.com/users/dakom/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-11T21:17:07Z", "updated_at": "2019-08-18T00:03:21Z", "closed_at": "2019-08-18T00:03:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/4", "html_url": "https://github.com/amethyst/legion/pull/4", "diff_url": "https://github.com/amethyst/legion/pull/4.diff", "patch_url": "https://github.com/amethyst/legion/pull/4.patch", "merged_at": "2019-08-18T00:03:12Z"}, "body": "Currently Universe::new() constructs a random name\r\n\r\nThis is particularly problematic for wasm environments which need to\r\nconfigure `rand` with different features (`names` depends on `rand`).\r\nA simple workaround is to allow an optional name provided to\r\nUniverse::new(). Another benefit is that the user can\r\nassociate meaningful names with universes.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/4/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]