[{"url": "https://api.github.com/repos/tari-project/tari/issues/3235", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3235/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3235/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3235/events", "html_url": "https://github.com/tari-project/tari/pull/3235", "id": 977144594, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3OTI5OTcx", "number": 3235, "title": "fix: exit command and free up tokio thread", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-23T15:15:13Z", "updated_at": "2022-02-03T05:29:06Z", "closed_at": "2021-08-25T09:01:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3235", "html_url": "https://github.com/tari-project/tari/pull/3235", "diff_url": "https://github.com/tari-project/tari/pull/3235.diff", "patch_url": "https://github.com/tari-project/tari/pull/3235.patch", "merged_at": "2021-08-25T09:01:19Z"}, "body": "Description\r\n---\r\nExit command didn't exit the cli loop.\r\nRustyline was holding up a tokio thread - used a blocking thread instead\r\n\r\nMotivation and Context\r\n---\r\nBug\r\n\r\nHow Has This Been Tested?\r\n---\r\nManually on base node\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3234", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3234/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3234/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3234/events", "html_url": "https://github.com/tari-project/tari/pull/3234", "id": 976983359, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3NzkyNTQw", "number": 3234, "title": "chore: add extra seed node", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-23T12:32:28Z", "updated_at": "2022-02-03T05:28:58Z", "closed_at": "2021-08-23T13:34:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3234", "html_url": "https://github.com/tari-project/tari/pull/3234", "diff_url": "https://github.com/tari-project/tari/pull/3234.diff", "patch_url": "https://github.com/tari-project/tari/pull/3234.patch", "merged_at": "2021-08-23T13:34:28Z"}, "body": "Description\r\n---\r\nAdd additional seed node\r\n\r\nMotivation and Context\r\n---\r\nN/A\r\n\r\nHow Has This Been Tested?\r\n---\r\nTested with new temporary console wallet\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3232", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3232/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3232/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3232/events", "html_url": "https://github.com/tari-project/tari/pull/3232", "id": 976873575, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3Njk5NzM0", "number": 3232, "title": "test: Add rebuild-db integration test", "user": {"login": "delta1", "id": 351403, "node_id": "MDQ6VXNlcjM1MTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/351403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delta1", "html_url": "https://github.com/delta1", "followers_url": "https://api.github.com/users/delta1/followers", "following_url": "https://api.github.com/users/delta1/following{/other_user}", "gists_url": "https://api.github.com/users/delta1/gists{/gist_id}", "starred_url": "https://api.github.com/users/delta1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delta1/subscriptions", "organizations_url": "https://api.github.com/users/delta1/orgs", "repos_url": "https://api.github.com/users/delta1/repos", "events_url": "https://api.github.com/users/delta1/events{/privacy}", "received_events_url": "https://api.github.com/users/delta1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-23T10:21:00Z", "updated_at": "2021-08-23T16:51:22Z", "closed_at": "2021-08-23T15:41:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3232", "html_url": "https://github.com/tari-project/tari/pull/3232", "diff_url": "https://github.com/tari-project/tari/pull/3232.diff", "patch_url": "https://github.com/tari-project/tari/pull/3232.patch", "merged_at": "2021-08-23T15:41:19Z"}, "body": "Description:\r\n\r\nAdds a cucumber test to cover the `--rebuild-db` blockchain recovery functionality on the base node \r\n\r\nMotivation and Context:\r\n\r\nImproved test coverage\r\n\r\nHow Has This Been Tested?\r\n\r\n`npm test -- --name \"Blockchain database recovery\"`", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3231", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3231/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3231/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3231/events", "html_url": "https://github.com/tari-project/tari/pull/3231", "id": 976833373, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3NjY2NDMz", "number": 3231, "title": "chore: simpler pull request template", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-23T09:37:52Z", "updated_at": "2021-08-23T10:30:27Z", "closed_at": "2021-08-23T10:30:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3231", "html_url": "https://github.com/tari-project/tari/pull/3231", "diff_url": "https://github.com/tari-project/tari/pull/3231.diff", "patch_url": "https://github.com/tari-project/tari/pull/3231.patch", "merged_at": "2021-08-23T10:30:27Z"}, "body": "Simpler PR template", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3227", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3227/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3227/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3227/events", "html_url": "https://github.com/tari-project/tari/pull/3227", "id": 976315360, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3MjY4ODg1", "number": 3227, "title": "feat: add `ping()` to all comms RPC clients", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-22T08:07:52Z", "updated_at": "2022-02-03T05:28:18Z", "closed_at": "2021-08-23T11:20:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3227", "html_url": "https://github.com/tari-project/tari/pull/3227", "diff_url": "https://github.com/tari-project/tari/pull/3227.diff", "patch_url": "https://github.com/tari-project/tari/pull/3227.patch", "merged_at": "2021-08-23T11:20:06Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds a `ping()` function to all comms RPC clients. `ping()` sends an RPC\r\nrequest with the `ACK` flag set. The server will immediately reply with\r\nan `ACK` response. This accurately measures RPC latency without a\r\npotentially slow backend. `ping()` is now used in the wallet monitor.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\nPreviously, `get_last_request_latency` would refer to the latency of `get_tip_info` \r\nwhich will increase whenever the blockchain db is busy, for e.g:\r\n- the base node is syncing\r\n- another node(s) syncing from the base node\r\n- one or many wallets scanning UTXOs from the base node\r\n- one or many wallets running a recovery from the base node\r\n- lots of lmdb writes e.g large reorg\r\n\r\nA client wallet would, of course, have no idea that this is occurring\r\nand simply display poor latency. This could be perceived to be a poor\r\nRPC performance, when in fact, there are a number or non-network/RPC\r\nrelated reasons why a ping > 1/2 seconds  is displayed.\r\n\r\n`get_last_request_latency` is a better measure when determining\r\ncurrent base node performance (caveats: depending on the RPC method impl, \r\ncurrent performance does not predict future performance). However,\r\nit is misleading to use this as a user-facing value presented as network latency.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nUnit test, console wallet test\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3226", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3226/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3226/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3226/events", "html_url": "https://github.com/tari-project/tari/pull/3226", "id": 976288869, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3MjUxNzkx", "number": 3226, "title": "fix: edge-case fixes for wallet peer switching in console wallet", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-22T05:20:25Z", "updated_at": "2022-02-03T05:28:06Z", "closed_at": "2021-08-23T09:42:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3226", "html_url": "https://github.com/tari-project/tari/pull/3226", "diff_url": "https://github.com/tari-project/tari/pull/3226.diff", "patch_url": "https://github.com/tari-project/tari/pull/3226.patch", "merged_at": "2021-08-23T09:42:32Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- set peer using the watch to allow the connectivity service to\r\n  immediately be aware of the new peer\r\n- aborted the dial early if necessary, should the user set a different peer\r\n- slightly reduce busy-ness of the wallet monitor by monitoring for less comms connectivity events\r\n-  monitor for wallet connectivity peer status changes to improve the responsiveness of the status ui update. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nWhen a peer is selected, and the previous peer is offline, it appears as if the new peer is offline.\r\nThis allows the state to be immediately be updated (though there is still a delay where the frontend \r\ngets refreshed - probably waiting for a tick)\r\nThe wallet event monitor was kept very busy with all the comms connectivity events incl. events that \r\nhave nothing\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTested on existing wallet\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3225", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3225/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3225/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3225/events", "html_url": "https://github.com/tari-project/tari/pull/3225", "id": 975804336, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2OTAxMTE5", "number": 3225, "title": "fix: show warnings on console", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-20T17:44:30Z", "updated_at": "2021-08-23T12:01:42Z", "closed_at": "2021-08-23T12:01:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3225", "html_url": "https://github.com/tari-project/tari/pull/3225", "diff_url": "https://github.com/tari-project/tari/pull/3225.diff", "patch_url": "https://github.com/tari-project/tari/pull/3225.patch", "merged_at": "2021-08-23T12:01:42Z"}, "body": "Show warnings and errors on apps as well as logs\r\n\r\nAlso moved a struct that was in the middle of a method into its own file", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3224", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3224/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3224/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3224/events", "html_url": "https://github.com/tari-project/tari/pull/3224", "id": 975664656, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NzgzODEy", "number": 3224, "title": "test: improve comms limits to combat network timeouts", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-20T14:31:17Z", "updated_at": "2021-08-23T13:56:28Z", "closed_at": "2021-08-23T12:53:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3224", "html_url": "https://github.com/tari-project/tari/pull/3224", "diff_url": "https://github.com/tari-project/tari/pull/3224.diff", "patch_url": "https://github.com/tari-project/tari/pull/3224.patch", "merged_at": "2021-08-23T12:53:51Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nThis PR:\r\n- Improved various comms configuration settings to combat RPC connection and response timeouts\r\n- Improved wire mode logging\r\n\r\nThe philosophy here is to rather wait for a connection or response than to abandon all and try again.\r\n\r\nThese settings were tested on two separate systems performing system-level tests where RPC timeouts and connection problems were previously prevalent:\r\n- while base node/console wallet pairs were only monitoring the network or were linked to SHA3 or RandomX miners\r\n- while performing a stress test and compiling Rust at the same time.\r\n\r\nThe former proved to run virtually without any errors while the latter registered some timouts, especially when performing Rust compilations (~ two orders of magnitude less).\r\n\r\n**Edit:** \r\n- Fixed flaky cucumber test `Node should not sync from pruned node`\r\n- Fixed magic numbers in unit test `test_txo_validation_rpc_timeout`\r\n\r\n## Motivation and Context\r\nSee above\r\n\r\n## How Has This Been Tested?\r\nSee above\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3223", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3223/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3223/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3223/events", "html_url": "https://github.com/tari-project/tari/pull/3223", "id": 975518619, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NjU3ODA0", "number": 3223, "title": "fix: chain error caused by zero-conf transactions and reorgs", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-20T11:21:10Z", "updated_at": "2021-08-27T09:43:48Z", "closed_at": "2021-08-20T18:00:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3223", "html_url": "https://github.com/tari-project/tari/pull/3223", "diff_url": "https://github.com/tari-project/tari/pull/3223.diff", "patch_url": "https://github.com/tari-project/tari/pull/3223.patch", "merged_at": "2021-08-20T18:00:32Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nIf a zero-conf transaction was in a block and the block is rewound. The block_chain backend will try to delete in input which was never marked as unspent as it was immediately spent. When we rewound this block we should check this and not try and delete an output that was never an unspent output on the chain. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3223/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3222", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3222/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3222/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3222/events", "html_url": "https://github.com/tari-project/tari/pull/3222", "id": 975488665, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NjMxNTY3", "number": 3222, "title": "cucumber: Add mempool test for unconfirmed tx to mined tx", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-20T10:39:06Z", "updated_at": "2021-08-20T17:13:55Z", "closed_at": "2021-08-20T17:13:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3222", "html_url": "https://github.com/tari-project/tari/pull/3222", "diff_url": "https://github.com/tari-project/tari/pull/3222.diff", "patch_url": "https://github.com/tari-project/tari/pull/3222.patch", "merged_at": "2021-08-20T17:13:55Z"}, "body": "## Description\r\nAdd mempool test for unconfirmed tx to mined tx\r\n\r\n## Motivation and Context\r\ncucumber tests\r\n\r\n## How Has This Been Tested?\r\nnpm test -- --name \"Mempool unconfirmed transaction to mined transaction\"\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3221", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3221/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3221/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3221/events", "html_url": "https://github.com/tari-project/tari/pull/3221", "id": 975449448, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NTk3MzI4", "number": 3221, "title": "ci: prebuild mining node on cucumber tests", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-20T09:47:22Z", "updated_at": "2021-08-22T06:15:03Z", "closed_at": "2021-08-22T06:15:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3221", "html_url": "https://github.com/tari-project/tari/pull/3221", "diff_url": "https://github.com/tari-project/tari/pull/3221.diff", "patch_url": "https://github.com/tari-project/tari/pull/3221.patch", "merged_at": "2021-08-22T06:15:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3220", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3220/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3220/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3220/events", "html_url": "https://github.com/tari-project/tari/pull/3220", "id": 975334207, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2NTAwMDMz", "number": 3220, "title": "test: almost complete ffi wallet test", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-20T07:11:55Z", "updated_at": "2021-08-25T05:38:38Z", "closed_at": "2021-08-20T14:35:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3220", "html_url": "https://github.com/tari-project/tari/pull/3220", "diff_url": "https://github.com/tari-project/tari/pull/3220.diff", "patch_url": "https://github.com/tari-project/tari/pull/3220.patch", "merged_at": "2021-08-20T14:35:37Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nAlmost complete ffi wallet test.\r\n- The async base node connection is not there.\r\n- The SAF test is broken (the ffi wallet doesn't change the status, but the receiver node has correct status) \r\n\r\n## How Has This Been Tested?\r\nnpm test -- .\\features\\WalletFFI.feature\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3219", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3219/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3219/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3219/events", "html_url": "https://github.com/tari-project/tari/pull/3219", "id": 974813276, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2MDY0ODU5", "number": 3219, "title": "test: cucumber check block heights in order test", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-19T15:54:43Z", "updated_at": "2021-08-20T13:29:55Z", "closed_at": "2021-08-20T13:29:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3219", "html_url": "https://github.com/tari-project/tari/pull/3219", "diff_url": "https://github.com/tari-project/tari/pull/3219.diff", "patch_url": "https://github.com/tari-project/tari/pull/3219.patch", "merged_at": "2021-08-20T13:29:55Z"}, "body": "## Description\r\nCucumber check block heights in order test\r\n\r\n## Motivation and Context\r\nCucumber tests\r\n\r\n## How Has This Been Tested?\r\nnpm test -- --name \"Base node lists heights\"\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3218", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3218/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3218/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3218/events", "html_url": "https://github.com/tari-project/tari/pull/3218", "id": 974687579, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1OTU2MDQz", "number": 3218, "title": "chore: better logging for lmdb_delete", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-19T13:52:26Z", "updated_at": "2021-08-20T05:41:46Z", "closed_at": "2021-08-19T14:31:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3218", "html_url": "https://github.com/tari-project/tari/pull/3218", "diff_url": "https://github.com/tari-project/tari/pull/3218.diff", "patch_url": "https://github.com/tari-project/tari/pull/3218.patch", "merged_at": "2021-08-19T14:31:41Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdd table names to lmdb_delete \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nHelps debug the db\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nExisting tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3217", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3217/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3217/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3217/events", "html_url": "https://github.com/tari-project/tari/pull/3217", "id": 974635099, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1OTEwMzM0", "number": 3217, "title": "fix: bug in wallet base node peer switching", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-08-19T12:56:54Z", "updated_at": "2021-08-20T07:24:07Z", "closed_at": "2021-08-19T18:27:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3217", "html_url": "https://github.com/tari-project/tari/pull/3217", "diff_url": "https://github.com/tari-project/tari/pull/3217.diff", "patch_url": "https://github.com/tari-project/tari/pull/3217.patch", "merged_at": "2021-08-19T18:27:49Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- Connectivity retries connecting indefinitely, however previously if\r\n  this continuously fails and the user updates their peer, the new peer will not be\r\n  read until the previous peer was connected to. This PR fixes this.\r\n- Add protocl information to comms RPC logs\r\n- Cleanup peer state, making the wallet connectivity service the source\r\n  of truth for the base node peer\r\n- Adds an `Ack` flag to RPC protocol, this is not currently used but\r\n  could be implemented in the client side in future if required without\r\n  breaking the network (server supports it, we may choose in future to implement a client keep alive should it be needed,\r\n current server side impl easy and zero cost).\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nCritical bug fix \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nSwitching the console wallet base node peer a number of times\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3216", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3216/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3216/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3216/events", "html_url": "https://github.com/tari-project/tari/pull/3216", "id": 974629279, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1OTA1MzQ3", "number": 3216, "title": "Add extra logging detail for wiremode warnings", "user": {"login": "delta1", "id": 351403, "node_id": "MDQ6VXNlcjM1MTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/351403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delta1", "html_url": "https://github.com/delta1", "followers_url": "https://api.github.com/users/delta1/followers", "following_url": "https://api.github.com/users/delta1/following{/other_user}", "gists_url": "https://api.github.com/users/delta1/gists{/gist_id}", "starred_url": "https://api.github.com/users/delta1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delta1/subscriptions", "organizations_url": "https://api.github.com/users/delta1/orgs", "repos_url": "https://api.github.com/users/delta1/repos", "events_url": "https://api.github.com/users/delta1/events{/privacy}", "received_events_url": "https://api.github.com/users/delta1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-08-19T12:50:01Z", "updated_at": "2021-08-22T19:12:17Z", "closed_at": "2021-08-22T07:15:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3216", "html_url": "https://github.com/tari-project/tari/pull/3216", "diff_url": "https://github.com/tari-project/tari/pull/3216.diff", "patch_url": "https://github.com/tari-project/tari/pull/3216.patch", "merged_at": "2021-08-22T07:15:41Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nMinor log warning improvements for the case where a wire format byte is not received \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nAdding more log info for some observed warnings \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nReplaced existing base node and started syncing a new node successfully \r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3215", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3215/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3215/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3215/events", "html_url": "https://github.com/tari-project/tari/pull/3215", "id": 974539071, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1ODI4MzIw", "number": 3215, "title": "fix(wallet_ffi)add null check for `transport_type` in `create_comms_config` FFI function", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-19T10:58:27Z", "updated_at": "2021-08-19T15:40:52Z", "closed_at": "2021-08-19T15:40:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3215", "html_url": "https://github.com/tari-project/tari/pull/3215", "diff_url": "https://github.com/tari-project/tari/pull/3215.diff", "patch_url": "https://github.com/tari-project/tari/pull/3215.patch", "merged_at": "2021-08-19T15:40:52Z"}, "body": "## Description\r\nThe `transport_type` argument is not checked is it null before it is used in this method. This PR adds the check and appropriate error response.\r\n\r\n## How Has This Been Tested?\r\nNot tested\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3214", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3214/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3214/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3214/events", "html_url": "https://github.com/tari-project/tari/pull/3214", "id": 974504819, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1Nzk5NDE4", "number": 3214, "title": "fix(wallet_ffi): fix division by zero during recovery", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-19T10:16:58Z", "updated_at": "2021-08-25T05:38:42Z", "closed_at": "2021-08-19T16:19:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3214", "html_url": "https://github.com/tari-project/tari/pull/3214", "diff_url": "https://github.com/tari-project/tari/pull/3214.diff", "patch_url": "https://github.com/tari-project/tari/pull/3214.patch", "merged_at": "2021-08-19T16:19:27Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nFix division by zero for very short wallet recovery.\r\n\r\n## Motivation and Context\r\nI found this by accident developing the ffi wallet recovery cucumber test.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3213", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3213/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3213/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3213/events", "html_url": "https://github.com/tari-project/tari/pull/3213", "id": 974499250, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1Nzk0NDU2", "number": 3213, "title": "fix(wallet): add NodeId to console wallet Who Am I tab", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-19T10:10:37Z", "updated_at": "2021-08-19T16:59:53Z", "closed_at": "2021-08-19T16:59:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3213", "html_url": "https://github.com/tari-project/tari/pull/3213", "diff_url": "https://github.com/tari-project/tari/pull/3213.diff", "patch_url": "https://github.com/tari-project/tari/pull/3213.patch", "merged_at": "2021-08-19T16:59:53Z"}, "body": "## Description\r\nJust adds the console wallet\u2019s own NodeId to the Who am I tab in the console wallet.\r\n\r\n## How Has This Been Tested?\r\nManually tested\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3212", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3212/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3212/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3212/events", "html_url": "https://github.com/tari-project/tari/pull/3212", "id": 974446206, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1NzQ5NDgx", "number": 3212, "title": "test: Add integration test for ListHeaders", "user": {"login": "delta1", "id": 351403, "node_id": "MDQ6VXNlcjM1MTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/351403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delta1", "html_url": "https://github.com/delta1", "followers_url": "https://api.github.com/users/delta1/followers", "following_url": "https://api.github.com/users/delta1/following{/other_user}", "gists_url": "https://api.github.com/users/delta1/gists{/gist_id}", "starred_url": "https://api.github.com/users/delta1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delta1/subscriptions", "organizations_url": "https://api.github.com/users/delta1/orgs", "repos_url": "https://api.github.com/users/delta1/repos", "events_url": "https://api.github.com/users/delta1/events{/privacy}", "received_events_url": "https://api.github.com/users/delta1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-19T09:11:01Z", "updated_at": "2021-08-19T17:40:11Z", "closed_at": "2021-08-19T17:40:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3212", "html_url": "https://github.com/tari-project/tari/pull/3212", "diff_url": "https://github.com/tari-project/tari/pull/3212.diff", "patch_url": "https://github.com/tari-project/tari/pull/3212.patch", "merged_at": "2021-08-19T17:40:10Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds a simple integration test for checking the heights returned from ListHeaders gRPC \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nIncreased test coverage \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nIntegration test\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3210", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3210/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3210/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3210/events", "html_url": "https://github.com/tari-project/tari/pull/3210", "id": 973606493, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1MDI4MjUx", "number": 3210, "title": "ci: separate ffi tests into their own step", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-18T12:21:29Z", "updated_at": "2021-08-18T14:09:17Z", "closed_at": "2021-08-18T14:09:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3210", "html_url": "https://github.com/tari-project/tari/pull/3210", "diff_url": "https://github.com/tari-project/tari/pull/3210.diff", "patch_url": "https://github.com/tari-project/tari/pull/3210.patch", "merged_at": "2021-08-18T14:09:17Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3209", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3209/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3209/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3209/events", "html_url": "https://github.com/tari-project/tari/pull/3209", "id": 973539017, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0OTcwMjU5", "number": 3209, "title": "fix: correct regexp for recovery and sync tests", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-18T10:57:14Z", "updated_at": "2021-08-18T12:56:47Z", "closed_at": "2021-08-18T12:53:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3209", "html_url": "https://github.com/tari-project/tari/pull/3209", "diff_url": "https://github.com/tari-project/tari/pull/3209.diff", "patch_url": "https://github.com/tari-project/tari/pull/3209.patch", "merged_at": "2021-08-18T12:53:02Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nFix log regexes in sync and recovery tests.\r\nHandle some error cases correctly to allow these to be reported back \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nTests not reporting back\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTested locally, need to test on test server running cron\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3208", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3208/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3208/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3208/events", "html_url": "https://github.com/tari-project/tari/pull/3208", "id": 973343356, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0ODAyMzUw", "number": 3208, "title": "fix: improve p2p RPC robustness", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-18T07:02:16Z", "updated_at": "2021-08-18T12:43:25Z", "closed_at": "2021-08-18T12:43:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3208", "html_url": "https://github.com/tari-project/tari/pull/3208", "diff_url": "https://github.com/tari-project/tari/pull/3208.diff", "patch_url": "https://github.com/tari-project/tari/pull/3208.patch", "merged_at": "2021-08-18T12:43:11Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- Correctly handles edge case where the client can receive a response after\r\n  the deadline + grace period has expired due to extreme latency. \r\n- Minor code simplifications\r\n- Adds substream and RPC stress tests to comms\r\n- Increase client-side deadline grace period. This is needed because at\r\n  any point we could be transferring a lot of data, causing delays,\r\n  which the client must tolerate.\r\n- Minor performance optimisations (e.g removed usage of `.split()` which uses a BiLock)\r\n- Change `was marked as offline but was already offline` to debug message\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nPart of investigating RPC timeouts and RPC \"getting into a bad state\".\r\n\r\n**Summary**\r\n\r\nBasically what we're seeing is the limits of what the transport sockets (tor/tcp + noise + yamux) are able to provide.\r\nI believe that the amount of data transferred often during DHT peer exchange + wallet UTXO sync + messaging + whatever else results in large delays that result in timeouts. The delays can result in the server sending a response before the deadline and the client receiving the response after the deadline + grace period - so I've increased the grace period. IMO we need to look at how we can reduce data transmission, possible prime targets are UTXO sync and reducing the data usage of DHT network discovery (less peers transferred, less often, optimal set reconciliation etc). Other potential optimisations may exist in the noise protocol implementation and yamux.\r\n\r\n**Stress tests observations**\r\n\r\n- Streaming ~100Mb over a local connection, the server can take many seconds (1s-15s) to transmit the data when with some contention. There is nothing unexpected about this, however I set a 4 second timeout with 200ms grace period and some contention over the socket, and so was seeing timeouts that I erroneously did not expect.\r\n- ~~Reliability and performance appears better with many small messages than with fewer large payloads~~ \r\n- Performance is many times better in release mode, this is most likely because of the cryptography used in stream cipher of the noise protocol\r\n\r\n```\r\nrunning 1 test\r\n'quick' is running...\r\n'quick' completed in 0.01s\r\n'basic' is running...\r\n'basic' completed in 0.27s\r\n'many_small_messages' is running...\r\n'many_small_messages' completed in 1.69s\r\n'few_large_messages' is running...\r\n'few_large_messages' completed in 0.63s\r\n'payload_limit' is running...\r\n'payload_limit' completed in 3.15s\r\n'high_contention' is running...\r\n'high_contention' completed in 25.45s\r\n'high_concurrency' is running...\r\n'high_concurrency' completed in 41.70s\r\n'high_contention_high_concurrency' is running...\r\n'high_contention_high_concurrency' completed in 82.73s\r\ntest run ... ok\r\n```\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nStress tests test noise protocol + muxer + rpc performance\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3207", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3207/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3207/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3207/events", "html_url": "https://github.com/tari-project/tari/pull/3207", "id": 973090141, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0NTg3MjQ5", "number": 3207, "title": "test: add more wallet ffi testing", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-17T21:46:47Z", "updated_at": "2021-08-18T14:10:45Z", "closed_at": "2021-08-18T14:10:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3207", "html_url": "https://github.com/tari-project/tari/pull/3207", "diff_url": "https://github.com/tari-project/tari/pull/3207.diff", "patch_url": "https://github.com/tari-project/tari/pull/3207.patch", "merged_at": "2021-08-18T14:10:45Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nAdding more FFI test.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nThe ffi-napi is causing internal error (the pointers to the ffi functions gets invalidated) in nodejs when using the ffi destroy functions.\r\n_v8::internal::Isolate::ArchiveSpacePerThread+4719_\r\nThe async calls is solving this (at least it looks like it from the tests I made).\r\nThe WalletFFI.js is now generated (the python code is not part of this PR, because it's a mess right now).\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nnpm test -- .\\features\\WalletFFI.feature\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3207/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3206", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3206/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3206/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3206/events", "html_url": "https://github.com/tari-project/tari/pull/3206", "id": 972731504, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0Mjg0NDk3", "number": 3206, "title": "test: fix or remove ignored tests in pow_data.rs", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-17T14:08:33Z", "updated_at": "2021-08-18T12:08:02Z", "closed_at": "2021-08-18T12:08:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3206", "html_url": "https://github.com/tari-project/tari/pull/3206", "diff_url": "https://github.com/tari-project/tari/pull/3206.diff", "patch_url": "https://github.com/tari-project/tari/pull/3206.patch", "merged_at": "2021-08-18T12:08:01Z"}, "body": "## Description\r\nThis PR aimed to remove the ignore from the tests in pow_data.rs. These tests are failing tests so two of them that panicked with updated with the `should_panic` flag but the out of memory test aborts and cannot be handled in a test so it was removed.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3205", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3205/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3205/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3205/events", "html_url": "https://github.com/tari-project/tari/pull/3205", "id": 972698575, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0MjU2MjY3", "number": 3205, "title": "ci: build packages on GHA", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-17T13:35:28Z", "updated_at": "2021-08-17T16:21:25Z", "closed_at": "2021-08-17T16:11:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3205", "html_url": "https://github.com/tari-project/tari/pull/3205", "diff_url": "https://github.com/tari-project/tari/pull/3205.diff", "patch_url": "https://github.com/tari-project/tari/pull/3205.patch", "merged_at": "2021-08-17T16:11:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3204", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3204/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3204/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3204/events", "html_url": "https://github.com/tari-project/tari/pull/3204", "id": 972685001, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0MjQ0NDkw", "number": 3204, "title": "chore: fix dev after test merges", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2021-08-17T13:21:33Z", "updated_at": "2021-08-18T08:29:45Z", "closed_at": "2021-08-17T14:52:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3204", "html_url": "https://github.com/tari-project/tari/pull/3204", "diff_url": "https://github.com/tari-project/tari/pull/3204.diff", "patch_url": "https://github.com/tari-project/tari/pull/3204.patch", "merged_at": "2021-08-17T14:52:05Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis fixes the development branch of recent merges. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3203", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3203/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3203/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3203/events", "html_url": "https://github.com/tari-project/tari/pull/3203", "id": 972540693, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0MTE5MjUw", "number": 3203, "title": "Expose `get_mempool_stats` via gRPC and add cucumber test", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-17T10:32:41Z", "updated_at": "2021-08-18T12:03:26Z", "closed_at": "2021-08-18T12:03:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3203", "html_url": "https://github.com/tari-project/tari/pull/3203", "diff_url": "https://github.com/tari-project/tari/pull/3203.diff", "patch_url": "https://github.com/tari-project/tari/pull/3203.patch", "merged_at": "2021-08-18T12:03:26Z"}, "body": "## Description\r\nThis PR exposes the `get_mempool_stats` method via the base node gRPC interface. It also adds a cucumber test to add 5 transactions to the mempool and tests that the base node reports the correct stats.\r\n\r\n## How Has This Been Tested?\r\nCucumber test provided\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3202", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3202/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3202/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3202/events", "html_url": "https://github.com/tari-project/tari/pull/3202", "id": 972511840, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0MDk0MTky", "number": 3202, "title": "ci: Add libwallet iOS action and fix android action", "user": {"login": "delta1", "id": 351403, "node_id": "MDQ6VXNlcjM1MTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/351403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delta1", "html_url": "https://github.com/delta1", "followers_url": "https://api.github.com/users/delta1/followers", "following_url": "https://api.github.com/users/delta1/following{/other_user}", "gists_url": "https://api.github.com/users/delta1/gists{/gist_id}", "starred_url": "https://api.github.com/users/delta1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delta1/subscriptions", "organizations_url": "https://api.github.com/users/delta1/orgs", "repos_url": "https://api.github.com/users/delta1/repos", "events_url": "https://api.github.com/users/delta1/events{/privacy}", "received_events_url": "https://api.github.com/users/delta1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2021-08-17T09:59:24Z", "updated_at": "2021-08-18T12:16:03Z", "closed_at": "2021-08-18T11:59:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3202", "html_url": "https://github.com/tari-project/tari/pull/3202", "diff_url": "https://github.com/tari-project/tari/pull/3202.diff", "patch_url": "https://github.com/tari-project/tari/pull/3202.patch", "merged_at": "2021-08-18T11:59:49Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- Adds libwallet iOS library build to github actions\r\n- Fix libwallet android github action \r\n\r\nAlso commented out the backup seed nodes in the config example \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nAutomating manual work \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\nhttps://github.com/delta1/tari/actions/runs/1139408295\r\n\r\nHaven't tested the artifacts - hopefully one of the mobile devs can help out\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [ ] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3201", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3201/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3201/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3201/events", "html_url": "https://github.com/tari-project/tari/pull/3201", "id": 972358302, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzOTYzMjIx", "number": 3201, "title": "test: change RPC connection issues log status", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-17T06:49:30Z", "updated_at": "2021-08-25T08:49:39Z", "closed_at": "2021-08-17T09:53:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3201", "html_url": "https://github.com/tari-project/tari/pull/3201", "diff_url": "https://github.com/tari-project/tari/pull/3201.diff", "patch_url": "https://github.com/tari-project/tari/pull/3201.patch", "merged_at": "2021-08-17T09:53:57Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nNot all pertinent RPC connection issues were logged as warnings or errors. This PR changed some `debug` log messages to `warning`.\r\n\r\n## Motivation and Context\r\nSee above.\r\n\r\n## How Has This Been Tested?\r\nNIT - not tested locally.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3200", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3200/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3200/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3200/events", "html_url": "https://github.com/tari-project/tari/pull/3200", "id": 971676879, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzMzg0ODc2", "number": 3200, "title": "fix: fix console wallet buffer size bug", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-16T12:14:50Z", "updated_at": "2021-08-25T08:48:44Z", "closed_at": "2021-08-17T09:51:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3200", "html_url": "https://github.com/tari-project/tari/pull/3200", "diff_url": "https://github.com/tari-project/tari/pull/3200.diff", "patch_url": "https://github.com/tari-project/tari/pull/3200.patch", "merged_at": "2021-08-17T09:51:10Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nFixed a bug where the wrong configuration parameter was assigned to the console wallet buffer size.\r\n\r\n## Motivation and Context\r\nSee above\r\n\r\n## How Has This Been Tested?\r\nSystem-level test\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3199", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3199/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3199/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3199/events", "html_url": "https://github.com/tari-project/tari/pull/3199", "id": 971570691, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzMjkxMjI3", "number": 3199, "title": "feat: add sync rpc client pool to wallet connectivity", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-16T10:02:37Z", "updated_at": "2021-08-18T05:09:11Z", "closed_at": "2021-08-17T09:48:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3199", "html_url": "https://github.com/tari-project/tari/pull/3199", "diff_url": "https://github.com/tari-project/tari/pull/3199.diff", "patch_url": "https://github.com/tari-project/tari/pull/3199.patch", "merged_at": "2021-08-17T09:48:29Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- add sync pool and `obtain_base_node_sync_rpc_client`\r\n- add `get_header` to base node rpc\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nUseful in #3191 \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nExisting unit tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3198", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3198/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3198/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3198/events", "html_url": "https://github.com/tari-project/tari/pull/3198", "id": 971560246, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzMjgyMjE2", "number": 3198, "title": "[Docs] Update RFC to reflect unique kernel excess", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-16T09:49:42Z", "updated_at": "2021-08-17T11:55:52Z", "closed_at": "2021-08-17T09:43:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3198", "html_url": "https://github.com/tari-project/tari/pull/3198", "diff_url": "https://github.com/tari-project/tari/pull/3198.diff", "patch_url": "https://github.com/tari-project/tari/pull/3198.patch", "merged_at": "2021-08-17T09:43:42Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nCurrently, the code requires a unique kernel excess. This updates the RFC docs to reflect it. \r\nUpdate consensus RFC to mention unique commitment over UTXO set. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3197", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3197/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3197/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3197/events", "html_url": "https://github.com/tari-project/tari/pull/3197", "id": 971403021, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEzMTQ4NTIz", "number": 3197, "title": "Update docs with pooled SHA3 mining", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-16T06:14:56Z", "updated_at": "2021-08-17T09:33:04Z", "closed_at": "2021-08-17T09:33:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3197", "html_url": "https://github.com/tari-project/tari/pull/3197", "diff_url": "https://github.com/tari-project/tari/pull/3197.diff", "patch_url": "https://github.com/tari-project/tari/pull/3197.patch", "merged_at": "2021-08-17T09:33:04Z"}, "body": "## Description\r\nUpdate docs with pooled SHA3 mining\r\n\r\n## Motivation and Context\r\nDocumentation\r\n\r\n## How Has This Been Tested?\r\nN/A\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3196", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3196/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3196/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3196/events", "html_url": "https://github.com/tari-project/tari/pull/3196", "id": 971112655, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyOTIwMjQ0", "number": 3196, "title": "feat: use nodejs cron for dailies, improve washingmachine reporting", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-15T11:31:40Z", "updated_at": "2021-08-18T05:09:01Z", "closed_at": "2021-08-17T09:28:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3196", "html_url": "https://github.com/tari-project/tari/pull/3196", "diff_url": "https://github.com/tari-project/tari/pull/3196.diff", "patch_url": "https://github.com/tari-project/tari/pull/3196.patch", "merged_at": "2021-08-17T09:28:17Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- implement cron using `cron` nodejs library\r\n- move \"utils\" to \"daily_tests\"\r\n- daily_tests has its own dependencies and package.json\r\n- improve washing machine MM reporting\r\n- refactor dailies to allow them to be exported as modules\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nLinux cron did not allow/like process forking - using nodejs cron will make running and monitoring cron easier\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nDeployed and running\r\nScripts run locally\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3194", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3194/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3194/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3194/events", "html_url": "https://github.com/tari-project/tari/pull/3194", "id": 970390034, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyMzQ5NDgx", "number": 3194, "title": "Make `send_transaction` request handling async in transaction service", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-13T13:15:05Z", "updated_at": "2021-08-18T11:39:04Z", "closed_at": "2021-08-18T11:39:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3194", "html_url": "https://github.com/tari-project/tari/pull/3194", "diff_url": "https://github.com/tari-project/tari/pull/3194.diff", "patch_url": "https://github.com/tari-project/tari/pull/3194.patch", "merged_at": "2021-08-18T11:39:04Z"}, "body": "## Description\r\nIt was noted that under stress test the transaction service select! loop was blocking for longer than 500ms at times. This turned out to be during the send_transaction calls which did the initial transaction setup synchronously, this involves selecting UTXOs and building the initial transaction which with a large UTXO database can take time.\r\n\r\nIn order to reduce this impact the `handle_request(\u2026)`  function is changed in the transaction service. Instead of calling that function, waiting for a synchronous response and then sending the response down the reply one shot channel the one-shot channel is passed into the `handle_request(\u2026)` function. For the send_transaction case the intensive work is then moved into the asynchronous `transaction_send_protocol` task and the reply channel is also sent into that task. The task is spawned and runs asynchronously when the `handle_request` method can end and return to the select! loop. Once the task has completed the initial tranasction setup it can send the response to the service API caller via the reply channel.\r\n\r\nThis is only implemented in the asynchronous way for `send_transaction` in this PR, all the other API requests will still do their work synchronously and send the response over the reply channel but the infrastructure is now there to convert any one of those API calls to reply asynchronously if needed. At the moment the other API requests don\u2019t appear to take long enough to require this effort just yet.\r\n\r\n`transaction_sender_protocols` are indexed by their TxId so in order to start the task with the ID before building the initial transaction the tx_id is now generated in the Transaction Service. The Transaction Protocol builder is updated to allow an optional manual specification of the TxId.\r\n\r\n\r\n## How Has This Been Tested?\r\nExisting tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [ ] I'm merging against the `development` branch.\r\n* [ ] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3192", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3192/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3192/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3192/events", "html_url": "https://github.com/tari-project/tari/pull/3192", "id": 970201069, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyMTg1NDU4", "number": 3192, "title": "Remove old unused integration tests", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-13T08:56:19Z", "updated_at": "2021-08-17T11:56:05Z", "closed_at": "2021-08-17T09:21:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3192", "html_url": "https://github.com/tari-project/tari/pull/3192", "diff_url": "https://github.com/tari-project/tari/pull/3192.diff", "patch_url": "https://github.com/tari-project/tari/pull/3192.patch", "merged_at": "2021-08-17T09:21:57Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis PR removes a bunch of old unused integration tests. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nWe removed these tests because the helper function to make them function was getting too big and bloated and we could not keep updating them. All of these tests are covered in cucumber with much less mocking. All of these tests also require database access that we removed to make database access more secure. These are for example functions such as `spend_utxo` previously they were all exposed but they are now all internal LMDB functions and we only have access to functions such as add_block which will internally \"spend\" the utxos.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3190", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3190/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3190/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3190/events", "html_url": "https://github.com/tari-project/tari/pull/3190", "id": 969185856, "node_id": "MDExOlB1bGxSZXF1ZXN0NzExMjUwODI4", "number": 3190, "title": "test: add wallet reorg cucumber tests", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-12T16:53:37Z", "updated_at": "2021-10-14T05:12:13Z", "closed_at": "2021-08-17T09:20:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3190", "html_url": "https://github.com/tari-project/tari/pull/3190", "diff_url": "https://github.com/tari-project/tari/pull/3190.diff", "patch_url": "https://github.com/tari-project/tari/pull/3190.patch", "merged_at": "2021-08-17T09:20:35Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nAdded wallet reorg cucumber tests for coinbase and normal\r\ntransactions. These will be failing until wallets can\r\nhandle reorgs properly - failing steps have been commented\r\nout.\r\n\r\n## Motivation and Context\r\nSee description\r\n\r\n## How Has This Been Tested?\r\nCucumber integration tests.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3189", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3189/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3189/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3189/events", "html_url": "https://github.com/tari-project/tari/pull/3189", "id": 969052409, "node_id": "MDExOlB1bGxSZXF1ZXN0NzExMTI3MTEz", "number": 3189, "title": "Re_enable chain_balance_validator test", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-12T15:31:02Z", "updated_at": "2021-08-17T11:56:31Z", "closed_at": "2021-08-17T09:19:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3189", "html_url": "https://github.com/tari-project/tari/pull/3189", "diff_url": "https://github.com/tari-project/tari/pull/3189.diff", "patch_url": "https://github.com/tari-project/tari/pull/3189.patch", "merged_at": "2021-08-17T09:19:11Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis PR reintroduces the chain validator test.\r\nIt also removes some parts of the unit test like spending of UTXO's and spending of faucet UTXOs.  These are covered by the cucumber integration tests and we removed the original spending transactions from the database as they leaking instructions that should have been private. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3188", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3188/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3188/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3188/events", "html_url": "https://github.com/tari-project/tari/pull/3188", "id": 968479122, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEwNTkxNDY1", "number": 3188, "title": "Remove `test_harness` feature from wallet", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-12T09:51:24Z", "updated_at": "2021-08-18T11:31:54Z", "closed_at": "2021-08-18T11:31:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3188", "html_url": "https://github.com/tari-project/tari/pull/3188", "diff_url": "https://github.com/tari-project/tari/pull/3188.diff", "patch_url": "https://github.com/tari-project/tari/pull/3188.patch", "merged_at": "2021-08-18T11:31:54Z"}, "body": "## Description\r\nIn the early days of wallet development we didn\u2019t have a working base nodes or cucumber infrastructure for the Mobile Clients to be able to test transacting. The `test_harness` functionality in the wallet was created to allow wallet clients to generate test data. This is no longer used so this PR removes this code.\r\n\r\nThis code was also used to generate test data in the wallet_ffi integration test. There will soon be Cucumber infrastructure to test the FFI wrapper which is a far better way to perform this integration test so that huge test is removed from the FFI library.\r\n\r\n## How Has This Been Tested?\r\nExisting tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3187", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3187/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3187/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3187/events", "html_url": "https://github.com/tari-project/tari/pull/3187", "id": 968419955, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEwNTM2NTQz", "number": 3187, "title": "fix(mining_node): stratum miner speed fix", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-08-12T09:15:16Z", "updated_at": "2021-08-17T07:50:07Z", "closed_at": "2021-08-17T07:50:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3187", "html_url": "https://github.com/tari-project/tari/pull/3187", "diff_url": "https://github.com/tari-project/tari/pull/3187.diff", "patch_url": "https://github.com/tari-project/tari/pull/3187.patch", "merged_at": "2021-08-17T07:50:07Z"}, "body": "## Description\r\nRemoved call to thread::sleep accidentally left in while debugging a prior issue.\r\nAdded nonce to display for solution.\r\n\r\nThanks @hansieodendaal.\r\n\r\nMerge https://github.com/tari-project/tari/pull/3181 first.\r\n\r\n## Motivation and Context\r\nFixes mining speed per solver\r\n\r\n## How Has This Been Tested?\r\nManually\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3186", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3186/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3186/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3186/events", "html_url": "https://github.com/tari-project/tari/pull/3186", "id": 968252918, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEwMzgyNDc3", "number": 3186, "title": "fix: ensure peers are added to peer list before recovery starts", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-08-12T07:30:45Z", "updated_at": "2021-08-17T09:18:57Z", "closed_at": "2021-08-17T09:16:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3186", "html_url": "https://github.com/tari-project/tari/pull/3186", "diff_url": "https://github.com/tari-project/tari/pull/3186.diff", "patch_url": "https://github.com/tari-project/tari/pull/3186.patch", "merged_at": "2021-08-17T09:16:58Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds peers before recovery starts\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nRecovery tests fails `. Base node connection error to 6ff2c71b55a9c808480a0344d1 (retries 0 of 10: ConnectionFailed: Peer manager error: The requested peer does not exist)`\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nSuccessful recovery test\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3185", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3185/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3185/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3185/events", "html_url": "https://github.com/tari-project/tari/pull/3185", "id": 968207354, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEwMzM5ODM5", "number": 3185, "title": "feat(mining_node): mining worker name for tari_mining_node", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-12T06:59:44Z", "updated_at": "2021-08-12T12:59:30Z", "closed_at": "2021-08-12T12:59:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3185", "html_url": "https://github.com/tari-project/tari/pull/3185", "diff_url": "https://github.com/tari-project/tari/pull/3185.diff", "patch_url": "https://github.com/tari-project/tari/pull/3185.patch", "merged_at": "2021-08-12T12:59:30Z"}, "body": "## Description\r\nAdds optional field to config for tari_mining_node to allow the miner to be named when using the stratum configuration.\r\n\r\nUpdated successful server connection status from warn to info.\r\n\r\n## Motivation and Context\r\n\r\n\r\n## How Has This Been Tested?\r\nManually\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3184", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3184/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3184/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3184/events", "html_url": "https://github.com/tari-project/tari/pull/3184", "id": 968173804, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEwMzA4Mzcz", "number": 3184, "title": "chore(deps): bump jszip from 3.6.0 to 3.7.0 in /integration_tests", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-12T06:35:53Z", "updated_at": "2021-08-12T12:11:13Z", "closed_at": "2021-08-12T12:10:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3184", "html_url": "https://github.com/tari-project/tari/pull/3184", "diff_url": "https://github.com/tari-project/tari/pull/3184.diff", "patch_url": "https://github.com/tari-project/tari/pull/3184.patch", "merged_at": "2021-08-12T12:10:53Z"}, "body": "Bumps [jszip](https://github.com/Stuk/jszip) from 3.6.0 to 3.7.0.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/Stuk/jszip/blob/master/CHANGES.md\">jszip's changelog</a>.</em></p>\n<blockquote>\n<h3>v3.7.0 2021-07-23</h3>\n<ul>\n<li>Fix: Use a null prototype object for this.files  (see <a href=\"https://github-redirect.dependabot.com/Stuk/jszip/pull/766\">#766</a>)\n<ul>\n<li>This change might break existing code if it uses prototype methods on the <code>.files</code> property of a zip object, for example <code>zip.files.toString()</code>. This approach is taken to prevent files in the zip overriding object methods that would exist on a normal object.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/Stuk/jszip/commit/e5b3f0ddaa8182cd6ea253e97f678b9f36d0d8ac\"><code>e5b3f0d</code></a> 3.7.0</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/e88ba4b367a56ba0f87490c231682fa1beacbb19\"><code>e88ba4b</code></a> Update for version 3.7.0</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/90464873e370b691882faa28621f796cff6c0fbb\"><code>9046487</code></a> Disable proto assert that fails in browsers</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/6d029b44c02b9a55bcfa59fb217d158c695c574c\"><code>6d029b4</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Stuk/jszip/issues/766\">#766</a> from MichaelAquilina/fix/files-null-prototype</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/bb38812e1a3e93202aaba41465d41de382226d51\"><code>bb38812</code></a> Ensure prototype isn't modified by zip file</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/d024c22adbbf51d842acf8660e49d87a9f02ad1c\"><code>d024c22</code></a> test: Add test case for loading zip filenames which shadow method names</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/22357494f424178cb416cdb7d93b26dd4f824b36\"><code>2235749</code></a> fix: Use a null prototype object for this.files</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/b7f472d7770f541b29cba5edb56da4a555f5e5d2\"><code>b7f472d</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Stuk/jszip/issues/757\">#757</a>: Update license to be valid spdx identifier</li>\n<li><a href=\"https://github.com/Stuk/jszip/commit/a3110397c9d46379945e18f7669b99d238eb6d57\"><code>a311039</code></a> update license to be valid spdx identifier</li>\n<li>See full diff in <a href=\"https://github.com/Stuk/jszip/compare/v3.6.0...v3.7.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=jszip&package-manager=npm_and_yarn&previous-version=3.6.0&new-version=3.7.0)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tari-project/tari/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3183", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3183/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3183/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3183/events", "html_url": "https://github.com/tari-project/tari/pull/3183", "id": 966872853, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA5MDg0OTM2", "number": 3183, "title": "test: mark cucumber test as flaky", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-11T14:53:44Z", "updated_at": "2021-08-11T15:46:47Z", "closed_at": "2021-08-11T15:46:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3183", "html_url": "https://github.com/tari-project/tari/pull/3183", "diff_url": "https://github.com/tari-project/tari/pull/3183.diff", "patch_url": "https://github.com/tari-project/tari/pull/3183.patch", "merged_at": "2021-08-11T15:46:35Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3182", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3182/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3182/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3182/events", "html_url": "https://github.com/tari-project/tari/pull/3182", "id": 966556898, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA4Nzk0NDQ3", "number": 3182, "title": "Update log4rs for tari_stratum_transcoder", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-11T11:52:50Z", "updated_at": "2021-08-12T11:16:45Z", "closed_at": "2021-08-12T11:16:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3182", "html_url": "https://github.com/tari-project/tari/pull/3182", "diff_url": "https://github.com/tari-project/tari/pull/3182.diff", "patch_url": "https://github.com/tari-project/tari/pull/3182.patch", "merged_at": "2021-08-12T11:16:45Z"}, "body": "## Description\r\nUpdate log4rs for tari_stratum_transcoder\r\n\r\n## Motivation and Context\r\nSeparate tari_stratum_transcoder logs from tari_merge_mining_proxy  logs.\r\n\r\n## How Has This Been Tested?\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3181", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3181/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3181/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3181/events", "html_url": "https://github.com/tari-project/tari/pull/3181", "id": 965400042, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NzE1ODc4", "number": 3181, "title": "refactor: cleanup stratum config terminal output in tari_mining_node", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-10T21:14:59Z", "updated_at": "2021-08-17T07:48:01Z", "closed_at": "2021-08-17T07:48:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3181", "html_url": "https://github.com/tari-project/tari/pull/3181", "diff_url": "https://github.com/tari-project/tari/pull/3181.diff", "patch_url": "https://github.com/tari-project/tari/pull/3181.patch", "merged_at": "2021-08-17T07:48:01Z"}, "body": "## Description\r\nCleanup output when using stratum mode of tari_mining_node\r\n\r\n## Motivation and Context\r\nLess debug output to the terminal\r\n\r\n## How Has This Been Tested?\r\nManually\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3180", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3180/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3180/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3180/events", "html_url": "https://github.com/tari-project/tari/pull/3180", "id": 965359318, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3Njc5NTE0", "number": 3180, "title": "test: fix wallet CLI cucumber tests (child process exited with code 107)", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-10T20:34:09Z", "updated_at": "2021-08-12T06:38:50Z", "closed_at": "2021-08-12T06:35:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3180", "html_url": "https://github.com/tari-project/tari/pull/3180", "diff_url": "https://github.com/tari-project/tari/pull/3180.diff", "patch_url": "https://github.com/tari-project/tari/pull/3180.patch", "merged_at": "2021-08-12T06:35:03Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n1. When using the wallet CLI mode in cucumber integration tests, the wallet is not always in the correct state to send transactions, depending on the last known metadata status from the previously connected base node. This PR introduces exception handling for wallet CLI commands so that it will automatically retry to execute the command if it fails. _A follow-up PR should let the wallet wait for a base node connection before it executes certain commands._\r\n2. Added a new test step to explicitly test transaction statuses in the wallet.\r\n3. Fixed the UTXO scanning service so it would not go into an infinite loop trying to scan UTXOs if the blockchain does not have any UTXOs yet.\r\n4. Fixed an erroneous error return in the output manager service.\r\n\r\n## Motivation and Context\r\nCucumber tests involving wallet CLI commands were failing.\r\n\r\n## How Has This Been Tested?\r\nWallet CLI cucumber tests.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3179", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3179/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3179/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3179/events", "html_url": "https://github.com/tari-project/tari/pull/3179", "id": 965258066, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NTg5NzU4", "number": 3179, "title": "test: fix flaky unit test sending_transaction_and_confirmation", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-10T18:53:55Z", "updated_at": "2021-08-12T06:36:30Z", "closed_at": "2021-08-11T19:47:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3179", "html_url": "https://github.com/tari-project/tari/pull/3179", "diff_url": "https://github.com/tari-project/tari/pull/3179.diff", "patch_url": "https://github.com/tari-project/tari/pull/3179.patch", "merged_at": "2021-08-11T19:47:36Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThe unit test had 2 edge cases:\r\n\r\n1. When the transaction had no change, the master_key index should be 0 and not 1. \r\n2. Inside of the builder we had an edge case of one check being `>=` while the next check being `>` which resulted in the tx builder thinking it did not have enough funds\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3178", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3178/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3178/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3178/events", "html_url": "https://github.com/tari-project/tari/pull/3178", "id": 965142577, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NDkwMTAy", "number": 3178, "title": "feat: add network selection to wallet_ffi", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-10T16:58:40Z", "updated_at": "2021-08-17T07:42:33Z", "closed_at": "2021-08-17T07:42:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3178", "html_url": "https://github.com/tari-project/tari/pull/3178", "diff_url": "https://github.com/tari-project/tari/pull/3178.diff", "patch_url": "https://github.com/tari-project/tari/pull/3178.patch", "merged_at": "2021-08-17T07:42:33Z"}, "body": "## Description\r\nNetwork selection for mobile wallets \r\nNote: Breaking change for mobile wallets.\r\n\r\n## Motivation and Context\r\nNetwork selection for mobile wallets \r\n\r\n## How Has This Been Tested?\r\ncargo test\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3177", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3177/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3177/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3177/events", "html_url": "https://github.com/tari-project/tari/pull/3177", "id": 965101755, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NDU1ODA2", "number": 3177, "title": "fix: handle receiver cancelling an inbound transaction that is later received", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-10T16:01:41Z", "updated_at": "2021-08-17T09:15:36Z", "closed_at": "2021-08-17T09:15:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3177", "html_url": "https://github.com/tari-project/tari/pull/3177", "diff_url": "https://github.com/tari-project/tari/pull/3177.diff", "patch_url": "https://github.com/tari-project/tari/pull/3177.patch", "merged_at": "2021-08-17T09:15:35Z"}, "body": "## Description\r\nThis PR addresses the following scenario spotted by @sdbondi :\r\n\r\n- NodeA sends to nodeB(offline) \r\n- NodeA goes offline \r\n- NodeB receives tx, and cancels it (weird I know) \r\n- NodeA comes online and broadcasts the transaction \r\n- NodeB is not aware of the transaction, transaction complete for NodeA\r\n\r\nThis is handled by adding logic that if a FinalizedTransaction is received with no active Receive Protocols that the database is checked if there is a matching cancelled inbound transaction from the same pubkey. If there is the receiver might as well restart that protocol and accept the finalized transaction.\r\n\r\nThis required adding in functionality to the Transaction and Output Manager services to reinstate a cancelled inbound transaction\r\n\r\n## How Has This Been Tested?\r\nA cucumber test is provided to test this case.\r\n\r\nUnit tests provided for new functionality in the Output Manager and Transaction Services\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3176", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3176/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3176/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3176/events", "html_url": "https://github.com/tari-project/tari/pull/3176", "id": 965039373, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NDAzMzI3", "number": 3176, "title": "ci: use non-zero exit status when wallet recovery fails", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-10T14:23:55Z", "updated_at": "2021-08-12T18:37:19Z", "closed_at": "2021-08-12T06:36:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3176", "html_url": "https://github.com/tari-project/tari/pull/3176", "diff_url": "https://github.com/tari-project/tari/pull/3176.diff", "patch_url": "https://github.com/tari-project/tari/pull/3176.patch", "merged_at": "2021-08-12T06:36:54Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nNon-zero error code on failure and return more information about the error.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nAllow scripts to detect recovery failure\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nStill testing it....\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3175", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3175/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3175/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3175/events", "html_url": "https://github.com/tari-project/tari/pull/3175", "id": 964759385, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3MTY3NTU3", "number": 3175, "title": "ci: fix build binaries", "user": {"login": "stringhandler", "id": 4200336, "node_id": "MDQ6VXNlcjQyMDAzMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4200336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stringhandler", "html_url": "https://github.com/stringhandler", "followers_url": "https://api.github.com/users/stringhandler/followers", "following_url": "https://api.github.com/users/stringhandler/following{/other_user}", "gists_url": "https://api.github.com/users/stringhandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stringhandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stringhandler/subscriptions", "organizations_url": "https://api.github.com/users/stringhandler/orgs", "repos_url": "https://api.github.com/users/stringhandler/repos", "events_url": "https://api.github.com/users/stringhandler/events{/privacy}", "received_events_url": "https://api.github.com/users/stringhandler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-10T09:07:10Z", "updated_at": "2021-08-10T10:00:26Z", "closed_at": "2021-08-10T09:36:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3175", "html_url": "https://github.com/tari-project/tari/pull/3175", "diff_url": "https://github.com/tari-project/tari/pull/3175.diff", "patch_url": "https://github.com/tari-project/tari/pull/3175.patch", "merged_at": "2021-08-10T09:36:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3173", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3173/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3173/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3173/events", "html_url": "https://github.com/tari-project/tari/pull/3173", "id": 963968399, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NDk3MzIy", "number": 3173, "title": "fix: enforce unique commitments in utxo set", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-09T12:58:10Z", "updated_at": "2021-08-17T09:18:35Z", "closed_at": "2021-08-17T09:14:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3173", "html_url": "https://github.com/tari-project/tari/pull/3173", "diff_url": "https://github.com/tari-project/tari/pull/3173.diff", "patch_url": "https://github.com/tari-project/tari/pull/3173.patch", "merged_at": "2021-08-17T09:14:21Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds a unique commitment db index for the UTXO set as well as unique\r\ncommitment check in the block validator.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nPrevents the a consensus disagreement between pruned and unpruned nodes by\r\nreusing a commitment.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n- New unit test that tests adding a UTXO with the same commitment, but with different maturity to avoid a hash collision.\r\nAfter that UTXO is spent, the duplicate UTXO is allowed to be included in a block.\r\n- Archival sync \r\n- Pruned sync\r\n- Sent a number of transactions\r\n- Mined some blocks\r\n- `rewind-blockchain` command\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3169", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3169/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3169/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3169/events", "html_url": "https://github.com/tari-project/tari/pull/3169", "id": 962786265, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1NTI2MzA3", "number": 3169, "title": "test: fix flaky cucumber tests involving transactions", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-06T14:24:52Z", "updated_at": "2021-08-10T06:43:13Z", "closed_at": "2021-08-06T15:54:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3169", "html_url": "https://github.com/tari-project/tari/pull/3169", "diff_url": "https://github.com/tari-project/tari/pull/3169.diff", "patch_url": "https://github.com/tari-project/tari/pull/3169.patch", "merged_at": "2021-08-06T15:54:51Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nAdded exception handling to gRPC methods submitting transactions in cucumber integration test steps. Async timing is not always favourable to conclude a transaction; retrying a transaction if it returns an error is important for test robustness.\r\n\r\n## Motivation and Context\r\nSee above.\r\n\r\n## How Has This Been Tested?\r\nRunning cucumber tests locally\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3168", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3168/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3168/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3168/events", "html_url": "https://github.com/tari-project/tari/pull/3168", "id": 962734395, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1NDgyMTIz", "number": 3168, "title": "test: add wallet ffi testing", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-06T13:23:16Z", "updated_at": "2021-08-12T09:02:26Z", "closed_at": "2021-08-12T09:02:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3168", "html_url": "https://github.com/tari-project/tari/pull/3168", "diff_url": "https://github.com/tari-project/tari/pull/3168.diff", "patch_url": "https://github.com/tari-project/tari/pull/3168.patch", "merged_at": "2021-08-12T09:02:26Z"}, "body": "## Description\r\nAdd testing possibilities of wallet ffi.\r\nI've separated the logic of import of the dll into the WalletFFI.js. It's imports all the functions from the dll. But doesn't export (yet) all the javascript cover of these functions. My intentions is to export all the functions as a javascript regular functions to have nice code completion, parameter names etc. So anyone who import this doesn't have to do any ffi stuff.\r\n\r\nThe WalletFFIClient is responsible of holding the reference to ffi created wallet and calling functions on such wallet.\r\n\r\n## Motivation and Context\r\nI've added babel plugin, because the eslint doesn't support static/private methods/variables. \r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3167", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3167/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3167/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3167/events", "html_url": "https://github.com/tari-project/tari/pull/3167", "id": 962623209, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1Mzg1MzM1", "number": 3167, "title": "chore: update to cucumber test to use sydney seed monero url address", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-06T10:46:39Z", "updated_at": "2021-08-12T06:38:31Z", "closed_at": "2021-08-06T13:47:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3167", "html_url": "https://github.com/tari-project/tari/pull/3167", "diff_url": "https://github.com/tari-project/tari/pull/3167.diff", "patch_url": "https://github.com/tari-project/tari/pull/3167.patch", "merged_at": "2021-08-06T13:47:20Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nChanged the monero URL address used by the cucumber test from: `http://monero-stagenet.exan.tech:38081` to `http://3.104.4.129:18081/`\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [ ] I'm merging against the `development` branch.\r\n* [ ] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3166", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3166/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3166/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3166/events", "html_url": "https://github.com/tari-project/tari/pull/3166", "id": 962409167, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1MjAyNjE0", "number": 3166, "title": "test: fix two cucumber tests to be less flaky", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-06T05:25:30Z", "updated_at": "2021-08-06T09:01:26Z", "closed_at": "2021-08-06T08:24:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3166", "html_url": "https://github.com/tari-project/tari/pull/3166", "diff_url": "https://github.com/tari-project/tari/pull/3166.diff", "patch_url": "https://github.com/tari-project/tari/pull/3166.patch", "merged_at": "2021-08-06T08:24:48Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nFixed _\"Ramped Stress Test\"_ to be less flaky:\r\n- A \"FundsPending\" error returned from the coin split step will now be handled gracefully and not stop the test\r\n\r\nFixed _\"Wallet sending and receiving one-sided transactions\"_ to be less flaky:\r\n- Wallet A will monitor transactions to be at least broadcast when sending one-sided transactions to wallet B before mining will commence\r\n\r\n## Motivation and Context\r\nCucumber tests were flaky.\r\n\r\n## How Has This Been Tested?\r\nRunning the integration tests in question.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3165", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3165/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3165/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3165/events", "html_url": "https://github.com/tari-project/tari/pull/3165", "id": 962183001, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1MDExNjk3", "number": 3165, "title": "Washing Machine Update", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-05T20:46:39Z", "updated_at": "2021-08-12T06:58:30Z", "closed_at": "2021-08-12T06:58:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3165", "html_url": "https://github.com/tari-project/tari/pull/3165", "diff_url": "https://github.com/tari-project/tari/pull/3165.diff", "patch_url": "https://github.com/tari-project/tari/pull/3165.patch", "merged_at": "2021-08-12T06:58:30Z"}, "body": "## Description\r\nFixed network bug in walletProcess.\r\nFixed grpcPort bug in walletProcess for custom grpc address.\r\nUpdated network in washing machine.\r\nAdded routing mechanism.\r\nAdded excludeTestEnvrs.\r\nAdded notifications via web hook if url is supplied\r\n\r\n## Motivation and Context\r\n\r\n## How Has This Been Tested?\r\nManually\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3164", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3164/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3164/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3164/events", "html_url": "https://github.com/tari-project/tari/pull/3164", "id": 962093137, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA0OTM0MDY4", "number": 3164, "title": "fix: update handling of SAF message propagation and deletion", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-08-05T18:34:41Z", "updated_at": "2021-08-11T18:10:23Z", "closed_at": "2021-08-11T18:10:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3164", "html_url": "https://github.com/tari-project/tari/pull/3164", "diff_url": "https://github.com/tari-project/tari/pull/3164.diff", "patch_url": "https://github.com/tari-project/tari/pull/3164.patch", "merged_at": "2021-08-11T18:10:23Z"}, "body": "## Description\r\n\r\nThis PR adds two changes to the way SAF messages are handled to fix two subtle bugs spotted while developing cucumber tests.\r\n\r\nThe first issue was that when a Node propagates a SAF message it was storing to other nodes in its neighbourhood the broadcast strategy it was using only chose from currently connected base nodes. This meant that if the Node had an active connection to a Communication Client (wallet) it would not just directly send the SAF message to that client but to other base nodes in the network region. This meant that the wallet would only receive new SAF message when it actively requested them on connection even though it was directly connected to the node.\r\n\r\nThis PR adds a new broadcast strategy called `DirectOrClosestNodes` which will first check if the node has a direct active connection and if it does just send the SAF message directly to its destination.\r\n\r\nThe second issue was a subtle problem where when a node starts to send SAF messages to a destination it would remove the messages from the database based only on whether the outbound messages were put onto the outbound message pipeline. The problem occurs when the TCP connection to that peer is actually broken the sending of those messages would fail at the end of the pipeline but the SAF messages were already deleted from the database.\r\n\r\nThis PR changes the way SAF messages are deleted. When a client asks a node for SAF message it will also provide a timestamp of the most recent SAF message it has received. The Node will then send all SAF messages since that timestamp that it has for the node and will delete all SAF messages from before the specified Timestamp.  This serves as a form of Ack that the client has received the older messages at some point and they are no longer needed.\r\n\r\n## How Has This Been Tested?\r\nUnit tests have been updated to test this functionality.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3163", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3163/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3163/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3163/events", "html_url": "https://github.com/tari-project/tari/pull/3163", "id": 961958501, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA0ODIwODU3", "number": 3163, "title": "fix: improve prune mode to remove panics", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-08-05T15:44:08Z", "updated_at": "2021-08-12T06:38:11Z", "closed_at": "2021-08-10T15:14:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3163", "html_url": "https://github.com/tari-project/tari/pull/3163", "diff_url": "https://github.com/tari-project/tari/pull/3163.diff", "patch_url": "https://github.com/tari-project/tari/pull/3163.patch", "merged_at": "2021-08-10T15:14:57Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nWhen requesting pruned data on base_node, the node would panic as it tried to provide pruned data. \r\nRemoved this panic and changed requests for `TransactionOutputs` to `PrunedOutputs` so that callee functions can decide what to do with the data. \r\nFixed ignored pruned unit test. \r\nAdded in cucumber test to prove nodes cant sync from pruned nodes and neither panics. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3162", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3162/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3162/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3162/events", "html_url": "https://github.com/tari-project/tari/pull/3162", "id": 961690102, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA0NTg5MjQ5", "number": 3162, "title": "fix: ban peer when Merkle roots mismatch", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-05T10:42:02Z", "updated_at": "2021-08-08T06:18:43Z", "closed_at": "2021-08-06T20:39:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3162", "html_url": "https://github.com/tari-project/tari/pull/3162", "diff_url": "https://github.com/tari-project/tari/pull/3162.diff", "patch_url": "https://github.com/tari-project/tari/pull/3162.patch", "merged_at": "2021-08-06T20:39:05Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nBan peer if block validation fails during block body sync\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nWhen this error is encountered, the peer sent an invalid block body given the current header chain.  \r\n`DEBUG Block sync failed: Block validation failed: Block validation error: Mismatched MMR roots`\r\nThe node should ban the peer. Previously, the node would encounter this, then retry the same peer,\r\nrinse and repeat - preventing the node from syncing.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nNot explicitly tested - fairly basic change.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3161", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3161/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3161/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3161/events", "html_url": "https://github.com/tari-project/tari/pull/3161", "id": 960740708, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAzNzMzMDU2", "number": 3161, "title": "chore(deps): bump tar from 6.1.0 to 6.1.6 in /integration_tests", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-04T17:01:07Z", "updated_at": "2021-08-05T08:24:58Z", "closed_at": "2021-08-05T08:24:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3161", "html_url": "https://github.com/tari-project/tari/pull/3161", "diff_url": "https://github.com/tari-project/tari/pull/3161.diff", "patch_url": "https://github.com/tari-project/tari/pull/3161.patch", "merged_at": "2021-08-05T08:24:49Z"}, "body": "Bumps [tar](https://github.com/npm/node-tar) from 6.1.0 to 6.1.6.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/npm/node-tar/commit/9bc1729939eec1c822b528385b1cc513b9888835\"><code>9bc1729</code></a> 6.1.6</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/bdf4f5171340b890a62a5e578962ac143d34b3a9\"><code>bdf4f51</code></a> fix: properly prefix hard links</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/94b2a740115fdce20f265a029b0404d53c0a18c6\"><code>94b2a74</code></a> chore: remove benchmarks from git repo</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/ecaafb4777b7137421f2f0d6f40ab827654f9247\"><code>ecaafb4</code></a> update deps</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/bd4691c90478f41b2649a97048199e34927dc046\"><code>bd4691c</code></a> 6.1.5</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/d694c4f810d864badf223efa35d24a000d780179\"><code>d694c4f</code></a> ci: test on node 16</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/84acbd31288541100910a528e437f901f8012214\"><code>84acbd3</code></a> fix(unpack): fix hang on large file on open() fail</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/97c46fcee7e4e7849ea3432086c4537fb6197025\"><code>97c46fc</code></a> fix(unpack): always resume parsing after an entry error</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/488ab8c01de69379406d937419fa3e5550e651c0\"><code>488ab8c</code></a> chore: WriteEntry cleaner write() handling</li>\n<li><a href=\"https://github.com/npm/node-tar/commit/be89aafd95296e9721e124b77eee7c745e1c1e97\"><code>be89aaf</code></a> WriteEntry backpressure</li>\n<li>Additional commits viewable in <a href=\"https://github.com/npm/node-tar/compare/v6.1.0...v6.1.6\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=tar&package-manager=npm_and_yarn&previous-version=6.1.0&new-version=6.1.6)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/tari-project/tari/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3160", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3160/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3160/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3160/events", "html_url": "https://github.com/tari-project/tari/pull/3160", "id": 960411146, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAzNDM2NzAy", "number": 3160, "title": "fix: fix utxo scan edge case when pc awakes from sleep", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-08-04T13:00:12Z", "updated_at": "2021-08-06T12:25:53Z", "closed_at": "2021-08-06T11:00:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3160", "html_url": "https://github.com/tari-project/tari/pull/3160", "diff_url": "https://github.com/tari-project/tari/pull/3160.diff", "patch_url": "https://github.com/tari-project/tari/pull/3160.patch", "merged_at": "2021-08-06T11:00:00Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nThis PR fixes an issue where bottled up tokio interval events are fired successively for the edge case where a computer wakes up from sleep. This was evident in the UTXO scanning service where many UTXO scanning tasks would be started in parallel afterwards instead of only one.\r\n\r\nThe log extract below shows multiple tokio interval events being fired and negated by the code change. The computer was put to sleep just after a completed scan at 14:23:29 and woken again at ~14:39:47. UTXO scanning interval was set at 30s for this test.\r\n``` rust\r\n2021-08-04 14:22:59.183379600 [wallet::utxo_scanning] DEBUG UTXO scanning service starting scan for utxos\r\n2021-08-04 14:23:06.024966100 [wallet::utxo_scanning] DEBUG Attempting UTXO sync with seed peer 1 (3e38003060dc53370434610f6d)\r\n2021-08-04 14:23:29.413874600 [wallet::utxo_scanning] DEBUG Scanning UTXO's (start_index = 453682, output_mmr_size = 453683, height = 15284, tip_hash = 063ae608784253c0b320ae0cb019d32d56e448d0c97b2fd829cfb278277350a4)\r\n2021-08-04 14:23:29.413888000 [wallet::utxo_scanning] DEBUG Scanning complete UTXO #453682 in 2.75s\r\n2021-08-04 14:23:29.413899500 [wallet::utxo_scanning] DEBUG Scanned to UTXO #453682\r\n2021-08-04 14:39:47.605332800 [wallet::utxo_scanning] DEBUG UTXO scanning service starting scan for utxos\r\n2021-08-04 14:39:47.605355200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605369300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605384000 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605397500 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605411200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605424600 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605437700 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605450700 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605467300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605484300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605498300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605511200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605524600 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605538300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605551900 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605565300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605578700 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605592100 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605614900 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605628700 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605646300 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605661400 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605673600 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605685200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605697600 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605708800 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605722400 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605737700 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605751000 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605769200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605844200 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:39:47.605870300 [wallet::utxo_scanning] DEBUG Attempting UTXO sync with seed peer 1 (3e38003060dc53370434610f6d)\r\n2021-08-04 14:39:49.796532200 [wallet::utxo_scanning] WARN  Failed to scan UTXO's from base node 3e38003060dc53370434610f6d: RpcError: `Handshake error: Remote peer unexpectedly closed the RPC connection`\r\n2021-08-04 14:39:49.796562000 [wallet::utxo_scanning] DEBUG Attempting UTXO sync with seed peer 1 (3e38003060dc53370434610f6d)\r\n2021-08-04 14:39:59.177391000 [wallet::utxo_scanning] DEBUG UTXO scanning work interval event fired too quickly, not running the task\r\n2021-08-04 14:40:05.697376100 [wallet::utxo_scanning] DEBUG Scanning UTXO's (start_index = 453682, output_mmr_size = 453683, height = 15284, tip_hash = 063ae608784253c0b320ae0cb019d32d56e448d0c97b2fd829cfb278277350a4)\r\n2021-08-04 14:40:05.697387800 [wallet::utxo_scanning] DEBUG Scanning complete UTXO #453682 in 6.87s\r\n2021-08-04 14:40:05.697397600 [wallet::utxo_scanning] DEBUG Scanned to UTXO #453682\r\n2021-08-04 14:40:29.177122900 [wallet::utxo_scanning] DEBUG UTXO scanning service starting scan for utxos\r\n2021-08-04 14:40:29.177210000 [wallet::utxo_scanning] DEBUG Attempting UTXO sync with seed peer 1 (3e38003060dc53370434610f6d)\r\n2021-08-04 14:40:34.756283700 [wallet::utxo_scanning] DEBUG Scanning UTXO's (start_index = 453682, output_mmr_size = 453699, height = 15290, tip_hash = db71baa70ee60c78d8cfaec60c842dd502aa8c2d6d92bec24d76480961398baa)\r\n2021-08-04 14:40:34.756316700 [wallet::utxo_scanning] DEBUG Scanning UTXO's from #453682 to #453699 (height 15290)\r\n2021-08-04 14:40:36.548045400 [wallet::utxo_scanning] DEBUG Scanning round completed UTXO #453699 in 5.91s (17 scanned)\r\n2021-08-04 14:40:39.614574400 [wallet::utxo_scanning] DEBUG Scanning UTXO's (start_index = 453698, output_mmr_size = 453699, height = 15290, tip_hash = db71baa70ee60c78d8cfaec60c842dd502aa8c2d6d92bec24d76480961398baa)\r\n2021-08-04 14:40:39.614589700 [wallet::utxo_scanning] DEBUG Scanning complete UTXO #453698 in 8.97s\r\n2021-08-04 14:40:39.614600700 [wallet::utxo_scanning] DEBUG Scanned to UTXO #453698\r\n```\r\n\r\n## Motivation and Context\r\nThe code should behave in a predicted manner when waking from sleep.\r\n\r\n## How Has This Been Tested?\r\nSystem-level testing with a base node and a console wallet.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3159", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3159/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3159/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3159/events", "html_url": "https://github.com/tari-project/tari/pull/3159", "id": 960312414, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAzMzQ2NzY0", "number": 3159, "title": "feat: wallet connectivity service", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-04T11:43:34Z", "updated_at": "2021-08-10T12:05:15Z", "closed_at": "2021-08-10T11:06:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3159", "html_url": "https://github.com/tari-project/tari/pull/3159", "diff_url": "https://github.com/tari-project/tari/pull/3159.diff", "patch_url": "https://github.com/tari-project/tari/pull/3159.patch", "merged_at": "2021-08-10T11:06:51Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds a service responsible for wallet connectivity. This service\r\nis responsible for and abstracts any complexity in the management of\r\nthe base node connections and RPC session management.\r\n\r\nThis PR makes use of this service in the base node montoring service but\r\ndoes not \"plumb\" the WalletConenctivityService into the protocols. This\r\nis left as a TODO, but we should expect this to remove many lines of\r\ncode and greaty simplify these protocols by removing the budren of\r\nconnection management in the various wallet components.\r\n\r\nA number of simplifications on the peer connection and substream code,\r\ndebatably reducing places that bugs could hide.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nFollow on from #3152, making use of the pool in the wallet base node monitoring. The rest of the protocols should follow. \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nExtensive service unit tests\r\nExisting tests pass\r\n\r\nWashing machine test on local wallet, with the broadcast protocol modified to use the wallet connectivity \r\nBase node RPC sessions max out at 10 each (2 wallets connected to same base node) even when pushing through 426 transactions.\r\n![image](https://user-images.githubusercontent.com/1057902/128175630-52617736-f71f-4865-a915-6d6c9b00e8d5.png)\r\n\r\nManually tested wallet connectivity states (Connecting -> Online | Connecting -> Offline | Connecting -> Online -> Offline -> Connecting -> Online)\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3159/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3158", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3158/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3158/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3158/events", "html_url": "https://github.com/tari-project/tari/pull/3158", "id": 960277262, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAzMzE0Mzc1", "number": 3158, "title": "refactor: stratum transcoder config cleanup", "user": {"login": "StriderDM", "id": 51991544, "node_id": "MDQ6VXNlcjUxOTkxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/51991544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StriderDM", "html_url": "https://github.com/StriderDM", "followers_url": "https://api.github.com/users/StriderDM/followers", "following_url": "https://api.github.com/users/StriderDM/following{/other_user}", "gists_url": "https://api.github.com/users/StriderDM/gists{/gist_id}", "starred_url": "https://api.github.com/users/StriderDM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StriderDM/subscriptions", "organizations_url": "https://api.github.com/users/StriderDM/orgs", "repos_url": "https://api.github.com/users/StriderDM/repos", "events_url": "https://api.github.com/users/StriderDM/events{/privacy}", "received_events_url": "https://api.github.com/users/StriderDM/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-04T11:16:51Z", "updated_at": "2021-08-04T19:47:38Z", "closed_at": "2021-08-04T19:47:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3158", "html_url": "https://github.com/tari-project/tari/pull/3158", "diff_url": "https://github.com/tari-project/tari/pull/3158.diff", "patch_url": "https://github.com/tari-project/tari/pull/3158.patch", "merged_at": "2021-08-04T19:47:38Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nMoved stratum_transcoder config variables to its' own section.\r\nFixed bug in defaults for stratum_transcoder.\r\nUpdated example config and cucumber variable to reflect changes in configuration.\r\nAdded stratum mode configuration variables for tari_mining_node in sample config, commented out by default.\r\n\r\n## Motivation and Context\r\nCleanup and bugfix\r\n\r\n## How Has This Been Tested?\r\nManual testing\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3157", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3157/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3157/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3157/events", "html_url": "https://github.com/tari-project/tari/pull/3157", "id": 959224265, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyMzcyMTM3", "number": 3157, "title": "fix: fix search_kernel command", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-03T15:15:21Z", "updated_at": "2021-08-12T06:38:41Z", "closed_at": "2021-08-05T00:05:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3157", "html_url": "https://github.com/tari-project/tari/pull/3157", "diff_url": "https://github.com/tari-project/tari/pull/3157.diff", "patch_url": "https://github.com/tari-project/tari/pull/3157.patch", "merged_at": "2021-08-05T00:05:08Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThe search-kernel command in the base_node UI currently returns either an error, none or the block containing said kernel. \r\nThe UI interprets a None as a successful command, but the block could not be found due to it being a pruned block. This is incorrect, as the returned block is always a `historical block`. `Historical blocks` can have pruned outputs in them. So when a block is pruned, the base_node will return the block with the information it can fill in, plus all pruned outputs. \r\n\r\nWhen a kernel is not found in the chain, the search commands returns Ok(None) and the UI now interprets this correctly as the kernel is not found. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3157/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3156", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3156/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3156/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3156/events", "html_url": "https://github.com/tari-project/tari/pull/3156", "id": 959135103, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyMjk2ODQ2", "number": 3156, "title": "test: improve cucumber reliability of Massive multiple reorg test", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-08-03T13:46:31Z", "updated_at": "2021-08-12T06:37:59Z", "closed_at": "2021-08-10T14:03:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3156", "html_url": "https://github.com/tari-project/tari/pull/3156", "diff_url": "https://github.com/tari-project/tari/pull/3156.diff", "patch_url": "https://github.com/tari-project/tari/pull/3156.patch", "merged_at": "2021-08-10T14:03:16Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nFound that the test: Massive multiple reorg failed because the block height of 5 had an equal difficulty of one of height 10. https://35459-136459099-gh.circle-artifacts.com/0/integration_tests/temp/reports/cucumber_report.html\r\nSimplified the test somewhat. \r\nChanged it to ensure that we would always end up with a single chain. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3155", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3155/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3155/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3155/events", "html_url": "https://github.com/tari-project/tari/pull/3155", "id": 959078804, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyMjQ4MTc3", "number": 3155, "title": "docs: added links to mobile wallets' repos", "user": {"login": "mongolsteppe", "id": 75075420, "node_id": "MDQ6VXNlcjc1MDc1NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/75075420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mongolsteppe", "html_url": "https://github.com/mongolsteppe", "followers_url": "https://api.github.com/users/mongolsteppe/followers", "following_url": "https://api.github.com/users/mongolsteppe/following{/other_user}", "gists_url": "https://api.github.com/users/mongolsteppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/mongolsteppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mongolsteppe/subscriptions", "organizations_url": "https://api.github.com/users/mongolsteppe/orgs", "repos_url": "https://api.github.com/users/mongolsteppe/repos", "events_url": "https://api.github.com/users/mongolsteppe/events{/privacy}", "received_events_url": "https://api.github.com/users/mongolsteppe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-03T12:44:08Z", "updated_at": "2021-08-05T08:35:44Z", "closed_at": "2021-08-05T08:35:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3155", "html_url": "https://github.com/tari-project/tari/pull/3155", "diff_url": "https://github.com/tari-project/tari/pull/3155.diff", "patch_url": "https://github.com/tari-project/tari/pull/3155.patch", "merged_at": "2021-08-05T08:35:44Z"}, "body": "## Description\r\nSee title\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3155/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3153", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3153/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3153/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3153/events", "html_url": "https://github.com/tari-project/tari/pull/3153", "id": 958270667, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxNTc1MTcy", "number": 3153, "title": "test: improve Verify all coinbases in hybrid mining are accounted for cucumber test", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-02T15:41:18Z", "updated_at": "2021-08-12T06:39:14Z", "closed_at": "2021-08-04T17:00:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3153", "html_url": "https://github.com/tari-project/tari/pull/3153", "diff_url": "https://github.com/tari-project/tari/pull/3153.diff", "patch_url": "https://github.com/tari-project/tari/pull/3153.patch", "merged_at": "2021-08-04T17:00:32Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nImprove the `Verify all coinbases in hybrid mining are accounted for` to be less flaky.\r\nImproved the readability of the test. \r\nMade the following improvements:\r\nEnsure that the monero merge mining does not mine more blocks than it should.\r\nRather than check if they are at the same height, check tips.\r\nDue to the network topology, added a wait timer to ensure that the nodes have time to reorg and give the wallets time to invalidate coinbases.\r\n\r\nAdded in another improvement to the coinbase value selection. \r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3153/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3152", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3152/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3152/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3152/events", "html_url": "https://github.com/tari-project/tari/pull/3152", "id": 957492789, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwOTA5Mzk2", "number": 3152, "title": "feat: add a shared p2p rpc client session pool to reduce rpc setup time", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-08-01T13:27:37Z", "updated_at": "2021-08-08T06:18:36Z", "closed_at": "2021-08-07T15:30:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3152", "html_url": "https://github.com/tari-project/tari/pull/3152", "diff_url": "https://github.com/tari-project/tari/pull/3152.diff", "patch_url": "https://github.com/tari-project/tari/pull/3152.patch", "merged_at": "2021-08-07T15:30:53Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdds an RPC client session pool to efficiently maintain multiple shared\r\nRPC sessions on the p2p network.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nWallet currently establishes one or more RPC sessions per transaction. At times, during stress tests these\r\nsessions are opened and closed many times. Each time an RPC sessions is established, protocol negotiation \r\nand RPC handshakes must occur. These components can make use of the shared RPC client pool \r\nto more efficiently and easily manage multiple sessions without creating situations where the target peer is\r\nthrashed with 10s of thousands of sessions in a stress test situation.   \r\n\r\nImplementing this in the wallet is TODO.\r\n\r\nSome RPC test utilities were moved around to make them useful to other tests, which has added some LOC\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nExtensive unit tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [ ] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3152/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3151", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3151/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3151/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3151/events", "html_url": "https://github.com/tari-project/tari/pull/3151", "id": 956797473, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwMzM3NDMy", "number": 3151, "title": "fix(wallet): correctly deal with new coinbase transactions for the same height", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-30T14:28:20Z", "updated_at": "2021-08-04T12:43:53Z", "closed_at": "2021-08-04T12:43:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3151", "html_url": "https://github.com/tari-project/tari/pull/3151", "diff_url": "https://github.com/tari-project/tari/pull/3151.diff", "patch_url": "https://github.com/tari-project/tari/pull/3151.patch", "merged_at": "2021-08-04T12:43:53Z"}, "body": "## Description\r\nA bug was observed that now and then a Coinbase Transaction would not conclude its monitoring with this error:\r\n`ValueNotFound(CompletedTransaction(15645503741743694020))`\r\n\r\nThis occurred when due to a small network reorg the miner would request a block for the same height. The new request would often have a different amount of fees which would mean this transaction needs to be cancelled in favour of the new transaction. However, with the transaction being cancelled the coinbase monitoring task will come around to checking the DB if the transaction is still there so it can continue to poll the base node and will get the ValueNotFound error. This is correct behaviour so should not have been logged as an error. The error case also means that the TransactionCancelled event is never fired which resulted in the console wallet UI not updating the state of that transaction which left it in the transaction list erroneous.\r\n\r\nSo this PR handles that \u201cError\u201d properly and sends the event before ending the coinbase monitoring task.\r\n\r\n## How Has This Been Tested?\r\nunit tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3150", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3150/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3150/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3150/events", "html_url": "https://github.com/tari-project/tari/pull/3150", "id": 956778311, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwMzIxMDY1", "number": 3150, "title": "fix: set robust limits for a busy blockchain", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-07-30T14:06:45Z", "updated_at": "2021-08-12T06:52:05Z", "closed_at": "2021-08-12T06:46:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3150", "html_url": "https://github.com/tari-project/tari/pull/3150", "diff_url": "https://github.com/tari-project/tari/pull/3150.diff", "patch_url": "https://github.com/tari-project/tari/pull/3150.patch", "merged_at": "2021-08-12T06:46:44Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\nUpdated limits for the base node and wallet that would be robust for a busy blockchain - this was simulated with two sizeable stress tests of 15,000 transactions each, using 3 sender wallets to 3 receiver wallets, with 5,000 to between each wallet pair. Both tests returned a 100% mined as confirmed success ratio. These tests also utilized the new persistent dedup message cache.\r\n\r\nThe following previous stress test issues were addressed with this PR:\r\n- Mempool view was considerably different between base nodes.\r\n- Communications were breaking down on some base nodes with this huge amount of messages.\r\n- Lots of message flood banning were taking place.\r\n- Excessive numbers of SAF messages were being sent for the same transaction.\r\n- Base node not responding after sync request failed.\r\n- Console wallet broadcast status was not being updated correctly with many (thousands) transactions present.\r\n\r\nThe wallet **edit:**_transaction_ event broadcast channel was made configurable due to an increase from 200 to 5,500 not being enough as shown by the results below. (The mobile wallet can use the default or its own config settings for memory preservation.)\r\n\r\n| Event                        | Received | Missed |\r\n|------------------------------|----------|--------|\r\n| ReceivedTransaction          | 943      | 4060   |\r\n| ReceivedFinalizedTransaction | 1958     | 3045   |\r\n| TransactionBroadcast         | 1961     | 3042   |\r\n| TransactionMinedUnconfirmed  | 2013     | 2990   |\r\n| TransactionMined             | 2059     | 2944   |\r\n\r\n| Totals             | Value |\r\n|--------------------|-------|\r\n| Transactions mined | 5003  |\r\n| Events missed      | 16081 |\r\n| Lagging reads      | 800   |\r\n| Events not fired   | 15281 |\r\n\r\n## Motivation and Context\r\nSee above\r\n\r\n## How Has This Been Tested?\r\nSystem-level stress tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3149", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3149/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3149/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3149/events", "html_url": "https://github.com/tari-project/tari/pull/3149", "id": 956570172, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwMTQzNDM0", "number": 3149, "title": "fix(wallet): fix resize panic", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-30T09:23:32Z", "updated_at": "2021-08-10T11:37:53Z", "closed_at": "2021-08-09T11:35:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3149", "html_url": "https://github.com/tari-project/tari/pull/3149", "diff_url": "https://github.com/tari-project/tari/pull/3149.diff", "patch_url": "https://github.com/tari-project/tari/pull/3149.patch", "merged_at": "2021-08-09T11:35:25Z"}, "body": "## Description\r\nFixes the panic during resize.\r\n\r\n## How Has This Been Tested?\r\nManually, and also added a cargo test.\r\n\r\n## Checklist:\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3148", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3148/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3148/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3148/events", "html_url": "https://github.com/tari-project/tari/pull/3148", "id": 956420462, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwMDE5MzQy", "number": 3148, "title": "fix(wallet): block certain keys during popup", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 44, "created_at": "2021-07-30T05:37:39Z", "updated_at": "2021-08-25T05:38:48Z", "closed_at": "2021-08-05T08:40:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3148", "html_url": "https://github.com/tari-project/tari/pull/3148", "diff_url": "https://github.com/tari-project/tari/pull/3148.diff", "patch_url": "https://github.com/tari-project/tari/pull/3148.patch", "merged_at": "2021-08-05T08:40:04Z"}, "body": "## Description\r\nTransaction tab:\r\n- Block keys until you resolve (y)es/(n)o pop-up windows. \r\n- Esc now closes the pop-up for canceling pending transaction.\r\n\r\nSend tab:\r\n- Block keys in send tab until you confirm the pop-up window.\r\n\r\n## Motivation and Context\r\nThere was a weird behavior, e.g. you press cancel on pending tx1, move to tx2 and press (y)es, and it delete the tx2.\r\n\r\n## How Has This Been Tested?\r\nManually.\r\n\r\n## Checklist:\r\n[x] I'm merging against the `development` branch.\r\n[x] I have squashed my commits into a single commit.", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3148/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3147", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3147/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3147/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3147/events", "html_url": "https://github.com/tari-project/tari/pull/3147", "id": 955904610, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5NTg1OTM1", "number": 3147, "title": "fix: fix cucumber transaction builder reliability", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-29T14:30:36Z", "updated_at": "2021-08-12T06:39:43Z", "closed_at": "2021-07-29T17:13:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3147", "html_url": "https://github.com/tari-project/tari/pull/3147", "diff_url": "https://github.com/tari-project/tari/pull/3147.diff", "patch_url": "https://github.com/tari-project/tari/pull/3147.patch", "merged_at": "2021-07-29T17:13:06Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nWe sometimes find that transactions created by the cucumber transaction builder fail lmdb insertion by duplicate excess. \r\nThis increases the private key range for the private keys increasing the range of the excess. This should decrease duplicate entries. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3146", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3146/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3146/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3146/events", "html_url": "https://github.com/tari-project/tari/pull/3146", "id": 955820699, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5NTE0MTAw", "number": 3146, "title": "fix: introduce cache update cool down to console wallet", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-29T13:03:02Z", "updated_at": "2021-08-04T11:27:41Z", "closed_at": "2021-08-04T11:27:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3146", "html_url": "https://github.com/tari-project/tari/pull/3146", "diff_url": "https://github.com/tari-project/tari/pull/3146.diff", "patch_url": "https://github.com/tari-project/tari/pull/3146.patch", "merged_at": "2021-08-04T11:27:41Z"}, "body": "## Description\r\nThe current architecture of the wallet is that the AppState contains a cache of the current state that the UI uses to draw from and a second instance of the data that is updated in the background when events are received from the wallet services without interfering with drawing. When the background data has been updated by the event monitoring thread it flips a flag telling the UI that the cache has been invalidated so when the drawing is done on a Tick event the UI thread will clone the background data into the cache for future drawing calls.\r\n\r\nA problem was found where when a large number of transactions were being processed by the wallet the UI would become unresponsive. The reason for this is that with a large amount of transactions there is quite a lot of AppState that is copied from the background into the UI cache which could take 300-400ms and this cache was being invalidated very often as the transactions are being handled by the wallet services. This would mean that a Cache copy occurred after every single draw cycle and would block the processing of Key events for 300-400ms.\r\n\r\nThis PR proposes a solution of introducing a cache update cooldown period, initially set to 2 seconds, so that if a cache update has occurred the soonest that the next update can occur is 2 seconds later giving the UI thread time to handle key events. In normal wallet operation state update events do not occur that often so this approach will allow the cache update to occur as soon as the cache is invalidated but will force a fast subsequent update to wait at least 2 seconds. In the mean time the background data can be worked on in the background thread.\r\n\r\n## How Has This Been Tested?\r\nManually Tested\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3146/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3145", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3145/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3145/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3145/events", "html_url": "https://github.com/tari-project/tari/pull/3145", "id": 955687816, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5NDAwNDcw", "number": 3145, "title": "fix: fix GRPC GetTransactionInfo not found response", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-07-29T10:18:32Z", "updated_at": "2021-08-12T06:39:35Z", "closed_at": "2021-07-29T20:20:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3145", "html_url": "https://github.com/tari-project/tari/pull/3145", "diff_url": "https://github.com/tari-project/tari/pull/3145.diff", "patch_url": "https://github.com/tari-project/tari/pull/3145.patch", "merged_at": "2021-07-29T20:20:55Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nWhen a transaction is not found on `GetTransactionInfo` the GRPC call will return a transaction with \"junk\" data including a status that is set to complete. But the not_found flag is set to false, which is also the default GRPC value for boolean. \r\n\r\nThis removes the `not_found` flag and adds a status, `not found` to avoid confusion. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3145/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3144", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3144/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3144/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3144/events", "html_url": "https://github.com/tari-project/tari/pull/3144", "id": 955118163, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4OTE0MTI3", "number": 3144, "title": "test: cucumber for all wallet commands", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-07-28T18:13:02Z", "updated_at": "2021-08-10T11:37:31Z", "closed_at": "2021-08-07T13:11:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3144", "html_url": "https://github.com/tari-project/tari/pull/3144", "diff_url": "https://github.com/tari-project/tari/pull/3144.diff", "patch_url": "https://github.com/tari-project/tari/pull/3144.patch", "merged_at": "2021-08-07T13:11:31Z"}, "body": "## Description\r\nIntegration test for wallet commands. It doesn't cover all possible scenarios, but it does cover every command.", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3144/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3143", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3143/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3143/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3143/events", "html_url": "https://github.com/tari-project/tari/pull/3143", "id": 954748879, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4NTk1MjI0", "number": 3143, "title": "fix: add timeout to protocol notifications + log improvements ", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2021-07-28T11:16:36Z", "updated_at": "2021-08-04T04:48:56Z", "closed_at": "2021-08-03T09:13:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3143", "html_url": "https://github.com/tari-project/tari/pull/3143", "diff_url": "https://github.com/tari-project/tari/pull/3143.diff", "patch_url": "https://github.com/tari-project/tari/pull/3143.patch", "merged_at": "2021-08-03T09:13:02Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- protocol notifications now have a set \"safety\" timeout.\r\n- add log for inbound comms pipeline concurrency usage\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nReports of inbound messaging being blocked. This will shed some light.\r\nThe logs show that a single client node is excessively trying to create multiple \r\n`t/bn-wallet//1` (rpc) sessions. \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nLog observed in base node\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3143/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3142", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3142/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3142/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3142/events", "html_url": "https://github.com/tari-project/tari/pull/3142", "id": 954563814, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4NDM4MzI1", "number": 3142, "title": "fix: Update LibWallet recovery task event handling", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-07-28T07:29:30Z", "updated_at": "2021-07-28T16:48:39Z", "closed_at": "2021-07-28T16:48:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3142", "html_url": "https://github.com/tari-project/tari/pull/3142", "diff_url": "https://github.com/tari-project/tari/pull/3142.diff", "patch_url": "https://github.com/tari-project/tari/pull/3142.patch", "merged_at": "2021-07-28T16:48:38Z"}, "body": "## Description\r\nThe recovery task broke out of its monitoring loop before getting the `UtxoScannerEvent::Completed` event. This PR just moves that break statement so that the final completed callback is made.\r\n\r\n## How Has This Been Tested?\r\nWallet clients will need to test this\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3141", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3141/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3141/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3141/events", "html_url": "https://github.com/tari-project/tari/pull/3141", "id": 954110157, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MDU0ODQ3", "number": 3141, "title": "fix: improve reliability of get block template protocol in mm proxy", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-27T17:33:34Z", "updated_at": "2021-07-28T09:20:20Z", "closed_at": "2021-07-28T09:20:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3141", "html_url": "https://github.com/tari-project/tari/pull/3141", "diff_url": "https://github.com/tari-project/tari/pull/3141.diff", "patch_url": "https://github.com/tari-project/tari/pull/3141.patch", "merged_at": "2021-07-28T09:20:06Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThe main change here is to check the tip height after retrieving the\r\nblock template but before MMR roots are calculated. When mining quickly\r\nin cucumber tests, this race condition occurs. Previously, this would be\r\nok, the miner would simply mine 1 behind the current tip height. But\r\nbecause we can no longer calculate MMRs prior to the tip, this MMR call\r\n(`get_new_block`) now returns an error, which fails cucumber.\r\n\r\n`get_new_block` now returns a `FailedPrecondition` GRPC error status in the event\r\nthat the block template submitted is not for the current chain tip. This allows\r\nclients to more easily identify this case, typically by asking for a new template. \r\n\r\nThis refactor was performed because the protocol was gaining too much\r\ncomplexity to exist in a single function.\r\n\r\nSome extra changes to get all cucumbers to pass:\r\n- Replace `--daemon` flags with `--non-interactive` \r\n- Used more 'tolerant' step for `As a user I want to change base node for a wallet` scenario\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nThe `Verify all coinbases in hybrid mining are accounted for` cucumber test is flakey\r\ndue to change in semantics for get_new_block since #3109. The possibility of this occurring \r\nwith normal difficulties is usually tiny, but may be a symptom of a slow get_coinbase request. \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nMerge mined on local machine\r\n`Verify all coinbases in hybrid mining are accounted for` passes\r\nSuggest that we run tests with monero pool and nodejs pool\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3140", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3140/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3140/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3140/events", "html_url": "https://github.com/tari-project/tari/pull/3140", "id": 953996561, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3OTU4Mzc1", "number": 3140, "title": "test: test wallet view all transactions", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-27T15:19:57Z", "updated_at": "2021-07-28T06:54:41Z", "closed_at": "2021-07-27T17:49:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3140", "html_url": "https://github.com/tari-project/tari/pull/3140", "diff_url": "https://github.com/tari-project/tari/pull/3140.diff", "patch_url": "https://github.com/tari-project/tari/pull/3140.patch", "merged_at": "2021-07-27T17:49:53Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis adds a small test to prove that the user can view all transactions the wallet has made and that this does not change after a restart.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3140/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3139", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3139/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3139/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3139/events", "html_url": "https://github.com/tari-project/tari/pull/3139", "id": 953969293, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3OTM1NjE4", "number": 3139, "title": "fix: update LibWallet `wallet_import_utxo` method to include valid TariScript", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-27T14:53:27Z", "updated_at": "2021-07-29T09:02:39Z", "closed_at": "2021-07-29T09:02:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3139", "html_url": "https://github.com/tari-project/tari/pull/3139", "diff_url": "https://github.com/tari-project/tari/pull/3139.diff", "patch_url": "https://github.com/tari-project/tari/pull/3139.patch", "merged_at": "2021-07-29T09:02:39Z"}, "body": "## Description\r\nThe `wallet_import_utxo` FFI function in LibWallet just used defaults for a number of the new UTXO fields when importing a faucet UTXO. The Faucet UTXO provided by the client is just the spending key and amount. The `metadata_signature` and `sender_offset_public_key` can both remain as default values as they are not used in spending an UTXO.  A Nop script is assumed and the spending key is used as the `script_private_key`. The final update is that the `input_data` it set as the public key of the spending key.\r\n\r\nTo test that the base node is happy for an UTXO imported in this way to be spent a Cucumber test is provided which imports a UTXO into a wallet and zeroes out the `metadata_signature` and`sender_offset_public_key` and updates the `input_data` and `script_private_key` in the same way as described above. This imported Faucet utxo is then successfully spent to another wallet.\r\n\r\n## How Has This Been Tested?\r\nCucumber test provided\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3138", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3138/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3138/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3138/events", "html_url": "https://github.com/tari-project/tari/pull/3138", "id": 953827607, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3ODEyOTk0", "number": 3138, "title": "fix: fix prune mode sync", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-27T12:23:30Z", "updated_at": "2021-07-28T06:54:46Z", "closed_at": "2021-07-27T16:24:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3138", "html_url": "https://github.com/tari-project/tari/pull/3138", "diff_url": "https://github.com/tari-project/tari/pull/3138.diff", "patch_url": "https://github.com/tari-project/tari/pull/3138.patch", "merged_at": "2021-07-27T16:24:10Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis fixes prune mode sync to work again after the bitmap change. The bitmap saved in the accumulated block data is not the completed bitmap anymore but rather the diff for that block. This means when a bitmap is required to know what the spent state of the utxo set is, we need to build a new bitmap rather than ask the accumulated block data like we used to do. \r\n\r\nThis PR lets the blockchain_database send a completed bitmap from the tip out, that can be used to reconstruct a bitmap at the desired height. \r\n\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3137", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3137/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3137/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3137/events", "html_url": "https://github.com/tari-project/tari/pull/3137", "id": 953133842, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3MjIzNTM1", "number": 3137, "title": "fix: update transaction and block validator to use full deleted map", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-26T17:38:56Z", "updated_at": "2021-07-27T16:30:27Z", "closed_at": "2021-07-27T15:22:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3137", "html_url": "https://github.com/tari-project/tari/pull/3137", "diff_url": "https://github.com/tari-project/tari/pull/3137.diff", "patch_url": "https://github.com/tari-project/tari/pull/3137.patch", "merged_at": "2021-07-27T15:22:01Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nPrevent double spends from being added to the mempool. This bug\r\nwas introduced by the blockchain deleted bitmap storage changes\r\nin #3109. A new block template contained already spent transactions\r\nwhich would then fail a double spend check in `calculate_mmr_roots`.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nFixes:\r\n```\r\n\"Chain storage error: You tried to execute an invalid Database operation: Could not delete index 141535 from the output MMR (length is 94741)\" \r\n```\r\n\r\nThis error incorrectly attributes the failed deletion to an index that is larger than the total length. \r\nThere are two corrections in this PR:\r\n1. `output_mmr.len() != output_mmr.get_leaf_count()` - length is the number of remaining  unspent txos (`leaf_count - cardinality(deleted_bitmap)`).\r\n2. The delete also can fail if the index is already added. The correct error is emitted in this case.\r\n\r\nExpect to see many occurrences of ` WARN  Validation failed due to already spent output` in logs until double spends are cleared\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nArchival Sync current chain \r\nMining non-empty blocks.\r\nCucumber tests pass (in \r\nprogress)\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3136", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3136/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3136/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3136/events", "html_url": "https://github.com/tari-project/tari/pull/3136", "id": 952733630, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2ODgyOTY2", "number": 3136, "title": " fix: fetch_utxo uses tip deleted bitmap", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-26T10:07:33Z", "updated_at": "2021-07-26T12:48:08Z", "closed_at": "2021-07-26T12:12:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3136", "html_url": "https://github.com/tari-project/tari/pull/3136", "diff_url": "https://github.com/tari-project/tari/pull/3136.diff", "patch_url": "https://github.com/tari-project/tari/pull/3136.patch", "merged_at": "2021-07-26T12:12:18Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n`fetch_utxo` uses tip deleted bitmap instead of block accumulated data. \r\nRemove unused `is_spent_as_of` (this is now not possible to do)\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nBug fix: causes wallet to mistakenly report txo's as unspent\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n`Wallet imports spent outputs that become invalidated` cucumber test passes \r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3134", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3134/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3134/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3134/events", "html_url": "https://github.com/tari-project/tari/pull/3134", "id": 952327350, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NTQyNzQ1", "number": 3134, "title": "chore: rename daemon mode to non-interactive mode", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-25T18:12:34Z", "updated_at": "2021-07-27T18:25:54Z", "closed_at": "2021-07-27T18:25:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3134", "html_url": "https://github.com/tari-project/tari/pull/3134", "diff_url": "https://github.com/tari-project/tari/pull/3134.diff", "patch_url": "https://github.com/tari-project/tari/pull/3134.patch", "merged_at": "2021-07-27T18:25:39Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nSimple rename from `--daemon` to `--non-interactive`.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nDaemon was a misnomer and did not start a background process.\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nConsole wallet starts without UI when `--non-interactive` is passed to it.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3134/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3133", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3133/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3133/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3133/events", "html_url": "https://github.com/tari-project/tari/pull/3133", "id": 952262351, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NDkyNDYw", "number": 3133, "title": "test: one-sided support for washing machine script", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-25T12:17:25Z", "updated_at": "2021-07-28T10:05:13Z", "closed_at": "2021-07-28T10:05:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3133", "html_url": "https://github.com/tari-project/tari/pull/3133", "diff_url": "https://github.com/tari-project/tari/pull/3133.diff", "patch_url": "https://github.com/tari-project/tari/pull/3133.patch", "merged_at": "2021-07-28T10:05:13Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- Optionally send one sided transactions\r\n- Allow 2 custom wallets to optionally be used for washing instead of a\r\n  compiled one\r\n- Number of cli options:\r\n  - `--one-sided` flag added\r\n  - `--num-txns <number>` number of transactions to send back and forth\r\n  - `--num-rounds <number>` number of rounds to complete (or omit to carry on\r\n    indefinitely)\r\n  - `--amount-range <start>-<end>` specify a min and max value for amounts\r\n  - `--sleep-after-round=<sec>` length of time to sleep between rounds\r\n\r\nBonus:\r\n- fix flakiness in `connectivity::test::initialize`\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nPart of continuous testing scripts for Tari network\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTested on 2 local wallets, transactions sent back and forth\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3132", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3132/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3132/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3132/events", "html_url": "https://github.com/tari-project/tari/pull/3132", "id": 951443750, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1ODI5MTk5", "number": 3132, "title": "test: fix cucumber test wallet environment variables", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-23T10:14:42Z", "updated_at": "2021-07-26T10:56:24Z", "closed_at": "2021-07-26T10:56:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3132", "html_url": "https://github.com/tari-project/tari/pull/3132", "diff_url": "https://github.com/tari-project/tari/pull/3132.diff", "patch_url": "https://github.com/tari-project/tari/pull/3132.patch", "merged_at": "2021-07-26T10:56:24Z"}, "body": "## Description\r\nThis PR includes changes from https://github.com/tari-project/tari/pull/3131 so will rebase when that goes in.\r\n\r\nA recent update to how app config is read for the comms config broke cucumber tests .\r\n\r\nThe fix is to add the correct environment variables to the cucumber tests to correctly setup the comms details for the wallet.\r\n\r\n## How Has This Been Tested?\r\nfixing tests\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3131", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3131/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3131/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3131/events", "html_url": "https://github.com/tari-project/tari/pull/3131", "id": 950777482, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1MjczMzYx", "number": 3131, "title": "fix: bug that causes non p2p apps to panic on startup", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-22T15:14:30Z", "updated_at": "2021-07-25T04:30:15Z", "closed_at": "2021-07-23T10:24:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3131", "html_url": "https://github.com/tari-project/tari/pull/3131", "diff_url": "https://github.com/tari-project/tari/pull/3131.diff", "patch_url": "https://github.com/tari-project/tari/pull/3131.patch", "merged_at": "2021-07-23T10:24:48Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nExclude non p2p apps from needing comms configuration\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nBug fix\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nMerge mining proxy and standalone miner starts successfully\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3130", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3130/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3130/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3130/events", "html_url": "https://github.com/tari-project/tari/pull/3130", "id": 950617175, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1MTM2NzMx", "number": 3130, "title": "feat: add persistent dedup cache for message hashes", "user": {"login": "hansieodendaal", "id": 39146854, "node_id": "MDQ6VXNlcjM5MTQ2ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/39146854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hansieodendaal", "html_url": "https://github.com/hansieodendaal", "followers_url": "https://api.github.com/users/hansieodendaal/followers", "following_url": "https://api.github.com/users/hansieodendaal/following{/other_user}", "gists_url": "https://api.github.com/users/hansieodendaal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hansieodendaal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hansieodendaal/subscriptions", "organizations_url": "https://api.github.com/users/hansieodendaal/orgs", "repos_url": "https://api.github.com/users/hansieodendaal/repos", "events_url": "https://api.github.com/users/hansieodendaal/events{/privacy}", "received_events_url": "https://api.github.com/users/hansieodendaal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-22T12:42:44Z", "updated_at": "2021-07-28T13:22:38Z", "closed_at": "2021-07-28T10:40:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3130", "html_url": "https://github.com/tari-project/tari/pull/3130", "diff_url": "https://github.com/tari-project/tari/pull/3130.diff", "patch_url": "https://github.com/tari-project/tari/pull/3130.patch", "merged_at": "2021-07-28T10:40:18Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n- Added a persistent dedup message hash cache for messages that will be trimmed to capacity every 5 minutes:\r\n  - dedup cache size configurable for users;\r\n  - trimming period configurable.\r\n- Added a unit test to test the dedup cache operation.\r\n\r\n## Motivation and Context\r\nA recent stress test highlighted duplicate stages of transaction messages still being sent hours after a transaction has been mined, evoking a flood of SAF messages each time. A wallet also had no way of knowing which transactional message had been processed already. The dedup cache was changed from _time-to-live_ to being _persistent_.\r\n\r\n## How Has This Been Tested?\r\n- System-level testing under stress test conditions.\r\n- New unit test.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [X] I'm merging against the `development` branch.\r\n* [X] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3129", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3129/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3129/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3129/events", "html_url": "https://github.com/tari-project/tari/pull/3129", "id": 950422314, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0OTcxMjU4", "number": 3129, "title": "fix: replace usage of RangeProof MR with Witness MR", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-22T08:30:19Z", "updated_at": "2021-07-28T06:54:35Z", "closed_at": "2021-07-27T17:13:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3129", "html_url": "https://github.com/tari-project/tari/pull/3129", "diff_url": "https://github.com/tari-project/tari/pull/3129.diff", "patch_url": "https://github.com/tari-project/tari/pull/3129.patch", "merged_at": "2021-07-27T17:13:47Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThere are still some names references a rangeproof Mr, this does not exist anymore and there is only a witness Mr. \r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3128", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3128/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3128/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3128/events", "html_url": "https://github.com/tari-project/tari/pull/3128", "id": 950417742, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0OTY3NDgz", "number": 3128, "title": "feat(wallet): add extra feedback to recovery monitoring callback in Wallet FFI", "user": {"login": "philipr-za", "id": 25514413, "node_id": "MDQ6VXNlcjI1NTE0NDEz", "avatar_url": "https://avatars.githubusercontent.com/u/25514413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipr-za", "html_url": "https://github.com/philipr-za", "followers_url": "https://api.github.com/users/philipr-za/followers", "following_url": "https://api.github.com/users/philipr-za/following{/other_user}", "gists_url": "https://api.github.com/users/philipr-za/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipr-za/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipr-za/subscriptions", "organizations_url": "https://api.github.com/users/philipr-za/orgs", "repos_url": "https://api.github.com/users/philipr-za/repos", "events_url": "https://api.github.com/users/philipr-za/events{/privacy}", "received_events_url": "https://api.github.com/users/philipr-za/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-22T08:24:09Z", "updated_at": "2021-07-23T10:47:54Z", "closed_at": "2021-07-23T09:25:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3128", "html_url": "https://github.com/tari-project/tari/pull/3128", "diff_url": "https://github.com/tari-project/tari/pull/3128.diff", "patch_url": "https://github.com/tari-project/tari/pull/3128.patch", "merged_at": "2021-07-23T09:25:44Z"}, "body": "## Description\r\nThis PR adds an extra stage of callback feedback to the recovery process in the Wallet FFI. The new stage shows when connection\u2019s are being attempted and not just when they are made.\r\n\r\nEdit: Added even more detail to the callback, this changes the FFI interface to support extra argument in the callback\r\n\r\n## How Has This Been Tested?\r\nFor testing in the mobile client\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3128/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3127", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3127/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3127/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3127/events", "html_url": "https://github.com/tari-project/tari/pull/3127", "id": 950370997, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0OTI4NDU4", "number": 3127, "title": "feat(comms): tcp-only p2p protocol listener", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-22T07:16:52Z", "updated_at": "2021-07-22T10:25:14Z", "closed_at": "2021-07-22T10:21:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3127", "html_url": "https://github.com/tari-project/tari/pull/3127", "diff_url": "https://github.com/tari-project/tari/pull/3127.diff", "patch_url": "https://github.com/tari-project/tari/pull/3127.patch", "merged_at": "2021-07-22T10:21:33Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- Allow an optional \"auxilary\" TCP listener to be configured on the base\r\n  node, in addition to the usual transport.\r\n- Allow the SOCKS transport to have a set of addresses that \"bypass\" the\r\n  SOCKS proxy and protocol, and instead directly connect using TCP.\r\n- Configuration for base node and wallet are hooked up for these.\r\n- Remove `ConnectionManagerEvent::Listen` and `ConnectionManagerEvent::ListenFailed`\r\n  events. These are replaced by a simpler 'wait_until_listening' call in\r\n  the connection manager handle that waits for both listeners.\r\n- Add `[app].[network].auxilary_tcp_listener_address` config item\r\n- Add `[app].[network].tor_proxy_bypass_addresses` config item\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nAllow wallet and base node to communicate directly\r\n\r\n![image](https://user-images.githubusercontent.com/1057902/126602149-20b6eaa5-e92c-4a11-86df-e470fbbca6c3.png)\r\n\r\nwallet:\r\n```toml\r\n # set local address in the UI, or as a seed here:\r\npeer_seeds = [\"f27a6ae0321b471d1f65988ded21c48dc57a71edebb936837db1302a91ddc122::/dns4/my-basenode/tcp/9998\"]\r\n# Because the tor transport still (correctly) uses the tor network for DNS/IP addresses, we have to explicitly list which addresses to bypass. \r\ntor_proxy_bypass_addresses = [\"/dns4/my-basenode/tcp/9998\"]\r\n```\r\n\r\nbase node:\r\n```toml\r\nauxilary_tcp_listener_address = \"/ip4/127.0.0.1/tcp/9998\"\r\n```\r\n\r\nThe config will need to be updated when #3121 is merged\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n- New connection manager unit test\r\n- Tested using configured console wallet and base node\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3126", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3126/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3126/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3126/events", "html_url": "https://github.com/tari-project/tari/pull/3126", "id": 949801259, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0NDQ5MjA4", "number": 3126, "title": "test: add network with only pruned nodes", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-21T14:48:05Z", "updated_at": "2021-07-28T06:54:58Z", "closed_at": "2021-07-21T19:01:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3126", "html_url": "https://github.com/tari-project/tari/pull/3126", "diff_url": "https://github.com/tari-project/tari/pull/3126.diff", "patch_url": "https://github.com/tari-project/tari/pull/3126.patch", "merged_at": "2021-07-21T19:01:03Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis adds a cucumber test proving that a prune-only network can run and function.\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nIt should be possible to run a network with only prune nodes and let prune nodes sync. \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3126/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3124", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3124/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3124/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3124/events", "html_url": "https://github.com/tari-project/tari/pull/3124", "id": 949583932, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0MjY2ODM1", "number": 3124, "title": "test: change wallet base node", "user": {"login": "Cifko", "id": 35243812, "node_id": "MDQ6VXNlcjM1MjQzODEy", "avatar_url": "https://avatars.githubusercontent.com/u/35243812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cifko", "html_url": "https://github.com/Cifko", "followers_url": "https://api.github.com/users/Cifko/followers", "following_url": "https://api.github.com/users/Cifko/following{/other_user}", "gists_url": "https://api.github.com/users/Cifko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cifko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cifko/subscriptions", "organizations_url": "https://api.github.com/users/Cifko/orgs", "repos_url": "https://api.github.com/users/Cifko/repos", "events_url": "https://api.github.com/users/Cifko/events{/privacy}", "received_events_url": "https://api.github.com/users/Cifko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-21T10:55:48Z", "updated_at": "2022-01-09T16:41:50Z", "closed_at": "2021-07-21T12:27:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3124", "html_url": "https://github.com/tari-project/tari/pull/3124", "diff_url": "https://github.com/tari-project/tari/pull/3124.diff", "patch_url": "https://github.com/tari-project/tari/pull/3124.patch", "merged_at": "2021-07-21T12:27:17Z"}, "body": "## Description\r\nTest wallet base node change. This test is using the _command set-base-node_.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3122", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3122/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3122/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3122/events", "html_url": "https://github.com/tari-project/tari/pull/3122", "id": 948749164, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzNTQ1Njk1", "number": 3122, "title": "test: fix prune mode test", "user": {"login": "SWvheerden", "id": 2579813, "node_id": "MDQ6VXNlcjI1Nzk4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2579813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SWvheerden", "html_url": "https://github.com/SWvheerden", "followers_url": "https://api.github.com/users/SWvheerden/followers", "following_url": "https://api.github.com/users/SWvheerden/following{/other_user}", "gists_url": "https://api.github.com/users/SWvheerden/gists{/gist_id}", "starred_url": "https://api.github.com/users/SWvheerden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SWvheerden/subscriptions", "organizations_url": "https://api.github.com/users/SWvheerden/orgs", "repos_url": "https://api.github.com/users/SWvheerden/repos", "events_url": "https://api.github.com/users/SWvheerden/events{/privacy}", "received_events_url": "https://api.github.com/users/SWvheerden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-20T15:05:47Z", "updated_at": "2021-07-28T06:54:52Z", "closed_at": "2021-07-23T11:08:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3122", "html_url": "https://github.com/tari-project/tari/pull/3122", "diff_url": "https://github.com/tari-project/tari/pull/3122.diff", "patch_url": "https://github.com/tari-project/tari/pull/3122.patch", "merged_at": "2021-07-23T11:08:54Z"}, "body": "add pruned mode pruning check\r\n\r\n<!--- Provide a general summary of your changes in the Title above -->\r\nCurrently, all prune mode cucumber tests do not test prune nodes, but rather runs as archival nodes. This fixes the prune mode test to correctly run with prune mode nodes.\r\nThis also refactors the chain_meta to not send out the config setting pruning horizon, but rather send out the actual effective pruned height. \r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTests that prune node test actual pass after the fix, but fail before the sync. \r\nAdded a test that ensures prune nodes perform pruning.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3122/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3121", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3121/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3121/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3121/events", "html_url": "https://github.com/tari-project/tari/pull/3121", "id": 948680285, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzNDg4OTky", "number": 3121, "title": "fix: console wallet now recognises wallet.network comms settings", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-07-20T13:56:06Z", "updated_at": "2021-07-22T08:34:19Z", "closed_at": "2021-07-22T08:34:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3121", "html_url": "https://github.com/tari-project/tari/pull/3121", "diff_url": "https://github.com/tari-project/tari/pull/3121.diff", "patch_url": "https://github.com/tari-project/tari/pull/3121.patch", "merged_at": "2021-07-22T08:34:19Z"}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n- fix: setup comms transport using application name prefix (`base_node`/ `wallet`)\r\n- feat!: default transport is now tor\r\n- feat: network can be configured by one of (in order) `common.network`,\r\n  `{application}.network` and `base_node.network` (for backward-compatibility)\r\n- chore: cleanup transport setup code in base node and common utilities\r\n- chore: update preset config\r\n\r\nBREAKING CHANGE: if you relied on default transport configuration (TCP\r\ntransport) previously, you will now need to set `transport = \"tcp\"`\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nSome comms configuration on the console wallet was not possible or was configured \r\nusing the base_node key. This makes docker configuration difficult.   \r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTested by running console wallet and base node. Tested console wallet with tor_forward_address set.\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3121/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tari-project/tari/issues/3110", "repository_url": "https://api.github.com/repos/tari-project/tari", "labels_url": "https://api.github.com/repos/tari-project/tari/issues/3110/labels{/name}", "comments_url": "https://api.github.com/repos/tari-project/tari/issues/3110/comments", "events_url": "https://api.github.com/repos/tari-project/tari/issues/3110/events", "html_url": "https://github.com/tari-project/tari/pull/3110", "id": 948330482, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzMTg4NjQz", "number": 3110, "title": "fix: don't log tor control port password", "user": {"login": "sdbondi", "id": 1057902, "node_id": "MDQ6VXNlcjEwNTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1057902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbondi", "html_url": "https://github.com/sdbondi", "followers_url": "https://api.github.com/users/sdbondi/followers", "following_url": "https://api.github.com/users/sdbondi/following{/other_user}", "gists_url": "https://api.github.com/users/sdbondi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbondi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbondi/subscriptions", "organizations_url": "https://api.github.com/users/sdbondi/orgs", "repos_url": "https://api.github.com/users/sdbondi/repos", "events_url": "https://api.github.com/users/sdbondi/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbondi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-20T06:38:57Z", "updated_at": "2021-07-20T06:43:38Z", "closed_at": "2021-07-20T06:43:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tari-project/tari/pulls/3110", "html_url": "https://github.com/tari-project/tari/pull/3110", "diff_url": "https://github.com/tari-project/tari/pull/3110.diff", "patch_url": "https://github.com/tari-project/tari/pull/3110.patch", "merged_at": "2021-07-20T06:43:30Z"}, "body": "\r\n<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nImplement custom Debug impl that redacts the password\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nLogging passwords = bad\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nBase node doesnt log password\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n* [x] I'm merging against the `development` branch.\r\n* [x] I have squashed my commits into a single commit.\r\n", "reactions": {"url": "https://api.github.com/repos/tari-project/tari/issues/3110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tari-project/tari/issues/3110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]