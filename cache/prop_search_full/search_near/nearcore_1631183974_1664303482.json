[{"url": "https://api.github.com/repos/near/nearcore/issues/7707", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7707/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7707/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7707/events", "html_url": "https://github.com/near/nearcore/pull/7707", "id": 1387992764, "node_id": "PR_kwDOCQUkYs4_tQXV", "number": 7707, "title": "themis: publishable crates shouldn't depend on non-publishable ones", "user": {"login": "miraclx", "id": 16881812, "node_id": "MDQ6VXNlcjE2ODgxODEy", "avatar_url": "https://avatars.githubusercontent.com/u/16881812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miraclx", "html_url": "https://github.com/miraclx", "followers_url": "https://api.github.com/users/miraclx/followers", "following_url": "https://api.github.com/users/miraclx/following{/other_user}", "gists_url": "https://api.github.com/users/miraclx/gists{/gist_id}", "starred_url": "https://api.github.com/users/miraclx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miraclx/subscriptions", "organizations_url": "https://api.github.com/users/miraclx/orgs", "repos_url": "https://api.github.com/users/miraclx/repos", "events_url": "https://api.github.com/users/miraclx/events{/privacy}", "received_events_url": "https://api.github.com/users/miraclx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T15:53:54Z", "updated_at": "2022-09-29T07:29:19Z", "closed_at": "2022-09-27T17:26:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7707", "html_url": "https://github.com/near/nearcore/pull/7707", "diff_url": "https://github.com/near/nearcore/pull/7707.diff", "patch_url": "https://github.com/near/nearcore/pull/7707.patch", "merged_at": "2022-09-27T17:26:06Z"}, "body": "#7680 bumped the version of non-private crates to `0.15.0`. Unfortunately, the publish process failed, because `near-o11y` which is marked as a private package, is depended on by `near-vm-logic`, which is a non-private crate.\r\n\r\nThis adds a check to `themis`, to ensure we never get this kind of discrepancy merged into master.\r\n\r\nExample Report:\r\n\r\n<img width=\"498\" alt=\"CleanShot 2022-09-27 at 19 53 10@2x\" src=\"https://user-images.githubusercontent.com/16881812/192575063-93c35ffb-e01e-41d9-8d4a-2d904ae85409.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7707/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7707/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7706", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7706/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7706/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7706/events", "html_url": "https://github.com/near/nearcore/pull/7706", "id": 1387950470, "node_id": "PR_kwDOCQUkYs4_tHZq", "number": 7706, "title": "doc: move wiki contents over to the book", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T15:23:09Z", "updated_at": "2022-09-28T12:17:31Z", "closed_at": "2022-09-27T15:42:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7706", "html_url": "https://github.com/near/nearcore/pull/7706", "diff_url": "https://github.com/near/nearcore/pull/7706.diff", "patch_url": "https://github.com/near/nearcore/pull/7706.patch", "merged_at": "2022-09-27T15:42:25Z"}, "body": "Moves https://github.com/near/nearcore/wiki over to the book. I'll disable the wiki once this PR is merged. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7706/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7705", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7705/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7705/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7705/events", "html_url": "https://github.com/near/nearcore/pull/7705", "id": 1387844942, "node_id": "PR_kwDOCQUkYs4_sw9s", "number": 7705, "title": "Update rand dependency to latest 0.8.5 version", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T14:15:52Z", "updated_at": "2022-09-27T15:12:56Z", "closed_at": "2022-09-27T15:11:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7705", "html_url": "https://github.com/near/nearcore/pull/7705", "diff_url": "https://github.com/near/nearcore/pull/7705.diff", "patch_url": "https://github.com/near/nearcore/pull/7705.patch", "merged_at": "2022-09-27T15:11:14Z"}, "body": "To make it work also update rand_xorshift to 0.3.\r\n\r\nHowever, leave rand at 0.7 in core/crypto.  This is because that crate\r\ndepends on ed25519-dalek which expects rand 0.7 objects.\r\n\r\nIssue: https://github.com/near/nearcore/issues/7674\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7705/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7703", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7703/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7703/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7703/events", "html_url": "https://github.com/near/nearcore/pull/7703", "id": 1387740796, "node_id": "PR_kwDOCQUkYs4_sahI", "number": 7703, "title": "Use workspace inheritance to specify versions of dependencies", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-09-27T13:12:02Z", "updated_at": "2022-09-27T18:40:34Z", "closed_at": "2022-09-27T16:08:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7703", "html_url": "https://github.com/near/nearcore/pull/7703", "diff_url": "https://github.com/near/nearcore/pull/7703.diff", "patch_url": "https://github.com/near/nearcore/pull/7703.patch", "merged_at": "2022-09-27T16:08:23Z"}, "body": "Move all dependencies to root Cargo.toml file and refer to it using\r\ninheritance in all members of the workspace.  This will hopefully help\r\nreduce noise when updating a package in the future.  The only\r\nexception is `rand` dependency in core/crypto crate which needs to be\r\nheld back at older version because of ed25519-dalek.\r\n\r\nDoing this, put union on cargo features in the root Cargo.toml so\r\nfeatures don\u2019t need to be enabled in member crates.  The one exception\r\nto this rule is serde_json\u2019s preserve_order feature which is only\r\nenabled in tools that need it.\r\n\r\nFixes: https://github.com/near/nearcore/issues/6301\r\nFixes: https://github.com/near/nearcore/issues/7674\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7703/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7703/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7702", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7702/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7702/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7702/events", "html_url": "https://github.com/near/nearcore/pull/7702", "id": 1387657214, "node_id": "PR_kwDOCQUkYs4_sI0Q", "number": 7702, "title": "fix(mocknet): Don't report mocknet telemetry to the mainnet explorer", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T12:13:58Z", "updated_at": "2022-09-27T13:08:25Z", "closed_at": "2022-09-27T13:08:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7702", "html_url": "https://github.com/near/nearcore/pull/7702", "diff_url": "https://github.com/near/nearcore/pull/7702.diff", "patch_url": "https://github.com/near/nearcore/pull/7702.patch", "merged_at": "2022-09-27T13:08:24Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7702/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7700", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7700/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7700/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7700/events", "html_url": "https://github.com/near/nearcore/pull/7700", "id": 1387622380, "node_id": "PR_kwDOCQUkYs4_sBYi", "number": 7700, "title": "fix: do not block on prefetcher", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-27T11:48:00Z", "updated_at": "2022-09-27T13:36:26Z", "closed_at": "2022-09-27T12:00:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7700", "html_url": "https://github.com/near/nearcore/pull/7700", "diff_url": "https://github.com/near/nearcore/pull/7700.diff", "patch_url": "https://github.com/near/nearcore/pull/7700.patch", "merged_at": "2022-09-27T12:00:05Z"}, "body": "The bounded queue was intended to drop new requests on the sender side\r\ninstead of blocking the main thread.\r\n\r\nThe prefetching requests we send today are at least 100 times fewer\r\nthan what fits in the channel, and only white listed accounts can even\r\ntrigger it. So this is not a concern in practice, yet.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7700/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7699", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7699/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7699/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7699/events", "html_url": "https://github.com/near/nearcore/pull/7699", "id": 1387589628, "node_id": "PR_kwDOCQUkYs4_r6mZ", "number": 7699, "title": "chore: remove unused dependency", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T11:26:40Z", "updated_at": "2022-09-27T11:35:48Z", "closed_at": "2022-09-27T11:35:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7699", "html_url": "https://github.com/near/nearcore/pull/7699", "diff_url": "https://github.com/near/nearcore/pull/7699.diff", "patch_url": "https://github.com/near/nearcore/pull/7699.patch", "merged_at": "2022-09-27T11:35:48Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7699/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7697", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7697/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7697/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7697/events", "html_url": "https://github.com/near/nearcore/pull/7697", "id": 1387504835, "node_id": "PR_kwDOCQUkYs4_roaC", "number": 7697, "title": "refactor: remove unneeded check in themis", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-27T10:22:11Z", "updated_at": "2022-09-27T13:42:05Z", "closed_at": "2022-09-27T13:42:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7697", "html_url": "https://github.com/near/nearcore/pull/7697", "diff_url": "https://github.com/near/nearcore/pull/7697.diff", "patch_url": "https://github.com/near/nearcore/pull/7697.patch", "merged_at": "2022-09-27T13:42:05Z"}, "body": "Removes a check in themis where we ensure that a given crate's rust version is not above the version mentioned in rust-toolchain.toml.  This check is not needed because such a misconfiguration will prevent the repo from even being built in the first place.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7697/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7696", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7696/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7696/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7696/events", "html_url": "https://github.com/near/nearcore/pull/7696", "id": 1387189002, "node_id": "PR_kwDOCQUkYs4_qk8B", "number": 7696, "title": "fix: logo URL in README.md", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T06:31:04Z", "updated_at": "2022-09-27T06:49:13Z", "closed_at": "2022-09-27T06:44:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7696", "html_url": "https://github.com/near/nearcore/pull/7696", "diff_url": "https://github.com/near/nearcore/pull/7696.diff", "patch_url": "https://github.com/near/nearcore/pull/7696.patch", "merged_at": "2022-09-27T06:44:58Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7696/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7694", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7694/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7694/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7694/events", "html_url": "https://github.com/near/nearcore/pull/7694", "id": 1386710386, "node_id": "PR_kwDOCQUkYs4_o-Wi", "number": 7694, "title": "Fix upgradable.py db migration flags too; like #7607", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T20:55:22Z", "updated_at": "2022-09-26T21:06:07Z", "closed_at": "2022-09-26T21:06:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7694", "html_url": "https://github.com/near/nearcore/pull/7694", "diff_url": "https://github.com/near/nearcore/pull/7694.diff", "patch_url": "https://github.com/near/nearcore/pull/7694.patch", "merged_at": "2022-09-26T21:06:07Z"}, "body": "See https://github.com/near/nearcore/pull/7607/files", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7694/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7691", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7691/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7691/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7691/events", "html_url": "https://github.com/near/nearcore/pull/7691", "id": 1386130228, "node_id": "PR_kwDOCQUkYs4_nAey", "number": 7691, "title": "Upgrade tracing and opentelemetry crates", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T13:55:59Z", "updated_at": "2022-09-27T11:27:56Z", "closed_at": "2022-09-27T10:46:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7691", "html_url": "https://github.com/near/nearcore/pull/7691", "diff_url": "https://github.com/near/nearcore/pull/7691.diff", "patch_url": "https://github.com/near/nearcore/pull/7691.patch", "merged_at": "2022-09-27T10:46:05Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7691/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7690", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7690/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7690/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7690/events", "html_url": "https://github.com/near/nearcore/pull/7690", "id": 1386019719, "node_id": "PR_kwDOCQUkYs4_mowz", "number": 7690, "title": "feat: always display uncertain estimation warnings", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3151483136, "node_id": "MDU6TGFiZWwzMTUxNDgzMTM2", "url": "https://api.github.com/repos/near/nearcore/labels/A-params-estimator", "name": "A-params-estimator", "color": "0000ff", "default": false, "description": "Area: runtime params estimator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T12:44:32Z", "updated_at": "2022-09-29T10:05:52Z", "closed_at": "2022-09-26T15:16:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7690", "html_url": "https://github.com/near/nearcore/pull/7690", "diff_url": "https://github.com/near/nearcore/pull/7690.diff", "patch_url": "https://github.com/near/nearcore/pull/7690.patch", "merged_at": "2022-09-26T15:16:13Z"}, "body": "resolves #7004, see that issue for reasoning behind the change", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7690/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7688", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7688/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7688/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7688/events", "html_url": "https://github.com/near/nearcore/pull/7688", "id": 1385786045, "node_id": "PR_kwDOCQUkYs4_l5bU", "number": 7688, "title": "chore: Update a couple of more crates to 1.64", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T10:02:43Z", "updated_at": "2022-09-26T11:56:04Z", "closed_at": "2022-09-26T11:55:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7688", "html_url": "https://github.com/near/nearcore/pull/7688", "diff_url": "https://github.com/near/nearcore/pull/7688.diff", "patch_url": "https://github.com/near/nearcore/pull/7688.patch", "merged_at": "2022-09-26T11:55:49Z"}, "body": "Also see https://github.com/near/nearcore/pull/7669", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7688/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7687", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7687/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7687/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7687/events", "html_url": "https://github.com/near/nearcore/pull/7687", "id": 1385721041, "node_id": "PR_kwDOCQUkYs4_lsZx", "number": 7687, "title": "chore: Use inheritance to reduce copy-paste in `Cargo.toml`s", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T09:18:06Z", "updated_at": "2022-09-26T18:46:38Z", "closed_at": "2022-09-26T18:46:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7687", "html_url": "https://github.com/near/nearcore/pull/7687", "diff_url": "https://github.com/near/nearcore/pull/7687.diff", "patch_url": "https://github.com/near/nearcore/pull/7687.patch", "merged_at": "2022-09-26T18:46:38Z"}, "body": "See https://github.com/near/nearcore/issues/7674 for more details.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7687/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7687/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7684", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7684/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7684/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7684/events", "html_url": "https://github.com/near/nearcore/pull/7684", "id": 1383979555, "node_id": "PR_kwDOCQUkYs4_gfPs", "number": 7684, "title": "refactor: more useful error message", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T15:33:30Z", "updated_at": "2022-09-23T18:20:56Z", "closed_at": "2022-09-23T18:20:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7684", "html_url": "https://github.com/near/nearcore/pull/7684", "diff_url": "https://github.com/near/nearcore/pull/7684.diff", "patch_url": "https://github.com/near/nearcore/pull/7684.patch", "merged_at": "2022-09-23T18:20:56Z"}, "body": "Make it clear what kind of thing is missing from the DB. Ideally, we'd\r\nadd a db_col field to the error, but that's going to be a much larger\r\nchange.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7684/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7682", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7682/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7682/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7682/events", "html_url": "https://github.com/near/nearcore/pull/7682", "id": 1383701442, "node_id": "PR_kwDOCQUkYs4_fkAj", "number": 7682, "title": "docs: move book to the docs folder", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T12:02:54Z", "updated_at": "2022-09-23T14:20:35Z", "closed_at": "2022-09-23T12:23:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7682", "html_url": "https://github.com/near/nearcore/pull/7682", "diff_url": "https://github.com/near/nearcore/pull/7682.diff", "patch_url": "https://github.com/near/nearcore/pull/7682.patch", "merged_at": "2022-09-23T12:23:27Z"}, "body": "docs feels like a much more self-explanatory name than book. I originally put the stuff into book folder to not mess up existing docs, but now that those are moved into the book, we can set up proper name.\r\n\r\nThis was the plan all along!\r\n\r\nThis also finalizes, for the time being\r\n\r\n* the name \"Guide to Nearcore Development\" (unispiringly stolen from https://github.com/rust-lang/rustc-dev-guide/blob/master/book.toml)\r\n* the url https://near.github.io/nearcore/. We can add some fancier DNS here, but I don't see a big need here. I also hope that most links would be *internal* to the guide, so I wouldnt' worry about URL stability too much. This is by design not the reference doc!", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7682/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7680", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7680/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7680/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7680/events", "html_url": "https://github.com/near/nearcore/pull/7680", "id": 1383685325, "node_id": "PR_kwDOCQUkYs4_fgr5", "number": 7680, "title": "chore: bump crates version to 0.15.0", "user": {"login": "frol", "id": 304265, "node_id": "MDQ6VXNlcjMwNDI2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/304265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frol", "html_url": "https://github.com/frol", "followers_url": "https://api.github.com/users/frol/followers", "following_url": "https://api.github.com/users/frol/following{/other_user}", "gists_url": "https://api.github.com/users/frol/gists{/gist_id}", "starred_url": "https://api.github.com/users/frol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frol/subscriptions", "organizations_url": "https://api.github.com/users/frol/orgs", "repos_url": "https://api.github.com/users/frol/repos", "events_url": "https://api.github.com/users/frol/events{/privacy}", "received_events_url": "https://api.github.com/users/frol/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-23T11:47:57Z", "updated_at": "2022-09-23T14:15:06Z", "closed_at": "2022-09-23T14:14:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7680", "html_url": "https://github.com/near/nearcore/pull/7680", "diff_url": "https://github.com/near/nearcore/pull/7680.diff", "patch_url": "https://github.com/near/nearcore/pull/7680.patch", "merged_at": "2022-09-23T14:14:46Z"}, "body": "It has been a while since the last time we cut the crates releases. Let's do that with 1.29.0 release of nearcore.\r\n\r\nTagged: https://github.com/near/nearcore/releases/tag/crates-0.14.0\r\n\r\nNotable changes:\r\n\r\n  - #6924\r\n  - #6941\r\n  - (BREAKING CHANGE) #7308\r\n\r\nCheck here for a full changelog: https://github.com/near/nearcore/compare/crates-0.14.0...crates-0.15.0", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7680/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7678", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7678/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7678/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7678/events", "html_url": "https://github.com/near/nearcore/pull/7678", "id": 1383658427, "node_id": "PR_kwDOCQUkYs4_fbIc", "number": 7678, "title": "doc: improve wording", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T11:22:22Z", "updated_at": "2022-09-23T11:41:55Z", "closed_at": "2022-09-23T11:37:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7678", "html_url": "https://github.com/near/nearcore/pull/7678", "diff_url": "https://github.com/near/nearcore/pull/7678.diff", "patch_url": "https://github.com/near/nearcore/pull/7678.patch", "merged_at": "2022-09-23T11:37:36Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7678/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7677", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7677/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7677/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7677/events", "html_url": "https://github.com/near/nearcore/pull/7677", "id": 1383652791, "node_id": "PR_kwDOCQUkYs4_fZ_Y", "number": 7677, "title": "doc: move the content from docs to book", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T11:16:55Z", "updated_at": "2022-09-23T11:53:22Z", "closed_at": "2022-09-23T11:53:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7677", "html_url": "https://github.com/near/nearcore/pull/7677", "diff_url": "https://github.com/near/nearcore/pull/7677.diff", "patch_url": "https://github.com/near/nearcore/pull/7677.patch", "merged_at": "2022-09-23T11:53:18Z"}, "body": "This PR bulk-moves the content from docs to book, and reformats it according to our code style (mostly wrapping).\r\n\r\nI very specifically don't want to proof-read the contents, fix broken links, etc. I want to do that initially, but I'd love to start with just moving the stuff over. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7677/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7675", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7675/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7675/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7675/events", "html_url": "https://github.com/near/nearcore/pull/7675", "id": 1383583297, "node_id": "PR_kwDOCQUkYs4_fLf2", "number": 7675, "title": "doc: book skeloton", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-23T10:13:15Z", "updated_at": "2022-09-23T11:22:36Z", "closed_at": "2022-09-23T11:04:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7675", "html_url": "https://github.com/near/nearcore/pull/7675", "diff_url": "https://github.com/near/nearcore/pull/7675.diff", "patch_url": "https://github.com/near/nearcore/pull/7675.patch", "merged_at": "2022-09-23T11:04:18Z"}, "body": "#7670", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7675/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7671", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7671/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7671/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7671/events", "html_url": "https://github.com/near/nearcore/pull/7671", "id": 1383112498, "node_id": "PR_kwDOCQUkYs4_dpnK", "number": 7671, "title": "Remove DBCol::ChunkPerHeightShard", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-22T23:10:07Z", "updated_at": "2022-09-26T23:55:12Z", "closed_at": "2022-09-26T23:55:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7671", "html_url": "https://github.com/near/nearcore/pull/7671", "diff_url": "https://github.com/near/nearcore/pull/7671.diff", "patch_url": "https://github.com/near/nearcore/pull/7671.patch", "merged_at": "2022-09-26T23:55:12Z"}, "body": "This column is only used by ShardsManager to reject an incoming partial chunk. Previously, the column is written in two ways:\r\n\r\n1. When a partial encoded chunk's header is validated by ShardsManager, it will write this column. As long as the header is valid, this column will map the (height, shard ID) to the chunk's hash.\r\n2. When a block is processed by the Client, we will write each chunk in that block to this column.\r\n\r\nThis PR moves the mapping into memory. That means that upon a restart we will have an empty mapping. This should be OK: consider two nodes, one running the old version and one running the in-memory version; since the old version's mapping is a superset of the new version's in-memory mapping, there are two possible cases when the two nodes obtain different lookup results:\r\n\r\n1. the old node sees a chunk hash, but the new node does not see any. This can happen for two reasons: (a) if the hash was supposed to be in memory but the node had just restarted recently, then at most this can happen for a few heights because there are only a few heights within the height horizon, which means ShardsManager will potentially process a few more chunks than it would have before, which is fine (processing redundant chunks by itself does not affect correctness); (b) if the chunk hash was written by the Client upon processing a block, then because the Client should've waited for the chunks in this block to be completed before writing this, the ShardsManager in the new node should also have written this chunk to the in-memory mapping (and we're doing this check within the horizon so the mapping would not have expired) which is a contradiction.\r\n2. the old node and new node both see a hash, but the hashes differ. This can result in (a) an extra chunk (the hash the new node sees) being processed by ShardsManager, which is OK; (b) a chunk (that the old node sees) being ignored; however, we only make ShardsManager reject a partial encoded chunk if we didn't actively request for parts/receipts for the chunk (i.e. we would never reject partial encoded chunk responses); so if we needed to complete a chunk as part of a block, we would not have any issues since we actively send requests for these, and if instead we were the block producer collecting chunks, then we would've already had another valid chunk header to work anyway, and our choice of which valid chunk header would be just as arbitrary as the old node.\r\n\r\nThis PR is motivated by the ShardsManager refactoring to move it out to its own actor; to that end we need to split the ChainStore because the Client owns the mutable ChainStore. Since we decided to keep chunk-persisting writes on the Client side, the ShardsManager side's only mutation right now is this ChunkPerHeightShard column. Removing this column means the ShardsManager will not need any store mutations which makes the split much easier.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7671/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7669", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7669/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7669/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7669/events", "html_url": "https://github.com/near/nearcore/pull/7669", "id": 1382747850, "node_id": "PR_kwDOCQUkYs4_cdYM", "number": 7669, "title": "chore: upgrade Rust to 1.64.0", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-22T16:55:51Z", "updated_at": "2022-09-22T19:30:10Z", "closed_at": "2022-09-22T19:28:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7669", "html_url": "https://github.com/near/nearcore/pull/7669", "diff_url": "https://github.com/near/nearcore/pull/7669.diff", "patch_url": "https://github.com/near/nearcore/pull/7669.patch", "merged_at": "2022-09-22T19:28:16Z"}, "body": "https://blog.rust-lang.org/2022/09/22/Rust-1.64.0.html\r\n\r\nNotable changes:\r\n\r\n* rust-analyzer is now available via rustup :o)\r\n* cargo supports \"workspace inheritance\". We can use this to cut some\r\n  repeated deps and avoid repating rust-version everywhere. I'll handle\r\n  that in a separate PR\r\n* poll_fn and ready! are stabilized, we might use them for some of our\r\n  async stuff\r\n* add Nintendo Switch as tier 3 target so I guess we can run neard on\r\n  switch now?", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7669/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7668", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7668/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7668/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7668/events", "html_url": "https://github.com/near/nearcore/pull/7668", "id": 1382471730, "node_id": "PR_kwDOCQUkYs4_bj4G", "number": 7668, "title": "feat: scaffold for dev guide", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-09-22T13:38:31Z", "updated_at": "2022-09-23T09:48:30Z", "closed_at": "2022-09-23T09:27:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7668", "html_url": "https://github.com/near/nearcore/pull/7668", "diff_url": "https://github.com/near/nearcore/pull/7668.diff", "patch_url": "https://github.com/near/nearcore/pull/7668.patch", "merged_at": "2022-09-23T09:27:25Z"}, "body": "First step of https://github.com/near/nearcore/issues/7670", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7668/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7667", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7667/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7667/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7667/events", "html_url": "https://github.com/near/nearcore/pull/7667", "id": 1382162686, "node_id": "PR_kwDOCQUkYs4_ajCV", "number": 7667, "title": "fix: disable life support for nearlib test", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-22T09:51:19Z", "updated_at": "2022-09-29T17:00:53Z", "closed_at": "2022-09-22T10:04:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7667", "html_url": "https://github.com/near/nearcore/pull/7667", "diff_url": "https://github.com/near/nearcore/pull/7667.diff", "patch_url": "https://github.com/near/nearcore/pull/7667.patch", "merged_at": "2022-09-22T10:04:00Z"}, "body": "What this test is intended to do is to spawn a local neard node and to run near-api-js tests against that.\r\n\r\nThe purpose is to detect unintentional changes to near public API.\r\n\r\nWe have disabled actually running the test a while ago, and today the build broke b/c api-js moved from yarn to pnpm.\r\n\r\nI think at this it's safe to kill this infra completely, as we weren't running it for a while.\r\n\r\nIt would of course be nice to have some in-repo tests covering public JSON API, but I think we are currently server well-enough by betanet and testnet anyway.\r\n\r\nTesting public APIs via running tests of downstream projects upstream is clearly a wrong way to do that!", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7667/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7666", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7666/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7666/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7666/events", "html_url": "https://github.com/near/nearcore/pull/7666", "id": 1382120558, "node_id": "PR_kwDOCQUkYs4_aaIg", "number": 7666, "title": "refactor: expose get_epoch_id as a method of EpochManagerAdapter ", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-22T09:20:03Z", "updated_at": "2022-09-22T17:26:56Z", "closed_at": "2022-09-22T17:24:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7666", "html_url": "https://github.com/near/nearcore/pull/7666", "diff_url": "https://github.com/near/nearcore/pull/7666.diff", "patch_url": "https://github.com/near/nearcore/pull/7666.patch", "merged_at": "2022-09-22T17:24:06Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on https://github.com/near/nearcore/pull/7665\r\n\r\nPreviously, this was only available on NightshadeRuntime, but seems fine\r\nto expose everywhere.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7666/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7665", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7665/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7665/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7665/events", "html_url": "https://github.com/near/nearcore/pull/7665", "id": 1382091462, "node_id": "PR_kwDOCQUkYs4_aUDf", "number": 7665, "title": "move block->epoch APIs to EpochManagerHandle", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-22T08:59:29Z", "updated_at": "2022-09-22T17:00:52Z", "closed_at": "2022-09-22T17:00:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7665", "html_url": "https://github.com/near/nearcore/pull/7665", "diff_url": "https://github.com/near/nearcore/pull/7665.diff", "patch_url": "https://github.com/near/nearcore/pull/7665.patch", "merged_at": "2022-09-22T17:00:52Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on https://github.com/near/nearcore/pull/7660\r\n\r\nMust be reviewed per commit.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7665/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7664", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7664/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7664/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7664/events", "html_url": "https://github.com/near/nearcore/pull/7664", "id": 1382050954, "node_id": "PR_kwDOCQUkYs4_aLub", "number": 7664, "title": "fix: actually test dropping chunk forwarding", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-22T08:31:26Z", "updated_at": "2022-09-22T22:43:44Z", "closed_at": "2022-09-22T22:43:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7664", "html_url": "https://github.com/near/nearcore/pull/7664", "diff_url": "https://github.com/near/nearcore/pull/7664.diff", "patch_url": "https://github.com/near/nearcore/pull/7664.patch", "merged_at": "2022-09-22T22:43:44Z"}, "body": "See https://near.zulipchat.com/#narrow/stream/295558-pagoda.2Fcore/topic/chunk.20management.20tests", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7664/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7663", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7663/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7663/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7663/events", "html_url": "https://github.com/near/nearcore/pull/7663", "id": 1381804603, "node_id": "PR_kwDOCQUkYs4_ZYo3", "number": 7663, "title": "Implement FlatStorageState", "user": {"login": "mzhangmzz", "id": 34969888, "node_id": "MDQ6VXNlcjM0OTY5ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/34969888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzhangmzz", "html_url": "https://github.com/mzhangmzz", "followers_url": "https://api.github.com/users/mzhangmzz/followers", "following_url": "https://api.github.com/users/mzhangmzz/following{/other_user}", "gists_url": "https://api.github.com/users/mzhangmzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzhangmzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzhangmzz/subscriptions", "organizations_url": "https://api.github.com/users/mzhangmzz/orgs", "repos_url": "https://api.github.com/users/mzhangmzz/repos", "events_url": "https://api.github.com/users/mzhangmzz/events{/privacy}", "received_events_url": "https://api.github.com/users/mzhangmzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-22T04:17:03Z", "updated_at": "2022-09-27T17:04:42Z", "closed_at": "2022-09-26T22:27:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7663", "html_url": "https://github.com/near/nearcore/pull/7663", "diff_url": "https://github.com/near/nearcore/pull/7663.diff", "patch_url": "https://github.com/near/nearcore/pull/7663.patch", "merged_at": "2022-09-26T22:27:25Z"}, "body": "This PR implements FlatStorageState, the struct that manages deltas in flat storage. After this PR, the main implementation of flat storage is mostly ready. The next step is to add more tests. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7663/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7661", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7661/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7661/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7661/events", "html_url": "https://github.com/near/nearcore/pull/7661", "id": 1381227697, "node_id": "PR_kwDOCQUkYs4_Xdk8", "number": 7661, "title": "feat: enable receipt prefetching by default", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-21T16:53:53Z", "updated_at": "2022-09-26T12:32:54Z", "closed_at": "2022-09-23T07:44:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7661", "html_url": "https://github.com/near/nearcore/pull/7661", "diff_url": "https://github.com/near/nearcore/pull/7661.diff", "patch_url": "https://github.com/near/nearcore/pull/7661.patch", "merged_at": "2022-09-23T07:44:03Z"}, "body": "Prefetch receipt meta data (account and access keys) ahead of time.\r\nThis recent performance optimization has been disabled by default.\r\n\r\nIn lab settings, performance improvement is confirmed. Using the\r\nestimator to measure the time it takes to process empty receipts,\r\non a DB with 2 million accounts, on a local SSD, with enabled shard\r\ncaches. The result is as follows.\r\n\r\n- sender = receiver:  737us -> 386 us\r\n- sender != receiver: 1014us -> 644us\r\n- overhead per block: 6.9us -> 7.4us\r\n\r\nNote that this is with 100 empty receipts in the same block, with all\r\ndifferent accounts. In real traffic it usually does not happen that so\r\nmany different accounts are accessed in the same block. But it is\r\nallowed and we must be able process this case in reasonable time.\r\nSo even if it might not help in the average case, it makes sense to\r\nactivate this feature to speed up the worst-case.\r\n\r\nCurrently we use 8 IO threads per shard. Repeated experiments with\r\nmore threads showed no difference.\r\nDecreasing it to 4 threads is about equal to 8 threads. Going lower is\r\nsignificantly worse. Thus, overall, 8 threads seems reasonable here.\r\n\r\nCanary nodes in testnet and mainnet with the feature enabled show that\r\nthe feature also works as expected on real traffic. The memory impact is\r\nminimal, usually less than 40MB of reserved capacity, which is less than\r\n8MB actual memory because 8 threads reserve 4MB each ahead of actually\r\nfetching the data.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7661/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7660", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7660/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7660/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7660/events", "html_url": "https://github.com/near/nearcore/pull/7660", "id": 1381053423, "node_id": "PR_kwDOCQUkYs4_W4rN", "number": 7660, "title": "refactor: move shard layout API to EpochManagerAdapter", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-21T14:43:58Z", "updated_at": "2022-09-22T16:37:08Z", "closed_at": "2022-09-22T16:37:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7660", "html_url": "https://github.com/near/nearcore/pull/7660", "diff_url": "https://github.com/near/nearcore/pull/7660.diff", "patch_url": "https://github.com/near/nearcore/pull/7660.patch", "merged_at": "2022-09-22T16:37:08Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on https://github.com/near/nearcore/pull/7657\r\n\r\nMust be reviewed per commit.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7660/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7659", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7659/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7659/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7659/events", "html_url": "https://github.com/near/nearcore/pull/7659", "id": 1381025773, "node_id": "PR_kwDOCQUkYs4_Wy1j", "number": 7659, "title": "refactor: prettify chunk management test", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-21T14:26:01Z", "updated_at": "2022-09-22T15:56:30Z", "closed_at": "2022-09-22T15:53:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7659", "html_url": "https://github.com/near/nearcore/pull/7659", "diff_url": "https://github.com/near/nearcore/pull/7659.diff", "patch_url": "https://github.com/near/nearcore/pull/7659.patch", "merged_at": "2022-09-22T15:53:55Z"}, "body": "Adding an explicit \"test fixture\" struct makes call-sites more readable (named args!) and makes making further changes easier.\r\n\r\nNo particular grand plan here, just figured this small change to be a marginal improvement!", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7659/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7658", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7658/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7658/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7658/events", "html_url": "https://github.com/near/nearcore/pull/7658", "id": 1380795240, "node_id": "PR_kwDOCQUkYs4_WC5u", "number": 7658, "title": "integration-tests: fix hashing of a list of elements", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717543, "node_id": "MDU6TGFiZWwxMTU5NzE3NTQz", "url": "https://api.github.com/repos/near/nearcore/labels/P-high", "name": "P-high", "color": "B60205", "default": false, "description": "Priority: High"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-09-21T11:45:43Z", "updated_at": "2022-09-21T21:18:57Z", "closed_at": "2022-09-21T12:24:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7658", "html_url": "https://github.com/near/nearcore/pull/7658", "diff_url": "https://github.com/near/nearcore/pull/7658.diff", "patch_url": "https://github.com/near/nearcore/pull/7658.patch", "merged_at": "2022-09-21T12:24:22Z"}, "body": "Turns out `CryptoHash::hash_borsh(&[foo])` doesn\u2019t quite do what one\r\nmight expect.  Rather than hashing one-element slice (which is\r\nserialised as length of one plus serialisation of the element) it\r\nhashes one-element array (which is serialised as just the element).\r\n\r\nIntroduce `CryptoHash::hash_borsh_slice` to provide less error-prone\r\nmethod and fix tests which fell victim of the confusion.  The tests\r\nwere broken by commit d5f650ab: \u2018Prefer CryptoHash::hash_borsh to\r\ntry_to_vec+hash combo\u2019.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7657", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7657/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7657/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7657/events", "html_url": "https://github.com/near/nearcore/pull/7657", "id": 1380760843, "node_id": "PR_kwDOCQUkYs4_V7vh", "number": 7657, "title": "refactor: move verify_approvals_and_threshold_orphan to EMA ", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-21T11:19:00Z", "updated_at": "2022-09-22T16:17:48Z", "closed_at": "2022-09-22T16:17:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7657", "html_url": "https://github.com/near/nearcore/pull/7657", "diff_url": "https://github.com/near/nearcore/pull/7657.diff", "patch_url": "https://github.com/near/nearcore/pull/7657.patch", "merged_at": "2022-09-22T16:17:47Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on https://github.com/near/nearcore/pull/7656\r\n\r\nThis is slighly less trivial than pure move -- the API is adjusted to\r\nremove direct dependency on doomslug which lives in a different crate\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7656", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7656/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7656/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7656/events", "html_url": "https://github.com/near/nearcore/pull/7656", "id": 1380750582, "node_id": "PR_kwDOCQUkYs4_V5lp", "number": 7656, "title": "refactor: move signature verification functions to EpochManagerAdapter ", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-21T11:10:18Z", "updated_at": "2022-09-21T16:09:30Z", "closed_at": "2022-09-21T16:09:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7656", "html_url": "https://github.com/near/nearcore/pull/7656", "diff_url": "https://github.com/near/nearcore/pull/7656.diff", "patch_url": "https://github.com/near/nearcore/pull/7656.patch", "merged_at": "2022-09-21T16:09:30Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on #7655\r\n\r\nMust be reviewed per commit. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7655", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7655/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7655/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7655/events", "html_url": "https://github.com/near/nearcore/pull/7655", "id": 1380736609, "node_id": "PR_kwDOCQUkYs4_V2nh", "number": 7655, "title": "refactor: move validator accessor to EpochManagerHandle", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-21T10:59:31Z", "updated_at": "2022-09-21T13:03:28Z", "closed_at": "2022-09-21T12:58:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7655", "html_url": "https://github.com/near/nearcore/pull/7655", "diff_url": "https://github.com/near/nearcore/pull/7655.diff", "patch_url": "https://github.com/near/nearcore/pull/7655.patch", "merged_at": "2022-09-21T12:58:59Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910, depends on #7652\r\n\r\nMust be reviewed per commit. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7655/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7652", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7652/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7652/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7652/events", "html_url": "https://github.com/near/nearcore/pull/7652", "id": 1379774640, "node_id": "PR_kwDOCQUkYs4_SzEs", "number": 7652, "title": "refactor: add EpochManagerAdapter infra ", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-20T17:41:34Z", "updated_at": "2022-09-22T09:26:00Z", "closed_at": "2022-09-21T12:39:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7652", "html_url": "https://github.com/near/nearcore/pull/7652", "diff_url": "https://github.com/near/nearcore/pull/7652.diff", "patch_url": "https://github.com/near/nearcore/pull/7652.patch", "merged_at": "2022-09-21T12:39:12Z"}, "body": "Part of https://github.com/near/nearcore/issues/6910\r\n\r\nThe grand plan is to separate EpochManager out of NightshadeRuntime. As\r\na first step, I want to separate the *types* of runtime and epoch\r\nmanager, while keeping them in the same object. I want to do this via\r\nthe following series of steps:\r\n\r\n```\r\ntrait RuntimeAdapter {}\r\n```\r\n\r\n```\r\ntrait EpochManagerAdapter {}\r\n\r\ntrait RuntimeAdapter: EpochManagerAdapter {}\r\n```\r\n\r\n```\r\ntrait EpochManagerAdapter {}\r\n\r\ntrait RuntimeAdapter {}\r\n```\r\n\r\nThis PR introduces the EpochManagerAdapter infra.\r\n\r\nYou can see the rough idea of the plan in https://github.com/near/nearcore/pull/7606", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7652/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7651", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7651/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7651/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7651/events", "html_url": "https://github.com/near/nearcore/pull/7651", "id": 1379556747, "node_id": "PR_kwDOCQUkYs4_SFqv", "number": 7651, "title": "feat: icount estimations without RocksDB", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-20T14:52:17Z", "updated_at": "2022-09-20T17:42:12Z", "closed_at": "2022-09-20T17:42:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7651", "html_url": "https://github.com/near/nearcore/pull/7651", "diff_url": "https://github.com/near/nearcore/pull/7651.diff", "patch_url": "https://github.com/near/nearcore/pull/7651.patch", "merged_at": "2022-09-20T17:42:02Z"}, "body": "Do not use RocksDB for qemu based estimations, it is very slow and has\r\nvery high variance. It also doesn't measure anything useful, the IO\r\nbytes that we count are not a good approximation for IO costs at all.\r\nSee #6445 for a detailed explanation why this is the case.\r\n\r\nResolves #7526.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7651/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7648", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7648/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7648/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7648/events", "html_url": "https://github.com/near/nearcore/pull/7648", "id": 1379204582, "node_id": "PR_kwDOCQUkYs4_Q6vz", "number": 7648, "title": "Rollback of #7130 - due to cargo issue", "user": {"login": "mm-near", "id": 91919554, "node_id": "U_kgDOBXqUwg", "avatar_url": "https://avatars.githubusercontent.com/u/91919554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mm-near", "html_url": "https://github.com/mm-near", "followers_url": "https://api.github.com/users/mm-near/followers", "following_url": "https://api.github.com/users/mm-near/following{/other_user}", "gists_url": "https://api.github.com/users/mm-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/mm-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mm-near/subscriptions", "organizations_url": "https://api.github.com/users/mm-near/orgs", "repos_url": "https://api.github.com/users/mm-near/repos", "events_url": "https://api.github.com/users/mm-near/events{/privacy}", "received_events_url": "https://api.github.com/users/mm-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-20T10:45:35Z", "updated_at": "2022-12-05T11:15:36Z", "closed_at": "2022-09-20T11:20:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7648", "html_url": "https://github.com/near/nearcore/pull/7648", "diff_url": "https://github.com/near/nearcore/pull/7648.diff", "patch_url": "https://github.com/near/nearcore/pull/7648.patch", "merged_at": "2022-09-20T11:20:38Z"}, "body": "Cargo's bug repro: https://github.com/rust-lang/cargo/pull/11114\r\n\r\nThis has caused the flag not to be passed into rocksdb -- therefore impacting node performance.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7648/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7647", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7647/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7647/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7647/events", "html_url": "https://github.com/near/nearcore/pull/7647", "id": 1379196274, "node_id": "PR_kwDOCQUkYs4_Q493", "number": 7647, "title": "Allowing configure more peer-related things in config", "user": {"login": "mm-near", "id": 91919554, "node_id": "U_kgDOBXqUwg", "avatar_url": "https://avatars.githubusercontent.com/u/91919554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mm-near", "html_url": "https://github.com/mm-near", "followers_url": "https://api.github.com/users/mm-near/followers", "following_url": "https://api.github.com/users/mm-near/following{/other_user}", "gists_url": "https://api.github.com/users/mm-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/mm-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mm-near/subscriptions", "organizations_url": "https://api.github.com/users/mm-near/orgs", "repos_url": "https://api.github.com/users/mm-near/repos", "events_url": "https://api.github.com/users/mm-near/events{/privacy}", "received_events_url": "https://api.github.com/users/mm-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-20T10:38:40Z", "updated_at": "2022-09-22T19:39:52Z", "closed_at": "2022-09-22T19:39:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7647", "html_url": "https://github.com/near/nearcore/pull/7647", "diff_url": "https://github.com/near/nearcore/pull/7647.diff", "patch_url": "https://github.com/near/nearcore/pull/7647.patch", "merged_at": "2022-09-22T19:39:51Z"}, "body": "* monitor_peers_max_period - controls how ofen we think about connecting to a new peer (default is 60 seconds)\r\n* peer_expiration_duration - controls when we remove the peer from candidate set (default - 7 days since we heard from it)\r\n\r\nAlso hooked up peer_stats_period to use the value from config if set.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7647/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7646", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7646/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7646/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7646/events", "html_url": "https://github.com/near/nearcore/pull/7646", "id": 1379193832, "node_id": "PR_kwDOCQUkYs4_Q4b0", "number": 7646, "title": "Optimize prometheus metrics which are incremented most often", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-20T10:36:33Z", "updated_at": "2022-09-22T11:03:27Z", "closed_at": "2022-09-22T11:03:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7646", "html_url": "https://github.com/near/nearcore/pull/7646", "diff_url": "https://github.com/near/nearcore/pull/7646.diff", "patch_url": "https://github.com/near/nearcore/pull/7646.patch", "merged_at": "2022-09-22T11:03:26Z"}, "body": "Use a faster way of converting `shard_id` to a string.\r\nCrate `itoa` provides the fastest way of converting ints to strings.\r\n\r\nSnapshot of metrics from a mainnet node. Note that some metrics are not incremented by 1 (`inc()`), but rather by a larger number using `inc_by()`.\r\n```\r\n1948843343 near_chunk_cache_hits # Not hot\r\n399446179 near_chunk_cache_misses # Not hot\r\n376782133 near_shard_cache_hits # Not hot\r\n276622570 near_peer_manager_messages_time_count\r\n239378614 near_applied_trie_deletions    # Optimized\r\n206898552 near_database_op_latency_by_op_and_column_count\r\n184492507 near_peer_message_sent_by_type_total\r\n179740890 near_peer_message_received_total\r\n179344494 near_peer_message_received_by_type_total\r\n168098152 near_applied_trie_insertions    # Optimized\r\n160684011 near_shard_cache_pop_hits # Not hot\r\n100536077 near_client_triggers_time_count\r\n100064991 near_requests_count_by_type_total\r\n98868135 near_client_messages_processing_time_count\r\n98868135 near_client_messages_count\r\n97408226 near_peer_client_message_received_by_type_total\r\n94021301 near_network_routed_msg_latency_count\r\n80880283 partial_encoded_chunk_request_delay_count\r\n78394032 near_shard_cache_gc_pop_misses\r\n51277767 partial_encoded_chunk_response_delay_count\r\n43248133 near_partial_encoded_chunk_request_processing_time_count\r\n22664046 near_shard_cache_misses # Not hot\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7646/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7644", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7644/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7644/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7644/events", "html_url": "https://github.com/near/nearcore/pull/7644", "id": 1379116039, "node_id": "PR_kwDOCQUkYs4_Qnqf", "number": 7644, "title": "fix: estimator contract and feature_ed25519_verify", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-20T09:37:38Z", "updated_at": "2022-09-20T17:20:49Z", "closed_at": "2022-09-20T14:57:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7644", "html_url": "https://github.com/near/nearcore/pull/7644", "diff_url": "https://github.com/near/nearcore/pull/7644.diff", "patch_url": "https://github.com/near/nearcore/pull/7644.patch", "merged_at": "2022-09-20T14:57:29Z"}, "body": "Makes estimations run again (with and) without `--features=nightly`.\r\n\r\n#7165 introduced new methods in the estimator contract but we forgot to hide them behind cfg.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7644/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7643", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7643/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7643/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7643/events", "html_url": "https://github.com/near/nearcore/pull/7643", "id": 1378285109, "node_id": "PR_kwDOCQUkYs4_N2-U", "number": 7643, "title": "fix: flaky test", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-19T17:23:57Z", "updated_at": "2022-09-20T22:07:13Z", "closed_at": "2022-09-20T22:07:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7643", "html_url": "https://github.com/near/nearcore/pull/7643", "diff_url": "https://github.com/near/nearcore/pull/7643.diff", "patch_url": "https://github.com/near/nearcore/pull/7643.patch", "merged_at": "2022-09-20T22:07:13Z"}, "body": "This test actually requires `mock_node` feature to be enabled to work.\r\n\r\nI am not sure what's the best way to run this test. The ideal solution\r\nwould be to add an extra CI job just for mock-node, but I would loath\r\nto combinatorially inflate CI for every feature we have. Not that it\r\nwould be particularly problematic for mock-node, but it would seem\r\nlike a bad precedent. So instead I tacked mock_node to our nightly\r\ntests. This is roughly how it worked anyway, while mock_node was\r\na default feature.\r\n\r\nOf corse, in the ideal world we'd perhaps not use conditional\r\ncompilation here (or anywhere at all, really), but this isn't the\r\nbattle I am ready to fight yet.\r\n\r\ncloses https://github.com/near/nearcore/issues/7631\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7643/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7643/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7641", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7641/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7641/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7641/events", "html_url": "https://github.com/near/nearcore/pull/7641", "id": 1378122712, "node_id": "PR_kwDOCQUkYs4_NUGM", "number": 7641, "title": "store: avoid prefix checks in TrieUpdateIterator by using proper bounds", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-19T15:15:49Z", "updated_at": "2022-09-19T15:49:20Z", "closed_at": "2022-09-19T15:41:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7641", "html_url": "https://github.com/near/nearcore/pull/7641", "diff_url": "https://github.com/near/nearcore/pull/7641.diff", "patch_url": "https://github.com/near/nearcore/pull/7641.patch", "merged_at": "2022-09-19T15:41:51Z"}, "body": "By replacing a BTreeMap range iterator from open-ended into one whose\r\nend depends on the prefix it\u2019s possible to guarantee that only keys\r\nwith specified prefix are returned.  With that guaranteed, it\u2019s no\r\nlonger necessary to manually check if key has the prefix. This\r\nsimplifies the code quite a bit by removing the stop condition.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7641/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7640", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7640/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7640/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7640/events", "html_url": "https://github.com/near/nearcore/pull/7640", "id": 1377901791, "node_id": "PR_kwDOCQUkYs4_MlJi", "number": 7640, "title": "feat: Remove feature of disabling jemalloc", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-19T12:45:30Z", "updated_at": "2022-09-21T16:37:16Z", "closed_at": "2022-09-19T15:57:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7640", "html_url": "https://github.com/near/nearcore/pull/7640", "diff_url": "https://github.com/near/nearcore/pull/7640.diff", "patch_url": "https://github.com/near/nearcore/pull/7640.patch", "merged_at": "2022-09-19T15:57:27Z"}, "body": "Closes #7639 ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7640/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7633", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7633/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7633/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7633/events", "html_url": "https://github.com/near/nearcore/pull/7633", "id": 1377783950, "node_id": "PR_kwDOCQUkYs4_MLdn", "number": 7633, "title": "chore: remove deprecated crate", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-19T11:08:17Z", "updated_at": "2022-09-19T14:32:51Z", "closed_at": "2022-09-19T14:32:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7633", "html_url": "https://github.com/near/nearcore/pull/7633", "diff_url": "https://github.com/near/nearcore/pull/7633.diff", "patch_url": "https://github.com/near/nearcore/pull/7633.patch", "merged_at": "2022-09-19T14:32:51Z"}, "body": "wee_alloc is unmaintained and is known to be broken. For our test\r\ncontract, we don't actually care which allocator to use, sticking with\r\nthe default (dlmalloc I believe) is fine.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7633/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7632", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7632/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7632/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7632/events", "html_url": "https://github.com/near/nearcore/pull/7632", "id": 1377114892, "node_id": "PR_kwDOCQUkYs4_J_ed", "number": 7632, "title": "store: deprecate GCCount column", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-18T16:44:44Z", "updated_at": "2022-12-29T06:22:22Z", "closed_at": "2022-09-19T09:02:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7632", "html_url": "https://github.com/near/nearcore/pull/7632", "diff_url": "https://github.com/near/nearcore/pull/7632.diff", "patch_url": "https://github.com/near/nearcore/pull/7632.patch", "merged_at": "2022-09-19T09:02:25Z"}, "body": "We\u2019re writing to the GCCount column but never read from it in\r\nproduction. It\u2019s only ever used in store validator but even there zero\r\nvalues in garbage-collected columns results in the column being\r\nprinted at the end of the validation rather than any kind of failure.\r\nSo really, I\u2019d argue the column doesn\u2019t serve any purpose.\r\n\r\nRemoving the column not only simplifies the code but also allows us to\r\nget rid of borsh serialisation of the DBCol enum.  This in turn means\r\nthat now the variants in the enum can be rearranged or deleted without\r\nbreaking things.\r\n\r\nNote that I\u2019m not clearing out this column in this commit.  I\u2019m\r\nplanning to introduce an unrelated database migration soon and will do\r\nthe clearing then.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7632/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7630", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7630/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7630/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7630/events", "html_url": "https://github.com/near/nearcore/pull/7630", "id": 1376881739, "node_id": "PR_kwDOCQUkYs4_JUkz", "number": 7630, "title": "core: replace ShardChunkHeader::version_range by valid_for", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-17T21:52:53Z", "updated_at": "2022-09-19T11:18:35Z", "closed_at": "2022-09-19T11:01:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7630", "html_url": "https://github.com/near/nearcore/pull/7630", "diff_url": "https://github.com/near/nearcore/pull/7630.diff", "patch_url": "https://github.com/near/nearcore/pull/7630.patch", "merged_at": "2022-09-19T11:01:31Z"}, "body": "Replace ShardChunkHeader::version_range and\r\nPartialEncodedChunk::version_range methods with valid_for method which\r\nis simpler interface for the call site and which allows us to get rid\r\nof custom ProtocolVersionRange type.\r\n\r\nNote that, yes, PartialEncodedChunk::valid_for is actually unused.\r\nI\u2019m leaving it in though.  Perhaps it\u2019s worth keeping the record of\r\nwhen each version of the PartialEncodedChunk was introduced?\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7629", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7629/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7629/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7629/events", "html_url": "https://github.com/near/nearcore/pull/7629", "id": 1376835290, "node_id": "PR_kwDOCQUkYs4_JMJg", "number": 7629, "title": "Minor fixes to documentation", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-17T17:56:29Z", "updated_at": "2022-09-19T10:40:02Z", "closed_at": "2022-09-19T10:17:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7629", "html_url": "https://github.com/near/nearcore/pull/7629", "diff_url": "https://github.com/near/nearcore/pull/7629.diff", "patch_url": "https://github.com/near/nearcore/pull/7629.patch", "merged_at": "2022-09-19T10:17:35Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7629/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7626", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7626/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7626/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7626/events", "html_url": "https://github.com/near/nearcore/pull/7626", "id": 1376111220, "node_id": "PR_kwDOCQUkYs4_G7jD", "number": 7626, "title": "network: avoid double Arc::clone in NetworkState", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-16T15:32:42Z", "updated_at": "2022-09-16T23:10:44Z", "closed_at": "2022-09-16T21:00:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7626", "html_url": "https://github.com/near/nearcore/pull/7626", "diff_url": "https://github.com/near/nearcore/pull/7626.diff", "patch_url": "https://github.com/near/nearcore/pull/7626.patch", "merged_at": "2022-09-16T21:00:34Z"}, "body": "spawn_outbound takes self as `Arc<Self>` but then calls\r\nspawn_peer_actor passing it as `&Arc<Self>`.  The latter then clones\r\nthe Arc.  Meanwhile, Arc owned by spawn_outbound gets dropped.  Fix by\r\nchanging all the methods to take an Arc and moving cloning to the call\r\nsites.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7626/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7624", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7624/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7624/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7624/events", "html_url": "https://github.com/near/nearcore/pull/7624", "id": 1375685462, "node_id": "PR_kwDOCQUkYs4_FgSs", "number": 7624, "title": "Add 'near_' prefix to metrics exported from nearcore for consistency", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-16T09:30:15Z", "updated_at": "2022-09-21T10:16:33Z", "closed_at": "2022-09-21T09:18:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7624", "html_url": "https://github.com/near/nearcore/pull/7624", "diff_url": "https://github.com/near/nearcore/pull/7624.diff", "patch_url": "https://github.com/near/nearcore/pull/7624.patch", "merged_at": "2022-09-21T09:18:56Z"}, "body": "Renamed metrics:\r\n* `partial_encoded_chunk_request_delay` to `near_partial_encoded_chunk_request_delay`\r\n* `partial_encoded_chunk_response_delay` to `near_partial_encoded_chunk_response_delay`", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7624/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7622", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7622/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7622/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7622/events", "html_url": "https://github.com/near/nearcore/pull/7622", "id": 1375307476, "node_id": "PR_kwDOCQUkYs4_EQO8", "number": 7622, "title": "[chunks] Move chunk completion out of ShardsManager", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-09-16T02:26:07Z", "updated_at": "2022-09-24T04:29:20Z", "closed_at": "2022-09-24T04:29:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7622", "html_url": "https://github.com/near/nearcore/pull/7622", "diff_url": "https://github.com/near/nearcore/pull/7622.diff", "patch_url": "https://github.com/near/nearcore/pull/7622.patch", "merged_at": "2022-09-24T04:29:20Z"}, "body": "* Move handling of chunk completion to a ClientActor message (ShardsManagerResponse), because this will eventually be async. So no more passing DoneApplyingChunksCallback. Add support of this message to TestEnv; tests that rely on chunk part messaging now need to manually handle such messages (because the TestEnv doesn't have real actors). Fixed tests that need this.\r\n* Move ReedSolomonWrapper inside ShardsManager. However Client still has a copy because it actually needs to encode the parts to produce a chunk - at least the merkle root is needed.\r\n* Does not touch ChainStore yet. Leaving that till later.\r\n* Minor refactoring to push chunk part processing logic from Client into ShardsManager (otherwise Client needs to fetch header and stuff).", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7621", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7621/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7621/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7621/events", "html_url": "https://github.com/near/nearcore/pull/7621", "id": 1374617175, "node_id": "PR_kwDOCQUkYs4_B8m4", "number": 7621, "title": "cherry-pick prefetcher", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-15T14:24:25Z", "updated_at": "2022-11-22T14:30:45Z", "closed_at": "2022-09-15T14:59:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7621", "html_url": "https://github.com/near/nearcore/pull/7621", "diff_url": "https://github.com/near/nearcore/pull/7621.diff", "patch_url": "https://github.com/near/nearcore/pull/7621.patch", "merged_at": "2022-09-15T14:59:41Z"}, "body": "Collection of changes to allow prefetch based on argument.\r\n\r\n#7566\r\n#7590\r\n#7620", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7620", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7620/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7620/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7620/events", "html_url": "https://github.com/near/nearcore/pull/7620", "id": 1374295009, "node_id": "PR_kwDOCQUkYs4_A2qf", "number": 7620, "title": "feat: argument based prefetcher", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-15T10:24:11Z", "updated_at": "2022-11-22T14:30:44Z", "closed_at": "2022-09-15T14:11:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7620", "html_url": "https://github.com/near/nearcore/pull/7620", "diff_url": "https://github.com/near/nearcore/pull/7620.diff", "patch_url": "https://github.com/near/nearcore/pull/7620.patch", "merged_at": "2022-09-15T14:11:11Z"}, "body": "Prefetcher that loads IO requests in parallel if the keys are listed in the  smart contract function call argument.\r\n\r\nThis is a experimental feature that has proven to stabilize mainnet nodes under current traffic. Especially when the node is not running with fast local SSDs.\r\n\r\nIn the future we should generalize this implementation.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7620/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7619", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7619/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7619/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7619/events", "html_url": "https://github.com/near/nearcore/pull/7619", "id": 1374278556, "node_id": "PR_kwDOCQUkYs4_AzHk", "number": 7619, "title": "fix: Fix a compiler warning on mac", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-15T10:11:12Z", "updated_at": "2022-09-21T16:37:15Z", "closed_at": "2022-09-15T14:34:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7619", "html_url": "https://github.com/near/nearcore/pull/7619", "diff_url": "https://github.com/near/nearcore/pull/7619.diff", "patch_url": "https://github.com/near/nearcore/pull/7619.patch", "merged_at": "2022-09-15T14:34:48Z"}, "body": "Helps address part of https://github.com/near/nearcore/issues/7618 ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7619/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7617", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7617/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7617/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7617/events", "html_url": "https://github.com/near/nearcore/pull/7617", "id": 1373629710, "node_id": "PR_kwDOCQUkYs4--p15", "number": 7617, "title": "feat: tests and stubs for flat storage deltas", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-09-14T21:54:42Z", "updated_at": "2022-09-20T21:41:29Z", "closed_at": "2022-09-20T21:41:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7617", "html_url": "https://github.com/near/nearcore/pull/7617", "diff_url": "https://github.com/near/nearcore/pull/7617.diff", "patch_url": "https://github.com/near/nearcore/pull/7617.patch", "merged_at": "2022-09-20T21:41:29Z"}, "body": "Adding several unit tests and stubs for flat storage deltas. Not implementing some of them because we don't have enough functionality for it yet.\r\n\r\nAlso fixing logic for merge deltas because store update doesn't support transaction overwrites.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7615", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7615/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7615/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7615/events", "html_url": "https://github.com/near/nearcore/pull/7615", "id": 1373416344, "node_id": "PR_kwDOCQUkYs4-976n", "number": 7615, "title": "Prefer CryptoHash::hash_borsh to try_to_vec+hash combo", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-14T18:29:05Z", "updated_at": "2022-09-15T22:56:50Z", "closed_at": "2022-09-15T22:51:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7615", "html_url": "https://github.com/near/nearcore/pull/7615", "diff_url": "https://github.com/near/nearcore/pull/7615.diff", "patch_url": "https://github.com/near/nearcore/pull/7615.patch", "merged_at": "2022-09-15T22:51:53Z"}, "body": "CryptoHash::hash_borsh doesn\u2019t allocate a vector where the object is\r\nserialised into instead calculating the hash directly as the data is\r\nserialised.  This reduces amount of memory allocations and thus\r\noptimises the code.\r\n\r\nIt is worth noting however that while try_to_vec may fail, hash_borsh\r\npanics on failures.  In most cases we were unwrapping the result of\r\nserialisation anyway, but it does change behaviour in chain which used\r\nto propagate the error and now it\u2019s panicking on failure.  However,\r\nthat code operates on values which in practice cannot fail\r\nserialisation so the change should be fine.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7615/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7614", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7614/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7614/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7614/events", "html_url": "https://github.com/near/nearcore/pull/7614", "id": 1373382721, "node_id": "PR_kwDOCQUkYs4-90qM", "number": 7614, "title": "Implement flat storage factory", "user": {"login": "mzhangmzz", "id": 34969888, "node_id": "MDQ6VXNlcjM0OTY5ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/34969888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzhangmzz", "html_url": "https://github.com/mzhangmzz", "followers_url": "https://api.github.com/users/mzhangmzz/followers", "following_url": "https://api.github.com/users/mzhangmzz/following{/other_user}", "gists_url": "https://api.github.com/users/mzhangmzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzhangmzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzhangmzz/subscriptions", "organizations_url": "https://api.github.com/users/mzhangmzz/orgs", "repos_url": "https://api.github.com/users/mzhangmzz/repos", "events_url": "https://api.github.com/users/mzhangmzz/events{/privacy}", "received_events_url": "https://api.github.com/users/mzhangmzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-14T18:00:26Z", "updated_at": "2022-09-20T19:57:15Z", "closed_at": "2022-09-20T19:57:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7614", "html_url": "https://github.com/near/nearcore/pull/7614", "diff_url": "https://github.com/near/nearcore/pull/7614.diff", "patch_url": "https://github.com/near/nearcore/pull/7614.patch", "merged_at": "2022-09-20T19:57:14Z"}, "body": "Implements FlatStorageFactory, which is the struct that provides access to FlatState and FlatStorageState. \r\n\r\nTest plan:\r\n- https://buildkite.com/nearprotocol/nearcore-flat-state/builds/53 The tests marked as SHOULD PASS are passed. These are some integration tests we marked to test some basic cases for block processing", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7613", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7613/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7613/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7613/events", "html_url": "https://github.com/near/nearcore/pull/7613", "id": 1373007784, "node_id": "PR_kwDOCQUkYs4-8keJ", "number": 7613, "title": "Function call success and error metrics", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-14T13:39:43Z", "updated_at": "2022-09-26T22:13:50Z", "closed_at": "2022-09-15T11:33:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7613", "html_url": "https://github.com/near/nearcore/pull/7613", "diff_url": "https://github.com/near/nearcore/pull/7613.diff", "patch_url": "https://github.com/near/nearcore/pull/7613.patch", "merged_at": "2022-09-15T11:33:40Z"}, "body": "Provides visibility into the success rate of processing function call actions.\r\nIn case of errors, this PR also counts the error types and sub-types where it makes sense.\r\n\r\nWould be useful to have `shard_id` in these metrics, but the runtime is not supposed to know anything about epochs, shard layouts, etc.\r\n\r\n```\r\n# HELP near_function_call_processed The number of function calls processed since starting this node\r\n# TYPE near_function_call_processed counter\r\nnear_function_call_processed{result=\"FunctionCallError\"} 17\r\nnear_function_call_processed{result=\"ok\"} 1088\r\n# HELP near_function_call_processed_function_call_errors The number of function calls resulting in function call errors, since starting this node\r\n# TYPE near_function_call_processed_function_call_errors counter\r\nnear_function_call_processed_function_call_errors{error_type=\"HostError\"} 17\r\n# HELP near_function_call_processed_host_errors The number of function calls resulting in host errors, since starting this node\r\n# TYPE near_function_call_processed_host_errors counter\r\nnear_function_call_processed_host_errors{error_type=\"GasLimitExceeded\"} 5\r\nnear_function_call_processed_host_errors{error_type=\"GuestPanic\"} 12\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7613/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7612", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7612/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7612/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7612/events", "html_url": "https://github.com/near/nearcore/pull/7612", "id": 1372034742, "node_id": "PR_kwDOCQUkYs4-5Tb_", "number": 7612, "title": "primitives: optimise ExecutionOutcomeWithId::to_hashes", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-13T21:38:47Z", "updated_at": "2022-09-19T13:56:28Z", "closed_at": "2022-09-19T11:30:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7612", "html_url": "https://github.com/near/nearcore/pull/7612", "diff_url": "https://github.com/near/nearcore/pull/7612.diff", "patch_url": "https://github.com/near/nearcore/pull/7612.patch", "merged_at": "2022-09-19T11:30:50Z"}, "body": "Allocate single correctly-sized vector in the to_hashes method rather\r\nthan having ExecutionOutcome::to_hashes which creates a second vector\r\nwhich is the appended to the result.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7611", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7611/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7611/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7611/events", "html_url": "https://github.com/near/nearcore/pull/7611", "id": 1371599746, "node_id": "PR_kwDOCQUkYs4-33E4", "number": 7611, "title": "VersionedPartialEncodedChunk is important", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-13T15:01:28Z", "updated_at": "2022-09-13T15:50:26Z", "closed_at": "2022-09-13T15:50:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7611", "html_url": "https://github.com/near/nearcore/pull/7611", "diff_url": "https://github.com/near/nearcore/pull/7611.diff", "patch_url": "https://github.com/near/nearcore/pull/7611.patch", "merged_at": "2022-09-13T15:50:26Z"}, "body": "PartialEncodedChunk is deprecated and effectively unused. It is VersionedPartialEncodedChunk which is sent by chunk producer to approvers and should be reliably delivered.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7610", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7610/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7610/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7610/events", "html_url": "https://github.com/near/nearcore/pull/7610", "id": 1371237760, "node_id": "PR_kwDOCQUkYs4-2ory", "number": 7610, "title": "removed deprecated RoutedMessageBody::PartialEncodedChunk", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-13T10:41:19Z", "updated_at": "2022-09-13T16:06:27Z", "closed_at": "2022-09-13T16:06:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7610", "html_url": "https://github.com/near/nearcore/pull/7610", "diff_url": "https://github.com/near/nearcore/pull/7610.diff", "patch_url": "https://github.com/near/nearcore/pull/7610.patch", "merged_at": "2022-09-13T16:06:27Z"}, "body": "PartialEncodedChunk was deprecated in favor of VersionedPartialEncodedChunk for 2 years now: https://github.com/near/nearcore/pull/3463\r\nIt is confusing, in particular we have configured PartialEncodedChunk to be sent out 3x (to make it delivered reliably) while\r\nwe should have done that for VersionedPartialEncodedChunk (which is still sent out just 1x).\r\n\r\nThere is a codepath which encodes V1 PartialEncodedChunk into this specific RoutedMessagebody variant, however while decoding this distinction is lost. Technically this PR should be split into 2 separate rollouts (first: stop using the deprecated variant to send messages; second: stop accepting the deprecated variant). The situation gets even more complicated, because network protocol is supposed to be backward compatible for 2 versions (so, 3 rollouts), and since this is a routed message you can imagine a sequence of nodes where node in version N sends a message to node in version N+4 via node in version N+2 (and theoretically no amount of rollouts helps then, because the intermediate nodes cannot translate the message to a newer format, because it is signed).\r\n\r\nIn spite of all of that AFAICT it is safe to merge this PR in one go, because VersionedPartialEncodedChunk is used only to send new chunks from chunk producer to approvers. Therefore it is used only with V2 PartialEncodedChunk for quite some time now.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7610/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7609", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7609/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7609/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7609/events", "html_url": "https://github.com/near/nearcore/pull/7609", "id": 1370567652, "node_id": "PR_kwDOCQUkYs4-0aux", "number": 7609, "title": "Mark BlockHeader as insert only", "user": {"login": "mzhangmzz", "id": 34969888, "node_id": "MDQ6VXNlcjM0OTY5ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/34969888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzhangmzz", "html_url": "https://github.com/mzhangmzz", "followers_url": "https://api.github.com/users/mzhangmzz/followers", "following_url": "https://api.github.com/users/mzhangmzz/following{/other_user}", "gists_url": "https://api.github.com/users/mzhangmzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzhangmzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzhangmzz/subscriptions", "organizations_url": "https://api.github.com/users/mzhangmzz/orgs", "repos_url": "https://api.github.com/users/mzhangmzz/repos", "events_url": "https://api.github.com/users/mzhangmzz/events{/privacy}", "received_events_url": "https://api.github.com/users/mzhangmzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-12T21:59:10Z", "updated_at": "2022-09-14T15:41:33Z", "closed_at": "2022-09-14T15:41:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7609", "html_url": "https://github.com/near/nearcore/pull/7609", "diff_url": "https://github.com/near/nearcore/pull/7609.diff", "patch_url": "https://github.com/near/nearcore/pull/7609.patch", "merged_at": "2022-09-14T15:41:32Z"}, "body": "We might need to add another cache for BlockHeader in flat storage, so marking it to be insert only here to make sure having multiple caches on this column is ok. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7609/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7608", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7608/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7608/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7608/events", "html_url": "https://github.com/near/nearcore/pull/7608", "id": 1369324729, "node_id": "PR_kwDOCQUkYs4-wNFE", "number": 7608, "title": "store: remove TrieUpdate::range", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-12T06:00:41Z", "updated_at": "2022-09-19T14:49:55Z", "closed_at": "2022-09-19T14:48:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7608", "html_url": "https://github.com/near/nearcore/pull/7608", "diff_url": "https://github.com/near/nearcore/pull/7608.diff", "patch_url": "https://github.com/near/nearcore/pull/7608.patch", "merged_at": "2022-09-19T14:48:39Z"}, "body": "The TrieUpdate::range function is never used and makes the code\r\nnoticeably more complicated.  Remove it.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7608/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7607", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7607/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7607/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7607/events", "html_url": "https://github.com/near/nearcore/pull/7607", "id": 1368773522, "node_id": "PR_kwDOCQUkYs4-udIM", "number": 7607, "title": "pytest: fix db_migration.py after changes to migration config options", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717543, "node_id": "MDU6TGFiZWwxMTU5NzE3NTQz", "url": "https://api.github.com/repos/near/nearcore/labels/P-high", "name": "P-high", "color": "B60205", "default": false, "description": "Priority: High"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-11T01:10:59Z", "updated_at": "2022-09-12T06:50:11Z", "closed_at": "2022-09-12T06:49:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7607", "html_url": "https://github.com/near/nearcore/pull/7607", "diff_url": "https://github.com/near/nearcore/pull/7607.diff", "patch_url": "https://github.com/near/nearcore/pull/7607.patch", "merged_at": "2022-09-12T06:49:41Z"}, "body": "Since db_migration.py uses the stable neard to initialise the node, it\r\nresults with config.json with use_db_migration_snapshot field\r\nset. This makes the new binary complain when it tries to run\r\nmigration.\r\n\r\nNote that this shouldn\u2019t be a major issue in production since config\r\nfiles offered on S3 don\u2019t have that field set.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7604", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7604/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7604/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7604/events", "html_url": "https://github.com/near/nearcore/pull/7604", "id": 1368316517, "node_id": "PR_kwDOCQUkYs4-tEHN", "number": 7604, "title": "feat: add flat state deltas for each shard", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-09-09T20:54:22Z", "updated_at": "2022-09-14T18:58:42Z", "closed_at": "2022-09-14T18:58:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7604", "html_url": "https://github.com/near/nearcore/pull/7604", "diff_url": "https://github.com/near/nearcore/pull/7604.diff", "patch_url": "https://github.com/near/nearcore/pull/7604.patch", "merged_at": "2022-09-14T18:58:42Z"}, "body": "Implement flat state deltas - updates for flat state from each shard. Applying one delta should move flat state head one block forward and properly update value refs for trie keys.\r\n\r\nThe approach is safe to use for chains without forks, but not safe otherwise because flat state should be properly locked during updates. Also it doesn't support garbage collection of old deltas. In following PRs, deltas will be used to support forks fully.\r\n\r\nHere we also add temporary support for moving flat state head forward to final blocks found on `get_deltas_between_blocks`, because otherwise localnet testing is too slow as it need to read all deltas from genesis.\r\n\r\n## Testing\r\n\r\n* Running loadtest on localnet with 4 shards - checked that it doesn't crash and block processing time is normal.\r\n* Existing runtime tests with `protocol_feature_flat_state` enabled - e.g. `test_trie_and_flat_state_equality`\r\n* TODO: tune dedicated pipeline for it https://buildkite.com/nearprotocol/nearcore-flat-state", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7604/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7603", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7603/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7603/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7603/events", "html_url": "https://github.com/near/nearcore/pull/7603", "id": 1368246668, "node_id": "PR_kwDOCQUkYs4-s1SY", "number": 7603, "title": "view_state: add include_proof argument to view state request", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717543, "node_id": "MDU6TGFiZWwxMTU5NzE3NTQz", "url": "https://api.github.com/repos/near/nearcore/labels/P-high", "name": "P-high", "color": "B60205", "default": false, "description": "Priority: High"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-09T19:35:45Z", "updated_at": "2023-01-19T13:34:18Z", "closed_at": "2022-09-19T17:56:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7603", "html_url": "https://github.com/near/nearcore/pull/7603", "diff_url": "https://github.com/near/nearcore/pull/7603.diff", "patch_url": "https://github.com/near/nearcore/pull/7603.patch", "merged_at": "2022-09-19T17:56:35Z"}, "body": "Add include_proof to QueryRequest::ViewState requests and view_state\r\nruntime function.  If set to true the proof of the response will be\r\npopulated with nodes which can be used to verify the\r\nvalues. Otherwise, the proof won\u2019t be included.  For JSON RPC, the\r\ndefault is for the parameter to be set to false.\r\n\r\nFurthermore, deprecate empty proof fields in the query response.\r\nThose were historically always sent and it\u2019s possible that clients\r\nexist which expects them to exist even though they were always empty\r\nin the past.  Plan for the future is to include the `proof` field only\r\nwhen proof was requested.\r\n\r\nIssue: https://github.com/near/nearcore/pull/2076\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7603/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7602", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7602/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7602/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7602/events", "html_url": "https://github.com/near/nearcore/pull/7602", "id": 1368189003, "node_id": "PR_kwDOCQUkYs4-spKU", "number": 7602, "title": "refactored handshake logic before adding tier1 support", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-09T18:32:36Z", "updated_at": "2022-09-19T16:33:48Z", "closed_at": "2022-09-19T16:33:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7602", "html_url": "https://github.com/near/nearcore/pull/7602", "diff_url": "https://github.com/near/nearcore/pull/7602.diff", "patch_url": "https://github.com/near/nearcore/pull/7602.patch", "merged_at": "2022-09-19T16:33:47Z"}, "body": "This change introduces no change to the network protocol, binaries from before and after refactor are expected to connect without problem.\r\nI've extracted handshake state (aka HandshakeSpec) from the PeerActor.\r\nI've reduced the amount of logic in handle_msg_register_peer.\r\nWith a dedicated handshake state machine it will be easier to grasp the additions that tier1 support for PeerActor will introduce.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7602/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7601", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7601/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7601/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7601/events", "html_url": "https://github.com/near/nearcore/pull/7601", "id": 1368188550, "node_id": "PR_kwDOCQUkYs4-spES", "number": 7601, "title": "json: remove deprecated old style path+data request format", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T18:32:08Z", "updated_at": "2022-09-09T20:17:10Z", "closed_at": "2022-09-09T20:17:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7601", "html_url": "https://github.com/near/nearcore/pull/7601", "diff_url": "https://github.com/near/nearcore/pull/7601.diff", "patch_url": "https://github.com/near/nearcore/pull/7601.patch", "merged_at": "2022-09-09T20:17:09Z"}, "body": "This has been deprecated at least since August 2020 (see #3237), isn\u2019t\r\ndocumented and it\u2019s probably fair to say that anyone who cared\r\nmigrated to JSON RPC requests.\r\n\r\nAs a side effect, this allows us to get rid of from_base58 function.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7601/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7600", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7600/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7600/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7600/events", "html_url": "https://github.com/near/nearcore/pull/7600", "id": 1368172918, "node_id": "PR_kwDOCQUkYs4-slx7", "number": 7600, "title": "Fix failing tests by removing an assert that was actually possible", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T18:15:43Z", "updated_at": "2022-09-09T18:27:27Z", "closed_at": "2022-09-09T18:27:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7600", "html_url": "https://github.com/near/nearcore/pull/7600", "diff_url": "https://github.com/near/nearcore/pull/7600.diff", "patch_url": "https://github.com/near/nearcore/pull/7600.patch", "merged_at": "2022-09-09T18:27:27Z"}, "body": "See https://github.com/near/nearcore/pull/7595 for context. The tests were failing because of this assert.\r\n\r\nThis assert should actually be a return; see the code comments.\r\n\r\nStress-ran the sync_state_nodes_multishard test 50 times; used to be flaky, now passes.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7600/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7597", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7597/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7597/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7597/events", "html_url": "https://github.com/near/nearcore/pull/7597", "id": 1367889916, "node_id": "PR_kwDOCQUkYs4-rqTO", "number": 7597, "title": "buildkite: don\u2019t start Redis when running tests", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}, {"id": 1677661554, "node_id": "MDU6TGFiZWwxNjc3NjYxNTU0", "url": "https://api.github.com/repos/near/nearcore/labels/A-CI", "name": "A-CI", "color": "0000ff", "default": false, "description": "Area: Continuous Integration"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T14:13:16Z", "updated_at": "2022-09-09T20:07:07Z", "closed_at": "2022-09-09T20:02:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7597", "html_url": "https://github.com/near/nearcore/pull/7597", "diff_url": "https://github.com/near/nearcore/pull/7597.diff", "patch_url": "https://github.com/near/nearcore/pull/7597.patch", "merged_at": "2022-09-09T20:02:42Z"}, "body": "We used to have a Redis test which required running instance of Redis\r\nrunning on the machine.  However, the test has been removed in commit\r\n83a08f5b02f090363dd21f8601f6b0165f651875 so it\u2019s no longer necessary\r\nto set the instance up on CI.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7597/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7594", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7594/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7594/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7594/events", "html_url": "https://github.com/near/nearcore/pull/7594", "id": 1367807418, "node_id": "PR_kwDOCQUkYs4-rYaL", "number": 7594, "title": "store: propagate error when deleting the snapshot", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T13:09:04Z", "updated_at": "2022-09-09T13:54:07Z", "closed_at": "2022-09-09T13:47:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7594", "html_url": "https://github.com/near/nearcore/pull/7594", "diff_url": "https://github.com/near/nearcore/pull/7594.diff", "patch_url": "https://github.com/near/nearcore/pull/7594.patch", "merged_at": "2022-09-09T13:47:00Z"}, "body": "If Snapshot::remove failed to delete the snapshot it would log the\r\nerror but wouldn\u2019t propagate it letting the node continue to work. The\r\nreasoning was that the database has migrated so there\u2019s no harm just\r\ngoing on.\r\n\r\nHowever, it\u2019s possible that operator won\u2019t notice errors in the log\r\nand leave the snapshot around.  This will waste space but also cause\r\nnext migration to fail.  What\u2019s worse, that failure will recommend\r\nrolling back to the existing snapshot.  This may result in database\r\nbeing rolled back to state from weeks or months ago.\r\n\r\nChange this behaviour by making Snapshot::remove propagate the error\r\nand opening of the database failing if the removal fails.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7593", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7593/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7593/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7593/events", "html_url": "https://github.com/near/nearcore/pull/7593", "id": 1367394991, "node_id": "PR_kwDOCQUkYs4-qAw5", "number": 7593, "title": "store: add proof to ViewState response", "user": {"login": "blasrodri", "id": 2600471, "node_id": "MDQ6VXNlcjI2MDA0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2600471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blasrodri", "html_url": "https://github.com/blasrodri", "followers_url": "https://api.github.com/users/blasrodri/followers", "following_url": "https://api.github.com/users/blasrodri/following{/other_user}", "gists_url": "https://api.github.com/users/blasrodri/gists{/gist_id}", "starred_url": "https://api.github.com/users/blasrodri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blasrodri/subscriptions", "organizations_url": "https://api.github.com/users/blasrodri/orgs", "repos_url": "https://api.github.com/users/blasrodri/repos", "events_url": "https://api.github.com/users/blasrodri/events{/privacy}", "received_events_url": "https://api.github.com/users/blasrodri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-09T07:13:15Z", "updated_at": "2022-09-09T16:30:18Z", "closed_at": "2022-09-09T15:03:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7593", "html_url": "https://github.com/near/nearcore/pull/7593", "diff_url": "https://github.com/near/nearcore/pull/7593.diff", "patch_url": "https://github.com/near/nearcore/pull/7593.patch", "merged_at": "2022-09-09T15:03:21Z"}, "body": "Introduce visited_nodes to TrieIterator which records raw bytes of all\r\nthe nodes the iterator visits.  Those are then returned as proof in\r\nresponse to ViewState request.  Since the exact nodes the iterator\r\nvisited are included in the proof, it is therefore possible to verify\r\nall the values returned in the state.\r\n\r\nAt the moment the proof is always included.\r\n\r\nFixes: https://github.com/near/nearcore/pull/2076\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7593/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7592", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7592/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7592/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7592/events", "html_url": "https://github.com/near/nearcore/pull/7592", "id": 1367202092, "node_id": "PR_kwDOCQUkYs4-pXqR", "number": 7592, "title": "Structural implementation of flat storage", "user": {"login": "mzhangmzz", "id": 34969888, "node_id": "MDQ6VXNlcjM0OTY5ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/34969888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzhangmzz", "html_url": "https://github.com/mzhangmzz", "followers_url": "https://api.github.com/users/mzhangmzz/followers", "following_url": "https://api.github.com/users/mzhangmzz/following{/other_user}", "gists_url": "https://api.github.com/users/mzhangmzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzhangmzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzhangmzz/subscriptions", "organizations_url": "https://api.github.com/users/mzhangmzz/orgs", "repos_url": "https://api.github.com/users/mzhangmzz/repos", "events_url": "https://api.github.com/users/mzhangmzz/events{/privacy}", "received_events_url": "https://api.github.com/users/mzhangmzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-09T02:33:22Z", "updated_at": "2022-09-22T22:11:19Z", "closed_at": "2022-09-13T08:50:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7592", "html_url": "https://github.com/near/nearcore/pull/7592", "diff_url": "https://github.com/near/nearcore/pull/7592.diff", "patch_url": "https://github.com/near/nearcore/pull/7592.patch", "merged_at": "2022-09-13T08:50:20Z"}, "body": "This PR maps out the main component of flat storage and add some placeholder code to show how flat storage will interact with block processing", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7591", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7591/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7591/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7591/events", "html_url": "https://github.com/near/nearcore/pull/7591", "id": 1367159608, "node_id": "PR_kwDOCQUkYs4-pOr4", "number": 7591, "title": "store: replace StoreOpener::create with Mode::Create", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T01:18:15Z", "updated_at": "2022-09-09T12:14:26Z", "closed_at": "2022-09-09T12:13:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7591", "html_url": "https://github.com/near/nearcore/pull/7591", "diff_url": "https://github.com/near/nearcore/pull/7591.diff", "patch_url": "https://github.com/near/nearcore/pull/7591.patch", "merged_at": "2022-09-09T12:13:04Z"}, "body": "Introduce new mode for opening the storage, Mode::Create, and use it\r\ninstead of StoreOpener::create method.  This is removes some\r\nnonsensical combinations where one might set mode to ReadOnly or\r\nReadWriteExisting and then call create method.\r\n\r\nFurthermore, get rid of StoreOpener::mode method and instead add\r\nStoreOpener::open_in_mode which takes the mode at the moment when\r\ndatabase is opened.  I\u2019d say it ends up being more readable as the\r\nmode is always specified at the exact same location where function to\r\nopen the storage is called.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7591/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7590", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7590/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7590/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7590/events", "html_url": "https://github.com/near/nearcore/pull/7590", "id": 1367064850, "node_id": "PR_kwDOCQUkYs4-o6K2", "number": 7590, "title": "feat: prefetch accounts and access keys", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-08T22:43:54Z", "updated_at": "2022-11-22T14:30:41Z", "closed_at": "2022-09-14T13:03:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7590", "html_url": "https://github.com/near/nearcore/pull/7590", "diff_url": "https://github.com/near/nearcore/pull/7590.diff", "patch_url": "https://github.com/near/nearcore/pull/7590.patch", "merged_at": "2022-09-14T13:03:44Z"}, "body": "Introduces the concept of prefetching data from the DB while applying chunks.\r\n\r\nThis is non-speculative prefetching only for now. In other words, the future is not speculatively predicted, only data is fetched that is guaranteed to be useful. More details on that inside `runtime/runtime/src/prefetch.rs`.\r\n\r\nNo protocol change is needed for this. In general, prefetching how it has been implemented is (supposed to be) invisible in all possible ways, other than trie storage latency.\r\n\r\nPerformance wise, this is going to make the worst-case assumption for all action receipts better. The worst case is that two accounts and one access keys have to be fetched from disk for every receipt. This IO cost dominates the gas cost for action receipt creation.\r\n\r\nPrefetching this data opens the door to potentially reducing this cost. This could affect all actions but is particularly relevant for redistributing gas costs around function call actions, see also #6992.\r\n\r\n----\r\n### Test plan\r\nTests check that the prefetcher loads the trie nodes that are expected into the staging area and that they are removed from it afterwards.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7590/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7589", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7589/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7589/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7589/events", "html_url": "https://github.com/near/nearcore/pull/7589", "id": 1366952818, "node_id": "PR_kwDOCQUkYs4-oh5F", "number": 7589, "title": "minor network API cleanup", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-08T20:31:39Z", "updated_at": "2022-09-09T14:00:49Z", "closed_at": "2022-09-09T14:00:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7589", "html_url": "https://github.com/near/nearcore/pull/7589", "diff_url": "https://github.com/near/nearcore/pull/7589.diff", "patch_url": "https://github.com/near/nearcore/pull/7589.patch", "merged_at": "2022-09-09T14:00:48Z"}, "body": "Removed bunch of type reexports which are not used outside of near-network.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7589/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7588", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7588/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7588/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7588/events", "html_url": "https://github.com/near/nearcore/pull/7588", "id": 1366890491, "node_id": "PR_kwDOCQUkYs4-oUYQ", "number": 7588, "title": "state-viewer: avoid unnecessary Arc", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-08T19:30:31Z", "updated_at": "2022-09-09T11:07:57Z", "closed_at": "2022-09-09T08:42:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7588", "html_url": "https://github.com/near/nearcore/pull/7588", "diff_url": "https://github.com/near/nearcore/pull/7588.diff", "patch_url": "https://github.com/near/nearcore/pull/7588.patch", "merged_at": "2022-09-09T08:42:04Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7588/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7587", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7587/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7587/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7587/events", "html_url": "https://github.com/near/nearcore/pull/7587", "id": 1366542949, "node_id": "PR_kwDOCQUkYs4-nIY8", "number": 7587, "title": "near-vm-runner: fix m1 build", "user": {"login": "Ekleog-NEAR", "id": 96595974, "node_id": "U_kgDOBcHwBg", "avatar_url": "https://avatars.githubusercontent.com/u/96595974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ekleog-NEAR", "html_url": "https://github.com/Ekleog-NEAR", "followers_url": "https://api.github.com/users/Ekleog-NEAR/followers", "following_url": "https://api.github.com/users/Ekleog-NEAR/following{/other_user}", "gists_url": "https://api.github.com/users/Ekleog-NEAR/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ekleog-NEAR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ekleog-NEAR/subscriptions", "organizations_url": "https://api.github.com/users/Ekleog-NEAR/orgs", "repos_url": "https://api.github.com/users/Ekleog-NEAR/repos", "events_url": "https://api.github.com/users/Ekleog-NEAR/events{/privacy}", "received_events_url": "https://api.github.com/users/Ekleog-NEAR/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-08T15:13:46Z", "updated_at": "2022-09-08T17:29:14Z", "closed_at": "2022-09-08T17:29:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7587", "html_url": "https://github.com/near/nearcore/pull/7587", "diff_url": "https://github.com/near/nearcore/pull/7587.diff", "patch_url": "https://github.com/near/nearcore/pull/7587.patch", "merged_at": "2022-09-08T17:29:14Z"}, "body": "Fixes #7580 ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7587/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7586", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7586/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7586/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7586/events", "html_url": "https://github.com/near/nearcore/pull/7586", "id": 1365969695, "node_id": "PR_kwDOCQUkYs4-lHBI", "number": 7586, "title": "doc: Improve steps on creating a PR in `CONTRIBUTING.md`", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-08T10:12:38Z", "updated_at": "2022-09-08T11:16:03Z", "closed_at": "2022-09-08T11:03:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7586", "html_url": "https://github.com/near/nearcore/pull/7586", "diff_url": "https://github.com/near/nearcore/pull/7586.diff", "patch_url": "https://github.com/near/nearcore/pull/7586.patch", "merged_at": "2022-09-08T11:03:08Z"}, "body": "- Add a step to enable the ` Allow edits and access to secrets by maintainers` on PR.  \r\n- A couple of minor grammar edits.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7586/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7585", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7585/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7585/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7585/events", "html_url": "https://github.com/near/nearcore/pull/7585", "id": 1365854622, "node_id": "PR_kwDOCQUkYs4-ktNT", "number": 7585, "title": "store: replace TrieIterator::seek by seek_prefix", "user": {"login": "blasrodri", "id": 2600471, "node_id": "MDQ6VXNlcjI2MDA0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2600471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blasrodri", "html_url": "https://github.com/blasrodri", "followers_url": "https://api.github.com/users/blasrodri/followers", "following_url": "https://api.github.com/users/blasrodri/following{/other_user}", "gists_url": "https://api.github.com/users/blasrodri/gists{/gist_id}", "starred_url": "https://api.github.com/users/blasrodri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blasrodri/subscriptions", "organizations_url": "https://api.github.com/users/blasrodri/orgs", "repos_url": "https://api.github.com/users/blasrodri/repos", "events_url": "https://api.github.com/users/blasrodri/events{/privacy}", "received_events_url": "https://api.github.com/users/blasrodri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-08T09:09:50Z", "updated_at": "2022-09-09T01:33:02Z", "closed_at": "2022-09-09T01:33:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7585", "html_url": "https://github.com/near/nearcore/pull/7585", "diff_url": "https://github.com/near/nearcore/pull/7585.diff", "patch_url": "https://github.com/near/nearcore/pull/7585.patch", "merged_at": "2022-09-09T01:33:01Z"}, "body": "Replace TrieIterator::seek method with TrieIterator::seek_prefix\r\nwhich, as name suggests, limits the traversal to keys which match\r\ngiven prefix.  That is, where seek used to return all keys no less\r\nthan the query, seek_prefix will now further limit that set to keys\r\nwhich start with the query.\r\n\r\nIssue: https://github.com/near/nearcore/issues/2076\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7585/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7583", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7583/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7583/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7583/events", "html_url": "https://github.com/near/nearcore/pull/7583", "id": 1364989223, "node_id": "PR_kwDOCQUkYs4-h0Ai", "number": 7583, "title": "fix: don't enable mocknode feature unconditionally", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-07T17:37:41Z", "updated_at": "2022-09-15T21:44:40Z", "closed_at": "2022-09-08T11:25:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7583", "html_url": "https://github.com/near/nearcore/pull/7583", "diff_url": "https://github.com/near/nearcore/pull/7583.diff", "patch_url": "https://github.com/near/nearcore/pull/7583.patch", "merged_at": "2022-09-08T11:25:55Z"}, "body": "Before this PR, we had mock_node feature in defualt featurues. This mean that anytime you run, eg, `cargo test --workspace`, you are actually running with mocknode feature enabled. This is problematic for two reasons:\r\n\r\n* one test was failing\r\n* we were testing mocknode, not the normal operation\r\n\r\nThis PR make sure that the feature stays disabled unless explicitly enabled on the command line.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7583/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7582", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7582/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7582/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7582/events", "html_url": "https://github.com/near/nearcore/pull/7582", "id": 1364874816, "node_id": "PR_kwDOCQUkYs4-hbkC", "number": 7582, "title": "reimplemented FramedWrite", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-07T15:52:22Z", "updated_at": "2022-09-08T13:19:17Z", "closed_at": "2022-09-08T13:17:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7582", "html_url": "https://github.com/near/nearcore/pull/7582", "diff_url": "https://github.com/near/nearcore/pull/7582.diff", "patch_url": "https://github.com/near/nearcore/pull/7582.patch", "merged_at": "2022-09-08T13:17:10Z"}, "body": "now it will be non-blocking.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7582/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7582/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7581", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7581/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7581/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7581/events", "html_url": "https://github.com/near/nearcore/pull/7581", "id": 1364749259, "node_id": "PR_kwDOCQUkYs4-hAhc", "number": 7581, "title": "Prefer `to_string` to `format!(\"{}\")`", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-07T14:24:00Z", "updated_at": "2022-09-07T18:44:09Z", "closed_at": "2022-09-07T18:12:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7581", "html_url": "https://github.com/near/nearcore/pull/7581", "diff_url": "https://github.com/near/nearcore/pull/7581.diff", "patch_url": "https://github.com/near/nearcore/pull/7581.patch", "merged_at": "2022-09-07T18:12:20Z"}, "body": "As per benchmarks in https://github.com/near/nearcore/pull/7568, using\r\nformat! as opposed to calling to_string directly has ~100ns\r\noverhead. There\u2019s no reason not to get rid of that overhead especially\r\nsince using to_string is actually shorter to type.\r\n\r\nNote that it may be beneficial to further optimise integer formatting\r\nby using fixed-size buffer and custom conversion which doesn\u2019t use\r\nstd.  This optimisation is outside the scope of this commit.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7581/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7577", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7577/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7577/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7577/events", "html_url": "https://github.com/near/nearcore/pull/7577", "id": 1364390590, "node_id": "PR_kwDOCQUkYs4-fyrW", "number": 7577, "title": "refactor: remove unused lifetimes", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-07T09:45:34Z", "updated_at": "2022-09-08T10:08:16Z", "closed_at": "2022-09-07T10:48:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7577", "html_url": "https://github.com/near/nearcore/pull/7577", "diff_url": "https://github.com/near/nearcore/pull/7577.diff", "patch_url": "https://github.com/near/nearcore/pull/7577.patch", "merged_at": "2022-09-07T10:48:40Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7577/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7575", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7575/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7575/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7575/events", "html_url": "https://github.com/near/nearcore/pull/7575", "id": 1363907819, "node_id": "PR_kwDOCQUkYs4-eNEC", "number": 7575, "title": "Fix failed state_sync_fail.py test on nayduck", "user": {"login": "mzhangmzz", "id": 34969888, "node_id": "MDQ6VXNlcjM0OTY5ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/34969888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzhangmzz", "html_url": "https://github.com/mzhangmzz", "followers_url": "https://api.github.com/users/mzhangmzz/followers", "following_url": "https://api.github.com/users/mzhangmzz/following{/other_user}", "gists_url": "https://api.github.com/users/mzhangmzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzhangmzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzhangmzz/subscriptions", "organizations_url": "https://api.github.com/users/mzhangmzz/orgs", "repos_url": "https://api.github.com/users/mzhangmzz/repos", "events_url": "https://api.github.com/users/mzhangmzz/events{/privacy}", "received_events_url": "https://api.github.com/users/mzhangmzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T23:20:21Z", "updated_at": "2022-09-07T15:24:39Z", "closed_at": "2022-09-07T15:24:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7575", "html_url": "https://github.com/near/nearcore/pull/7575", "diff_url": "https://github.com/near/nearcore/pull/7575.diff", "patch_url": "https://github.com/near/nearcore/pull/7575.patch", "merged_at": "2022-09-07T15:24:39Z"}, "body": "resolves #5182 \r\n\r\nnayduck run: https://nayduck.near.org/#/run/2664", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7575/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7574", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7574/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7574/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7574/events", "html_url": "https://github.com/near/nearcore/pull/7574", "id": 1363891283, "node_id": "PR_kwDOCQUkYs4-eJjT", "number": 7574, "title": "store: introduce StoreOpener::create; deal with version in StoreOpener", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T22:48:05Z", "updated_at": "2022-09-07T10:29:17Z", "closed_at": "2022-09-07T10:14:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7574", "html_url": "https://github.com/near/nearcore/pull/7574", "diff_url": "https://github.com/near/nearcore/pull/7574.diff", "patch_url": "https://github.com/near/nearcore/pull/7574.patch", "merged_at": "2022-09-07T10:14:09Z"}, "body": "This does three relate things:\r\n\r\n1. When opening the database in read-only mode, StoreOpener now checks\r\n   whether database version is the one node is built for.  If it\r\n   isn\u2019t, opening fails.  This is because we cannot perform migrations\r\n   in read-only mode so there\u2019s nothing we can do with the database.\r\n\r\n2. When creating the database, initialise it by setting its version to\r\n   the one node was built for.  This moves the code from nearcore.\r\n\r\n3. Introduce StoreOpener::create which refuses to open already\r\n   existing database.  Motivation here is mostly to remove database\r\n   existence check from recompress_storage and thus get rid of the\r\n   check_if_exists method to shrink StoreOpener API.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7574/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7572", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7572/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7572/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7572/events", "html_url": "https://github.com/near/nearcore/pull/7572", "id": 1363783212, "node_id": "PR_kwDOCQUkYs4-dy4p", "number": 7572, "title": "nightly: enable couple tests which are passing", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-06T20:32:51Z", "updated_at": "2022-09-07T13:29:24Z", "closed_at": "2022-09-07T13:02:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7572", "html_url": "https://github.com/near/nearcore/pull/7572", "diff_url": "https://github.com/near/nearcore/pull/7572.diff", "patch_url": "https://github.com/near/nearcore/pull/7572.patch", "merged_at": "2022-09-07T13:02:59Z"}, "body": "Fixes: https://github.com/near/nearcore/issues/2949\r\nIssue: https://github.com/near/nearcore/issues/4618", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7572/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7569", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7569/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7569/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7569/events", "html_url": "https://github.com/near/nearcore/pull/7569", "id": 1363633700, "node_id": "PR_kwDOCQUkYs4-dTNr", "number": 7569, "title": "feat: stabilize account_id_in_function_call_permission protocol feature", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-06T17:57:53Z", "updated_at": "2022-09-07T16:00:28Z", "closed_at": "2022-09-07T16:00:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7569", "html_url": "https://github.com/near/nearcore/pull/7569", "diff_url": "https://github.com/near/nearcore/pull/7569.diff", "patch_url": "https://github.com/near/nearcore/pull/7569.patch", "merged_at": "2022-09-07T16:00:27Z"}, "body": "# account_id_in_function_call_permission\r\n\r\nThis feature controls [the check](https://github.com/near/nearcore/blob/b315192e84d388671316deaa3a17ece9d0565fd1/runtime/runtime/src/verifier.rs#L400-L405) which enforces that account id in function call permission is indeed a valid account id. Before, any string could have been used there. The primary motivation is robustness -- by restricting permissions to only valid account ids, we don't have to deal with potentially arbitrary long strings in storage. \r\n\r\n# Context\r\n\r\n- Implementation: https://github.com/near/nearcore/pull/7139\r\n\r\n# Testing and QA\r\n\r\nWe have basic and upgradability test [here](https://github.com/near/nearcore/blob/master/integration-tests/src/tests/client/features/account_id_in_function_call_permission.rs#L18). This PR also adds a test for an extra edge case with overly long account id. This feature have been running on betanet for couple of months without problems. \r\n\r\n# Checklist\r\n- [x] Link to nightly nayduck run: https://nayduck.near.org/#/run/2667\r\n- [x] Update CHANGELOG.md to include this protocol feature in the `Unreleased` section.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7569/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7568", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7568/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7568/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7568/events", "html_url": "https://github.com/near/nearcore/pull/7568", "id": 1363562912, "node_id": "PR_kwDOCQUkYs4-dE4S", "number": 7568, "title": "Measure how efficient `with_label_values()` is", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-09-06T16:50:40Z", "updated_at": "2022-09-07T13:43:38Z", "closed_at": "2022-09-07T13:41:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7568", "html_url": "https://github.com/near/nearcore/pull/7568", "diff_url": "https://github.com/near/nearcore/pull/7568.diff", "patch_url": "https://github.com/near/nearcore/pull/7568.patch", "merged_at": "2022-09-07T13:41:06Z"}, "body": "cc: @matklad \r\n\r\n```\r\n% cargo bench -p near-o11y\r\n   Compiling near-o11y v0.0.0 (/storage/code/nearcore-master/core/o11y)\r\n    Finished bench [optimized] target(s) in 1.05s\r\n     Running unittests src/lib.rs (target/release/deps/near_o11y-ccbb448e66a5a4d9)\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running benches/metrics.rs (target/release/deps/metrics-d531efabdee84e90)\r\n\r\nrunning 3 tests\r\ntest inc_counter_vec_cached            ... bench:          21 ns/iter (+/- 1)\r\ntest inc_counter_vec_cached_str        ... bench:         183 ns/iter (+/- 1)\r\ntest inc_counter_vec_with_label_values ... bench:         506 ns/iter (+/- 10)\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 3 measured\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7566", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7566/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7566/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7566/events", "html_url": "https://github.com/near/nearcore/pull/7566", "id": 1363319507, "node_id": "PR_kwDOCQUkYs4-cQ1M", "number": 7566, "title": "refactor: trie cache configuration", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-06T13:48:54Z", "updated_at": "2022-09-06T18:49:22Z", "closed_at": "2022-09-06T18:04:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7566", "html_url": "https://github.com/near/nearcore/pull/7566", "diff_url": "https://github.com/near/nearcore/pull/7566.diff", "patch_url": "https://github.com/near/nearcore/pull/7566.patch", "merged_at": "2022-09-06T18:04:39Z"}, "body": "This is a pure refactor, including two main refactors:\r\n\r\n- replace `TrieCacheFactory` with `TrieConfig`\r\n- move config constants into `TrieConfig`\r\n\r\nThe motivation is to facilitate wider configuration and changes to the\r\nconfig format in follow-up PRs.\r\n\r\nSee also #7564.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7566/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7565", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7565/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7565/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7565/events", "html_url": "https://github.com/near/nearcore/pull/7565", "id": 1363310516, "node_id": "PR_kwDOCQUkYs4-cO5z", "number": 7565, "title": "store: extract DBSlice::Rocks into RocksSlice type", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T13:42:53Z", "updated_at": "2022-09-06T15:05:58Z", "closed_at": "2022-09-06T15:04:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7565", "html_url": "https://github.com/near/nearcore/pull/7565", "diff_url": "https://github.com/near/nearcore/pull/7565.diff", "patch_url": "https://github.com/near/nearcore/pull/7565.patch", "merged_at": "2022-09-06T15:04:18Z"}, "body": "This consolidates three unsafe blocks into a single location.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7565/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7563", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7563/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7563/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7563/events", "html_url": "https://github.com/near/nearcore/pull/7563", "id": 1363291718, "node_id": "PR_kwDOCQUkYs4-cK3s", "number": 7563, "title": "Replace opentelemetry-jaeger with opentelemetry-otlp as a more flexible alternative.", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-06T13:29:51Z", "updated_at": "2022-09-07T19:07:12Z", "closed_at": "2022-09-07T19:07:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7563", "html_url": "https://github.com/near/nearcore/pull/7563", "diff_url": "https://github.com/near/nearcore/pull/7563.diff", "patch_url": "https://github.com/near/nearcore/pull/7563.patch", "merged_at": "2022-09-07T19:07:12Z"}, "body": "cc: @vlad-kopcil ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7562", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7562/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7562/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7562/events", "html_url": "https://github.com/near/nearcore/pull/7562", "id": 1363067502, "node_id": "PR_kwDOCQUkYs4-baob", "number": 7562, "title": "feat: enable backtraces by default", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T10:30:07Z", "updated_at": "2022-09-07T10:29:51Z", "closed_at": "2022-09-07T10:29:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7562", "html_url": "https://github.com/near/nearcore/pull/7562", "diff_url": "https://github.com/near/nearcore/pull/7562.diff", "patch_url": "https://github.com/near/nearcore/pull/7562.patch", "merged_at": "2022-09-07T10:29:51Z"}, "body": "This is a great help in debugging, and I don't think there's much\r\ndownside to doing that? Capturing a backtrace is somewhat costly,\r\nespecially on windows, but given that we run with panic=abort, that's\r\nbound to be a pretty cold path anyways!\r\n\r\nTo disable backtraces, set `RUST_BACKTRACE=0` env variable.\r\n\r\nTest Plan\r\n---------\r\n\r\nManually check that both default&override work", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7562/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7561", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7561/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7561/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7561/events", "html_url": "https://github.com/near/nearcore/pull/7561", "id": 1362559247, "node_id": "PR_kwDOCQUkYs4-Zvr5", "number": 7561, "title": "json: remove dependency on uuid crate", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T00:11:45Z", "updated_at": "2022-09-06T13:13:21Z", "closed_at": "2022-09-06T10:43:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7561", "html_url": "https://github.com/near/nearcore/pull/7561", "diff_url": "https://github.com/near/nearcore/pull/7561.diff", "patch_url": "https://github.com/near/nearcore/pull/7561.patch", "merged_at": "2022-09-06T10:43:51Z"}, "body": "Instead of introducing a new dependency, we can generate request id\r\nusing generate_random_string function.  The id doesn\u2019t really matter\r\nanyway (apart from JSON RPC specification requiring it to be present)\r\nso any string really will work there.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7561/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7561/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7560", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7560/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7560/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7560/events", "html_url": "https://github.com/near/nearcore/pull/7560", "id": 1362538394, "node_id": "PR_kwDOCQUkYs4-ZrMC", "number": 7560, "title": "store: document migration snapshot options deprecation in change log", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T23:22:03Z", "updated_at": "2022-09-06T13:14:06Z", "closed_at": "2022-09-06T08:27:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7560", "html_url": "https://github.com/near/nearcore/pull/7560", "diff_url": "https://github.com/near/nearcore/pull/7560.diff", "patch_url": "https://github.com/near/nearcore/pull/7560.patch", "merged_at": "2022-09-06T08:27:47Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7560/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7559", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7559/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7559/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7559/events", "html_url": "https://github.com/near/nearcore/pull/7559", "id": 1362533222, "node_id": "PR_kwDOCQUkYs4-ZqDH", "number": 7559, "title": "store: move StoreOpener to its own module", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T23:10:26Z", "updated_at": "2022-09-06T13:13:09Z", "closed_at": "2022-09-06T11:00:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7559", "html_url": "https://github.com/near/nearcore/pull/7559", "diff_url": "https://github.com/near/nearcore/pull/7559.diff", "patch_url": "https://github.com/near/nearcore/pull/7559.patch", "merged_at": "2022-09-06T11:00:44Z"}, "body": "Just a tiny bit of refactoring separating configuration part of the\r\nstorage and code responsible for opening the storage into separate\r\nmodules.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7559/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7559/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7558", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7558/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7558/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7558/events", "html_url": "https://github.com/near/nearcore/pull/7558", "id": 1362478260, "node_id": "PR_kwDOCQUkYs4-ZeCw", "number": 7558, "title": "runtime: remove serde implementation from VMContext", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T21:23:26Z", "updated_at": "2022-09-06T13:13:41Z", "closed_at": "2022-09-06T10:17:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7558", "html_url": "https://github.com/near/nearcore/pull/7558", "diff_url": "https://github.com/near/nearcore/pull/7558.diff", "patch_url": "https://github.com/near/nearcore/pull/7558.patch", "merged_at": "2022-09-06T10:17:00Z"}, "body": "The serde::Serialize and serde::Deserialize implementations for\r\nthe VMContext type are never used.  Get rid of them.  This makes\r\nbase58_format unused so get rid of it as well.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7558/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7558/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7557", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7557/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7557/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7557/events", "html_url": "https://github.com/near/nearcore/pull/7557", "id": 1362407629, "node_id": "PR_kwDOCQUkYs4-ZO2T", "number": 7557, "title": "store: make TrieNode\u2019s debug formatting more concise", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1159717009, "node_id": "MDU6TGFiZWwxMTU5NzE3MDA5", "url": "https://api.github.com/repos/near/nearcore/labels/P-low", "name": "P-low", "color": "B60205", "default": false, "description": "Priority: low"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T19:27:47Z", "updated_at": "2022-09-06T13:12:55Z", "closed_at": "2022-09-06T11:25:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7557", "html_url": "https://github.com/near/nearcore/pull/7557", "diff_url": "https://github.com/near/nearcore/pull/7557.diff", "patch_url": "https://github.com/near/nearcore/pull/7557.patch", "merged_at": "2022-09-06T11:25:48Z"}, "body": "The default Debug derive for types is quite verbose with a lot of\r\nvertical spacing.  For example, TrieNode branches are printed as\r\na list with each empty branch as a None on its own line.  This\r\nisn\u2019t very ergonomic when trying to debug trie nodes and printing\r\na lot of the nodes to output.\r\n\r\nReplace the default Debug implementation for TrieNode, NodeHandle and\r\nValueHandle by custom ones which are more concise and don\u2019t waste\r\nspace on empty nodes.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7556", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7556/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7556/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7556/events", "html_url": "https://github.com/near/nearcore/pull/7556", "id": 1362241438, "node_id": "PR_kwDOCQUkYs4-YqQc", "number": 7556, "title": "refactor: use a simple `if` instead of `match` + `if`", "user": {"login": "akhi3030", "id": 4679209, "node_id": "MDQ6VXNlcjQ2NzkyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4679209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhi3030", "html_url": "https://github.com/akhi3030", "followers_url": "https://api.github.com/users/akhi3030/followers", "following_url": "https://api.github.com/users/akhi3030/following{/other_user}", "gists_url": "https://api.github.com/users/akhi3030/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhi3030/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhi3030/subscriptions", "organizations_url": "https://api.github.com/users/akhi3030/orgs", "repos_url": "https://api.github.com/users/akhi3030/repos", "events_url": "https://api.github.com/users/akhi3030/events{/privacy}", "received_events_url": "https://api.github.com/users/akhi3030/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T16:12:52Z", "updated_at": "2022-09-08T10:08:17Z", "closed_at": "2022-09-05T16:30:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7556", "html_url": "https://github.com/near/nearcore/pull/7556", "diff_url": "https://github.com/near/nearcore/pull/7556.diff", "patch_url": "https://github.com/near/nearcore/pull/7556.patch", "merged_at": "2022-09-05T16:30:11Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/7555", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/7555/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/7555/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/7555/events", "html_url": "https://github.com/near/nearcore/pull/7555", "id": 1362171028, "node_id": "PR_kwDOCQUkYs4-Yag6", "number": 7555, "title": "store: extend test_iterator_seek test", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-05T15:22:36Z", "updated_at": "2022-09-05T15:32:46Z", "closed_at": "2022-09-05T15:30:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/7555", "html_url": "https://github.com/near/nearcore/pull/7555", "diff_url": "https://github.com/near/nearcore/pull/7555.diff", "patch_url": "https://github.com/near/nearcore/pull/7555.patch", "merged_at": "2022-09-05T15:30:52Z"}, "body": "Extend test_iterator_seek by adding verification of known existing\r\nkeys.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/7555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/7555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]