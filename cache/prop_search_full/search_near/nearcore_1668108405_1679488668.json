[{"url": "https://api.github.com/repos/near/nearcore/issues/8773", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8773/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8773/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8773/events", "html_url": "https://github.com/near/nearcore/pull/8773", "id": 1635529067, "node_id": "PR_kwDOCQUkYs5MoXm8", "number": 8773, "title": "fix(near-cache): Failed to puslibh the crate", "user": {"login": "khorolets", "id": 3235740, "node_id": "MDQ6VXNlcjMyMzU3NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3235740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorolets", "html_url": "https://github.com/khorolets", "followers_url": "https://api.github.com/users/khorolets/followers", "following_url": "https://api.github.com/users/khorolets/following{/other_user}", "gists_url": "https://api.github.com/users/khorolets/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorolets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorolets/subscriptions", "organizations_url": "https://api.github.com/users/khorolets/orgs", "repos_url": "https://api.github.com/users/khorolets/repos", "events_url": "https://api.github.com/users/khorolets/events{/privacy}", "received_events_url": "https://api.github.com/users/khorolets/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-22T10:55:41Z", "updated_at": "2023-03-22T11:31:27Z", "closed_at": "2023-03-22T11:31:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8773", "html_url": "https://github.com/near/nearcore/pull/8773", "diff_url": "https://github.com/near/nearcore/pull/8773.diff", "patch_url": "https://github.com/near/nearcore/pull/8773.patch", "merged_at": "2023-03-22T11:31:26Z"}, "body": "The publishing of the  crate `near-cache` failing with an error\r\n\r\n```\r\nUploading near-cache v0.16.1 (/var/lib/buildkite-agent/builds/buildkite-i-04b8708aca8b70702-1/nearprotocol/nearcore-release/utils/near-cache)\r\nerror: failed to publish to registry at https://crates.io/\r\n \r\nCaused by:\r\n  the remote server responded with an error: missing or empty metadata fields: description. Please see https://doc.rust-lang.org/cargo/reference/manifest.html for how to upload metadata\r\nerror: unable to publish package near-cache\r\n\ud83d\udea8 Error: The command exited with status 1\r\n```\r\n\r\nI hope this PR is fixing it.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8773/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8770", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8770/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8770/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8770/events", "html_url": "https://github.com/near/nearcore/pull/8770", "id": 1634503892, "node_id": "PR_kwDOCQUkYs5Mk8NF", "number": 8770, "title": "chore: Bump crates version to 0.16.1", "user": {"login": "khorolets", "id": 3235740, "node_id": "MDQ6VXNlcjMyMzU3NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3235740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorolets", "html_url": "https://github.com/khorolets", "followers_url": "https://api.github.com/users/khorolets/followers", "following_url": "https://api.github.com/users/khorolets/following{/other_user}", "gists_url": "https://api.github.com/users/khorolets/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorolets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorolets/subscriptions", "organizations_url": "https://api.github.com/users/khorolets/orgs", "repos_url": "https://api.github.com/users/khorolets/repos", "events_url": "https://api.github.com/users/khorolets/events{/privacy}", "received_events_url": "https://api.github.com/users/khorolets/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T18:36:17Z", "updated_at": "2023-03-22T09:28:58Z", "closed_at": "2023-03-22T09:28:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8770", "html_url": "https://github.com/near/nearcore/pull/8770", "diff_url": "https://github.com/near/nearcore/pull/8770.diff", "patch_url": "https://github.com/near/nearcore/pull/8770.patch", "merged_at": "2023-03-22T09:28:57Z"}, "body": "Following up PR #8762 by bumping versions for the `near-*` crates to `0.16.1` in order to release the ones mentioned in the PR and updating the others to have a set of compatible packages released.\r\n\r\ncc @jakmeier As you said to bump the version\r\n\r\nP.S. adding an empty README to the `near-cache` crate to avoid \"publisher\" from failing", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8770/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8762", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8762/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8762/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8762/events", "html_url": "https://github.com/near/nearcore/pull/8762", "id": 1633511825, "node_id": "PR_kwDOCQUkYs5MhlCl", "number": 8762, "title": "chore: Enable publishing the crate near-vm-runner(and it's dependencies)", "user": {"login": "khorolets", "id": 3235740, "node_id": "MDQ6VXNlcjMyMzU3NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3235740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorolets", "html_url": "https://github.com/khorolets", "followers_url": "https://api.github.com/users/khorolets/followers", "following_url": "https://api.github.com/users/khorolets/following{/other_user}", "gists_url": "https://api.github.com/users/khorolets/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorolets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorolets/subscriptions", "organizations_url": "https://api.github.com/users/khorolets/orgs", "repos_url": "https://api.github.com/users/khorolets/repos", "events_url": "https://api.github.com/users/khorolets/events{/privacy}", "received_events_url": "https://api.github.com/users/khorolets/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-03-21T09:25:20Z", "updated_at": "2023-03-21T19:05:30Z", "closed_at": "2023-03-21T18:10:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8762", "html_url": "https://github.com/near/nearcore/pull/8762", "diff_url": "https://github.com/near/nearcore/pull/8762.diff", "patch_url": "https://github.com/near/nearcore/pull/8762.patch", "merged_at": "2023-03-21T18:10:10Z"}, "body": "For the project, we're working on we depend on the `near-vm-runner` and a bunch of others. We were using `near-vm-runner = { git = .. }` until now, but since all the other packages have been updated for a newer version of primitives crates we end up having a problem of having a couple of versions of the same primitives' packages in the code and we just can't handle it anymore.\r\n\r\nI want to propose enabling publishing `near-vm-runner` (and a few crates it depends on) to crates.io to unblock us for now and for the future.\r\n\r\nI believe I have found all the missing packages we need to make it published and changed the `published` value to `true`.\r\n\r\nList of crates to be published:\r\n- `near-vm-runner`\r\n- `near-cache`\r\n- `near-stable-hasher`\r\n- `near-test-contracts`", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8762/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8758", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8758/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8758/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8758/events", "html_url": "https://github.com/near/nearcore/pull/8758", "id": 1632587076, "node_id": "PR_kwDOCQUkYs5Med75", "number": 8758, "title": "fix: test runtime setup", "user": {"login": "VanBarbascu", "id": 8384611, "node_id": "MDQ6VXNlcjgzODQ2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8384611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VanBarbascu", "html_url": "https://github.com/VanBarbascu", "followers_url": "https://api.github.com/users/VanBarbascu/followers", "following_url": "https://api.github.com/users/VanBarbascu/following{/other_user}", "gists_url": "https://api.github.com/users/VanBarbascu/gists{/gist_id}", "starred_url": "https://api.github.com/users/VanBarbascu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VanBarbascu/subscriptions", "organizations_url": "https://api.github.com/users/VanBarbascu/orgs", "repos_url": "https://api.github.com/users/VanBarbascu/repos", "events_url": "https://api.github.com/users/VanBarbascu/events{/privacy}", "received_events_url": "https://api.github.com/users/VanBarbascu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T17:45:43Z", "updated_at": "2023-03-23T16:13:49Z", "closed_at": "2023-03-21T15:18:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8758", "html_url": "https://github.com/near/nearcore/pull/8758", "diff_url": "https://github.com/near/nearcore/pull/8758.diff", "patch_url": "https://github.com/near/nearcore/pull/8758.patch", "merged_at": "2023-03-21T15:18:24Z"}, "body": "Test runtime was not initialised properly and the chunk producers were not generated for all the shards.\r\nAfter fixing this, I found that maintenance window test was failing because we were not declaring the right list of validators.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8758/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8757", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8757/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8757/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8757/events", "html_url": "https://github.com/near/nearcore/pull/8757", "id": 1632483712, "node_id": "PR_kwDOCQUkYs5MeH5Y", "number": 8757, "title": "doc: flat state high-level overview", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-20T16:37:58Z", "updated_at": "2023-03-22T11:20:34Z", "closed_at": "2023-03-21T08:38:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8757", "html_url": "https://github.com/near/nearcore/pull/8757", "diff_url": "https://github.com/near/nearcore/pull/8757.diff", "patch_url": "https://github.com/near/nearcore/pull/8757.patch", "merged_at": "2023-03-21T08:38:09Z"}, "body": "As we are on the finish line with the MVP and in the midst of OKR\r\nplanning, I think it's a good time to take a step back and write down\r\nwhere we stand on a high level.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8757/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8757/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8755", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8755/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8755/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8755/events", "html_url": "https://github.com/near/nearcore/pull/8755", "id": 1631847018, "node_id": "PR_kwDOCQUkYs5Mb-OK", "number": 8755, "title": "Fix links to version.rs file", "user": {"login": "aborg-dev", "id": 1192958, "node_id": "MDQ6VXNlcjExOTI5NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1192958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborg-dev", "html_url": "https://github.com/aborg-dev", "followers_url": "https://api.github.com/users/aborg-dev/followers", "following_url": "https://api.github.com/users/aborg-dev/following{/other_user}", "gists_url": "https://api.github.com/users/aborg-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborg-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborg-dev/subscriptions", "organizations_url": "https://api.github.com/users/aborg-dev/orgs", "repos_url": "https://api.github.com/users/aborg-dev/repos", "events_url": "https://api.github.com/users/aborg-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/aborg-dev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1797658345, "node_id": "MDU6TGFiZWwxNzk3NjU4MzQ1", "url": "https://api.github.com/repos/near/nearcore/labels/C-docs", "name": "C-docs", "color": "9745C6", "default": false, "description": "Category: documentation, including rustdoc, nomicon, and docs.nearprotocol.com"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T10:48:30Z", "updated_at": "2023-03-20T16:52:45Z", "closed_at": "2023-03-20T16:52:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8755", "html_url": "https://github.com/near/nearcore/pull/8755", "diff_url": "https://github.com/near/nearcore/pull/8755.diff", "patch_url": "https://github.com/near/nearcore/pull/8755.patch", "merged_at": "2023-03-20T16:52:43Z"}, "body": "As they are broken when viewed through https://near.github.io/nearcore/practices/protocol_upgrade.html due to being relative", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8755/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8754", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8754/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8754/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8754/events", "html_url": "https://github.com/near/nearcore/pull/8754", "id": 1631551758, "node_id": "PR_kwDOCQUkYs5Ma-qE", "number": 8754, "title": "fix: mocknet fixed helper crashing ", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T07:34:23Z", "updated_at": "2023-03-20T20:46:29Z", "closed_at": "2023-03-20T20:46:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8754", "html_url": "https://github.com/near/nearcore/pull/8754", "diff_url": "https://github.com/near/nearcore/pull/8754.diff", "patch_url": "https://github.com/near/nearcore/pull/8754.patch", "merged_at": "2023-03-20T20:46:27Z"}, "body": "- make the spoon test wait with upgrading nodes until the helper is done deploying contracts \r\n- make the helper test ignore connection refused exceptions when sending transactions - those happen when the selected rpc node is being upgraded\r\n- added log level cmd line argument and cleaned up some logs", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8754/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8753", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8753/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8753/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8753/events", "html_url": "https://github.com/near/nearcore/pull/8753", "id": 1629991372, "node_id": "PR_kwDOCQUkYs5MV5wF", "number": 8753, "title": "feat(docs): add some documentation on starting a chain from mainnet state", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T22:32:45Z", "updated_at": "2023-03-21T14:15:40Z", "closed_at": "2023-03-21T14:15:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8753", "html_url": "https://github.com/near/nearcore/pull/8753", "diff_url": "https://github.com/near/nearcore/pull/8753.diff", "patch_url": "https://github.com/near/nearcore/pull/8753.patch", "merged_at": "2023-03-21T14:15:40Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8753/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8752", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8752/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8752/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8752/events", "html_url": "https://github.com/near/nearcore/pull/8752", "id": 1629918186, "node_id": "PR_kwDOCQUkYs5MVqGO", "number": 8752, "title": "refactor: move flat storage metrics to a separate module", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T20:52:54Z", "updated_at": "2023-03-20T11:29:40Z", "closed_at": "2023-03-20T11:29:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8752", "html_url": "https://github.com/near/nearcore/pull/8752", "diff_url": "https://github.com/near/nearcore/pull/8752.diff", "patch_url": "https://github.com/near/nearcore/pull/8752.patch", "merged_at": "2023-03-20T11:29:39Z"}, "body": "Part of https://github.com/near/nearcore/issues/8577.\r\n\r\nThis PR moves flat storage metrics structs to a separate module under `near_store::flat`.\r\n\r\nBenefits of this change:\r\n* separation of concerns\r\n* metrics setup involves quite some boilerplate code which pollutes business logic and increases file size, hence moving that to a separate file", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8752/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8751", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8751/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8751/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8751/events", "html_url": "https://github.com/near/nearcore/pull/8751", "id": 1629721711, "node_id": "PR_kwDOCQUkYs5MU_u8", "number": 8751, "title": "fix/refactor(network::raw): rename raw::ReceivedMessage and accept message types as an arg to send_*()", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-17T18:02:52Z", "updated_at": "2023-03-22T02:09:56Z", "closed_at": "2023-03-22T02:09:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8751", "html_url": "https://github.com/near/nearcore/pull/8751", "diff_url": "https://github.com/near/nearcore/pull/8751.diff", "patch_url": "https://github.com/near/nearcore/pull/8751.patch", "merged_at": "2023-03-22T02:09:56Z"}, "body": "This PR changes things so that instead of calling `send_ping()` and `send_state_part_request()` to send different types of messages, we have `send_message()` and `send_routed_message()` that send direct or routed messages to the peer. This will make it easier to rewrite/add to the code in `tools/mock-node` to use a `raw::Connection` instead of mocking at the actix actor level, because we'll be able to do something like:\r\n\r\n```\r\nlet queue: Vec<raw::Message> = ...;\r\n\r\nmatch queue[0] {\r\n  raw::Message::Direct(msg) => conn.send_message(msg),\r\n  raw::Message::Routed(msg) => conn.send_routed_message(msg, target, ttl),\r\n};\r\n```\r\n\r\nInstead of more cumbersome code that would be required at the moment, especially after adding more message types like `Block`, `BlockRequest`, etc.\r\n\r\nThis PR also adds a `RouteBackCache` to `raw::Connection`, so that we can tell if routed messages we receive are meant for us. Otherwise, as the code exists now, the `raw::Connection` will pass you any routed messages it receives as if they're meant for you, but they might not be.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8751/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8749", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8749/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8749/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8749/events", "html_url": "https://github.com/near/nearcore/pull/8749", "id": 1629098814, "node_id": "PR_kwDOCQUkYs5MS5dU", "number": 8749, "title": "feat(params-estimator): flat state deltas overhead", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T10:50:18Z", "updated_at": "2023-03-17T13:44:20Z", "closed_at": "2023-03-17T13:44:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8749", "html_url": "https://github.com/near/nearcore/pull/8749", "diff_url": "https://github.com/near/nearcore/pull/8749.diff", "patch_url": "https://github.com/near/nearcore/pull/8749.patch", "merged_at": "2023-03-17T13:44:10Z"}, "body": "Force FlatState used by the estimator to resolve deltas.\r\nThe number of deltas and the number of keys per delta is configurable.\r\n\r\nExample usage:\r\n```\r\ncargo run -r -p runtime-params-estimator --features=protocol_feature_flat_state -- \\\r\n--accounts-num 10000 --additional-accounts-num 10000 \\\r\n--finality-lag 50 --fs-keys-per-delta 100 \\\r\n--metric time --debug --costs StorageReadBase\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8749/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8748", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8748/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8748/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8748/events", "html_url": "https://github.com/near/nearcore/pull/8748", "id": 1629085649, "node_id": "PR_kwDOCQUkYs5MS2pk", "number": 8748, "title": "Faster/Leaner genesis bootstrap", "user": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-17T10:40:23Z", "updated_at": "2023-03-20T23:20:45Z", "closed_at": "2023-03-20T15:00:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8748", "html_url": "https://github.com/near/nearcore/pull/8748", "diff_url": "https://github.com/near/nearcore/pull/8748.diff", "patch_url": "https://github.com/near/nearcore/pull/8748.patch", "merged_at": "2023-03-20T15:00:55Z"}, "body": "When forking mainnet based on [these instructions](https://near.zulipchat.com/#narrow/stream/295302-general/topic/forking.20off.20mainnet/near/341511159), these changes reduce the creation time of the initial rocksdb from multiple days or weeks down to a hour and a half. There are a couple facets to this improvement:\r\n\r\n* Process shards in parallel \u2013 this mitigates the impact of re-parsing the genesis/records json for every single shard (see https://github.com/near/nearcore/issues/8747 for further improvement opportunities)\r\n* In the old code we had a `O(n^2)` loop where for each block of 300k accounts we would go through the entire set of records from scratch. For mainnet-sized records this is _the_ time sink, given that there are like a good dozen million accounts and each such iteration takes like 5 minutes. Not to mention this code does not achieve the intended purpose of limiting the memory usage at all \u2013 as soon as there is a cluster of multiple accounts each with huge amount of state at the same time, the memory usage to store the pending writes would explode. Here I chosen to introduce a context object that limits the number of outstanding writes and processes them in the order they occur in the records file (there is no reason to group the writes by account as far as I can tell.)", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8748/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8748/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8745", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8745/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8745/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8745/events", "html_url": "https://github.com/near/nearcore/pull/8745", "id": 1629019153, "node_id": "PR_kwDOCQUkYs5MSoWp", "number": 8745, "title": "refactor: use shard_uid as a key in FlatStorageManager", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T09:54:12Z", "updated_at": "2023-03-17T11:45:58Z", "closed_at": "2023-03-17T11:45:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8745", "html_url": "https://github.com/near/nearcore/pull/8745", "diff_url": "https://github.com/near/nearcore/pull/8745.diff", "patch_url": "https://github.com/near/nearcore/pull/8745.patch", "merged_at": "2023-03-17T11:45:57Z"}, "body": "Part of #8577.\r\n\r\nThis finishes flat storage transition from `shard_id` to `shard_uid`. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8745/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8743", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8743/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8743/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8743/events", "html_url": "https://github.com/near/nearcore/pull/8743", "id": 1627768300, "node_id": "PR_kwDOCQUkYs5MObWa", "number": 8743, "title": "feat: don't exclude delayed receipts from flat storage", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-16T15:40:58Z", "updated_at": "2023-03-17T21:03:56Z", "closed_at": "2023-03-17T21:03:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8743", "html_url": "https://github.com/near/nearcore/pull/8743", "diff_url": "https://github.com/near/nearcore/pull/8743.diff", "patch_url": "https://github.com/near/nearcore/pull/8743.patch", "merged_at": "2023-03-17T21:03:55Z"}, "body": "Previously we didn't have `shard_uid` prefix for `FlatState` keys on disk which meant that we couldn't easily store delayed receipts for different shards there. This is no longer the case and we can store delayed receipts in flat storage now.\r\nThis makes `FlatState` store exactly the same data as `State` which makes overall setup more consistent and enables easier flat storage use for state sync without any special cases.\r\n\r\n\r\n### Testing\r\n\r\nExisting tests should not fail.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8743/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8742", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8742/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8742/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8742/events", "html_url": "https://github.com/near/nearcore/pull/8742", "id": 1627730854, "node_id": "PR_kwDOCQUkYs5MOTXs", "number": 8742, "title": "fix: filter out delayed receipts on flat storage creation", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-16T15:19:41Z", "updated_at": "2023-03-16T15:31:25Z", "closed_at": "2023-03-16T15:31:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8742", "html_url": "https://github.com/near/nearcore/pull/8742", "diff_url": "https://github.com/near/nearcore/pull/8742.diff", "patch_url": "https://github.com/near/nearcore/pull/8742.patch", "merged_at": "2023-03-16T15:31:24Z"}, "body": "We made a decision to not store delayed receipts in flat storage. It is filtered out when creating deltas as well as on reads, but it is not filtered when flat storage is created for the first time. This PR fixes that.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8742/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8740", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8740/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8740/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8740/events", "html_url": "https://github.com/near/nearcore/pull/8740", "id": 1626062758, "node_id": "PR_kwDOCQUkYs5MIn9V", "number": 8740, "title": "fix: more precise flat storage errors", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-03-15T18:41:07Z", "updated_at": "2023-03-16T11:44:53Z", "closed_at": "2023-03-16T11:44:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8740", "html_url": "https://github.com/near/nearcore/pull/8740", "diff_url": "https://github.com/near/nearcore/pull/8740.diff", "patch_url": "https://github.com/near/nearcore/pull/8740.patch", "merged_at": "2023-03-16T11:44:52Z"}, "body": "Making flat storage errors more clear and fix error types in several places. Fixes [flat storage failure on March 14](https://near.zulipchat.com/#narrow/stream/345766-pagoda.2Fstorage.2Fflat-storage/topic/FS.20failure.20March.2014th/near/341648913).\r\nThis PR needs a review with **extra caution**, because `StorageInternalError` in incorrect place may lead to node panic and `BlockNotSupported` when DB is corrupted may lead to weird behaviour of node.\r\n\r\nHere I claim that there are two types of `FlatStorageError`:\r\n* `BlockNotSupported` - can occur in normal circumstances, when flat storage head was moved forward during processing some chunk.\r\n* `StorageInternalError` - means that flat storage is corrupted, we have to panic.\r\n\r\nI looked at every single place where we return these errors, and replaced some of them:\r\n* `get_block_changes` - once it is called, we already know that delta exists in cache, otherwise it is state inconsistency.\r\n* `update_flat_head`, `store_helper::get_delta_changes` - it is more sane to return error, after which we panic later, on `apply_transactions_with_optional_storage_proof`.\r\n* `update_flat_head`, `gc_height` - delta exists in cache, otherwise we have inconsistency.\r\n\r\n`Trie::get_ref` is fixed to properly propagate flat storage error [here](https://github.com/near/nearcore/blob/d230eaf07da01df4b47f77f2a240d2cfefbc0592/nearcore/src/runtime/mod.rs#L1018-L1021).\r\n\r\n## Testing\r\n* `flat_storage_errors` - check for `StorageInternalError` as well.\r\n* `test_not_supported_block` - check that instead of panic, `Trie::get_ref` returns correct error now.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8740/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8739", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8739/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8739/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8739/events", "html_url": "https://github.com/near/nearcore/pull/8739", "id": 1625738493, "node_id": "PR_kwDOCQUkYs5MHh03", "number": 8739, "title": "Fix: Add --dry-run to the tool for applying state-parts", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-15T15:21:19Z", "updated_at": "2023-03-20T10:36:14Z", "closed_at": "2023-03-20T10:36:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8739", "html_url": "https://github.com/near/nearcore/pull/8739", "diff_url": "https://github.com/near/nearcore/pull/8739.diff", "patch_url": "https://github.com/near/nearcore/pull/8739.patch", "merged_at": "2023-03-20T10:36:14Z"}, "body": "Also rework the state parts command API to be a single command with two subcommands instead of two separate commands.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8739/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8738", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8738/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8738/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8738/events", "html_url": "https://github.com/near/nearcore/pull/8738", "id": 1625559912, "node_id": "PR_kwDOCQUkYs5MG7kv", "number": 8738, "title": "Revert \"Move buildkite pipeline from AWS to GCP\"", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T13:44:31Z", "updated_at": "2023-03-15T13:58:42Z", "closed_at": "2023-03-15T13:58:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8738", "html_url": "https://github.com/near/nearcore/pull/8738", "diff_url": "https://github.com/near/nearcore/pull/8738.diff", "patch_url": "https://github.com/near/nearcore/pull/8738.patch", "merged_at": "2023-03-15T13:58:40Z"}, "body": "Revert [near/nearcore/pull/8714](https://github.com/near/nearcore/pull/8714) because of issues with GCP auto-scaler.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8738/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8736", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8736/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8736/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8736/events", "html_url": "https://github.com/near/nearcore/pull/8736", "id": 1625505572, "node_id": "PR_kwDOCQUkYs5MGv4j", "number": 8736, "title": "refactor: State Sync - split long functions into many small functions", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T13:11:43Z", "updated_at": "2023-03-16T09:00:19Z", "closed_at": "2023-03-16T09:00:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8736", "html_url": "https://github.com/near/nearcore/pull/8736", "diff_url": "https://github.com/near/nearcore/pull/8736.diff", "patch_url": "https://github.com/near/nearcore/pull/8736.patch", "merged_at": "2023-03-16T09:00:18Z"}, "body": "cc: @mm-near ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8736/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8735", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8735/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8735/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8735/events", "html_url": "https://github.com/near/nearcore/pull/8735", "id": 1625434576, "node_id": "PR_kwDOCQUkYs5MGgeP", "number": 8735, "title": "fix: apply `log_summary_style` to state sync phase message", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T12:29:34Z", "updated_at": "2023-03-21T15:51:38Z", "closed_at": "2023-03-21T15:51:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8735", "html_url": "https://github.com/near/nearcore/pull/8735", "diff_url": "https://github.com/near/nearcore/pull/8735.diff", "patch_url": "https://github.com/near/nearcore/pull/8735.patch", "merged_at": "2023-03-21T15:51:37Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8732", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8732/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8732/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8732/events", "html_url": "https://github.com/near/nearcore/pull/8732", "id": 1625369535, "node_id": "PR_kwDOCQUkYs5MGSOp", "number": 8732, "title": "fix: State Sync no longer corrupts the DB", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T11:49:02Z", "updated_at": "2023-03-16T08:00:18Z", "closed_at": "2023-03-16T08:00:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8732", "html_url": "https://github.com/near/nearcore/pull/8732", "diff_url": "https://github.com/near/nearcore/pull/8732.diff", "patch_url": "https://github.com/near/nearcore/pull/8732.patch", "merged_at": "2023-03-16T08:00:18Z"}, "body": "If a node gets stopped during State Sync then it fails to start due to an `unwrap()` on `send_network_chain_info()`. The state of the DB itself is fine. This PR makes the node gracefully handle that scenario and State Sync can safely resume and complete.\r\n\r\nFix: #8733 ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8732/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8731", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8731/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8731/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8731/events", "html_url": "https://github.com/near/nearcore/pull/8731", "id": 1625078137, "node_id": "PR_kwDOCQUkYs5MFSGv", "number": 8731, "title": "chore(deps): bump webpack from 5.75.0 to 5.76.1 in /tools/debug-ui", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2460145996, "node_id": "MDU6TGFiZWwyNDYwMTQ1OTk2", "url": "https://api.github.com/repos/near/nearcore/labels/C-dependencies", "name": "C-dependencies", "color": "9745C6", "default": false, "description": "Category: Pull requests that update a dependency file"}, {"id": 5185213671, "node_id": "LA_kwDOCQUkYs8AAAABNRAU5w", "url": "https://api.github.com/repos/near/nearcore/labels/javascript", "name": "javascript", "color": "168700", "default": false, "description": "Pull requests that update Javascript code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T09:13:05Z", "updated_at": "2023-03-15T09:34:07Z", "closed_at": "2023-03-15T09:34:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8731", "html_url": "https://github.com/near/nearcore/pull/8731", "diff_url": "https://github.com/near/nearcore/pull/8731.diff", "patch_url": "https://github.com/near/nearcore/pull/8731.patch", "merged_at": "2023-03-15T09:34:05Z"}, "body": "Bumps [webpack](https://github.com/webpack/webpack) from 5.75.0 to 5.76.1.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/webpack/webpack/releases\">webpack's releases</a>.</em></p>\n<blockquote>\n<h2>v5.76.1</h2>\n<h2>Fixed</h2>\n<ul>\n<li>Added <code>assert/strict</code> built-in to <code>NodeTargetPlugin</code></li>\n</ul>\n<h2>Revert</h2>\n<ul>\n<li>Improve performance of <code>hashRegExp</code> lookup by <a href=\"https://github.com/ryanwilsonperkin\"><code>@\u200bryanwilsonperkin</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16759\">webpack/webpack#16759</a></li>\n</ul>\n<h2>v5.76.0</h2>\n<h2>Bugfixes</h2>\n<ul>\n<li>Avoid cross-realm object access by <a href=\"https://github.com/Jack-Works\"><code>@\u200bJack-Works</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16500\">webpack/webpack#16500</a></li>\n<li>Improve hash performance via conditional initialization by <a href=\"https://github.com/lvivski\"><code>@\u200blvivski</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16491\">webpack/webpack#16491</a></li>\n<li>Serialize <code>generatedCode</code> info to fix bug in asset module cache restoration by <a href=\"https://github.com/ryanwilsonperkin\"><code>@\u200bryanwilsonperkin</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16703\">webpack/webpack#16703</a></li>\n<li>Improve performance of <code>hashRegExp</code> lookup by <a href=\"https://github.com/ryanwilsonperkin\"><code>@\u200bryanwilsonperkin</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16759\">webpack/webpack#16759</a></li>\n</ul>\n<h2>Features</h2>\n<ul>\n<li>add <code>target</code> to <code>LoaderContext</code> type by <a href=\"https://github.com/askoufis\"><code>@\u200baskoufis</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16781\">webpack/webpack#16781</a></li>\n</ul>\n<h2>Security</h2>\n<ul>\n<li><a href=\"https://github.com/advisories/GHSA-3rfm-jhwj-7488\">CVE-2022-37603</a> fixed by <a href=\"https://github.com/akhilgkrishnan\"><code>@\u200bakhilgkrishnan</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16446\">webpack/webpack#16446</a></li>\n</ul>\n<h2>Repo Changes</h2>\n<ul>\n<li>Fix HTML5 logo in README by <a href=\"https://github.com/jakebailey\"><code>@\u200bjakebailey</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16614\">webpack/webpack#16614</a></li>\n<li>Replace TypeScript logo in README by <a href=\"https://github.com/jakebailey\"><code>@\u200bjakebailey</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16613\">webpack/webpack#16613</a></li>\n<li>Update actions/cache dependencies by <a href=\"https://github.com/piwysocki\"><code>@\u200bpiwysocki</code></a> in <a href=\"https://redirect.github.com/webpack/webpack/pull/16493\">webpack/webpack#16493</a></li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/Jack-Works\"><code>@\u200bJack-Works</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16500\">webpack/webpack#16500</a></li>\n<li><a href=\"https://github.com/lvivski\"><code>@\u200blvivski</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16491\">webpack/webpack#16491</a></li>\n<li><a href=\"https://github.com/jakebailey\"><code>@\u200bjakebailey</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16614\">webpack/webpack#16614</a></li>\n<li><a href=\"https://github.com/akhilgkrishnan\"><code>@\u200bakhilgkrishnan</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16446\">webpack/webpack#16446</a></li>\n<li><a href=\"https://github.com/ryanwilsonperkin\"><code>@\u200bryanwilsonperkin</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16703\">webpack/webpack#16703</a></li>\n<li><a href=\"https://github.com/piwysocki\"><code>@\u200bpiwysocki</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16493\">webpack/webpack#16493</a></li>\n<li><a href=\"https://github.com/askoufis\"><code>@\u200baskoufis</code></a> made their first contribution in <a href=\"https://redirect.github.com/webpack/webpack/pull/16781\">webpack/webpack#16781</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/webpack/webpack/compare/v5.75.0...v5.76.0\">https://github.com/webpack/webpack/compare/v5.75.0...v5.76.0</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/webpack/webpack/commit/21be52b681c477f8ebc41c1b0e7a7a8ac4fa7008\"><code>21be52b</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16804\">#16804</a> from webpack/chore-patch-release</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/1cce945dd6c3576d37d3940a0233fd087ce3f6ff\"><code>1cce945</code></a> chore(release): 5.76.1</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/e76ad9e724410f10209caa2ba86875ca8cf5ed61\"><code>e76ad9e</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16803\">#16803</a> from ryanwilsonperkin/revert-16759-real-content-has...</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/52b1b0e4ada7c11e7f1b4f3d69b50684938c684e\"><code>52b1b0e</code></a> Revert &quot;Improve performance of hashRegExp lookup&quot;</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/c989143379d344543e4161fec60f3a21beb9e3ce\"><code>c989143</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16766\">#16766</a> from piranna/patch-1</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/710eaf4ddaea505e040a24beeb45a769f9e3761b\"><code>710eaf4</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16789\">#16789</a> from dmichon-msft/contenthash-hashsalt</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/5d6446822aff579a5d3d9503ec2a16437d2f71d1\"><code>5d64468</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16792\">#16792</a> from webpack/update-version</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/67af5ec1f05fb7cf06be6acf27353aef105ddcbc\"><code>67af5ec</code></a> chore(release): 5.76.0</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/97b1718720c33f1b17302a74c5284b01e02ec001\"><code>97b1718</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16781\">#16781</a> from askoufis/loader-context-target-type</li>\n<li><a href=\"https://github.com/webpack/webpack/commit/b84efe6224b276bf72e4c5e2f4e76acddfaeef07\"><code>b84efe6</code></a> Merge pull request <a href=\"https://redirect.github.com/webpack/webpack/issues/16759\">#16759</a> from ryanwilsonperkin/real-content-hash-regex-perf</li>\n<li>Additional commits viewable in <a href=\"https://github.com/webpack/webpack/compare/v5.75.0...v5.76.1\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~evilebottnawi\">evilebottnawi</a>, a new releaser for webpack since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=webpack&package-manager=npm_and_yarn&previous-version=5.75.0&new-version=5.76.1)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/near/nearcore/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8731/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8729", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8729/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8729/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8729/events", "html_url": "https://github.com/near/nearcore/pull/8729", "id": 1623811377, "node_id": "PR_kwDOCQUkYs5MBCU3", "number": 8729, "title": "feat: make FlatState value future proof for value inlining support", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-14T16:12:37Z", "updated_at": "2023-03-15T14:22:16Z", "closed_at": "2023-03-15T14:22:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8729", "html_url": "https://github.com/near/nearcore/pull/8729", "diff_url": "https://github.com/near/nearcore/pull/8729.diff", "patch_url": "https://github.com/near/nearcore/pull/8729.patch", "merged_at": "2023-03-15T14:22:15Z"}, "body": "We plan introducing small value inlining as a next step in Flat Storage, see #8243 for more details. This is not a part of MVP which means it will not be included in the first Flat Storage release.\r\nThis PR wraps `ValueRef` in `FlatStateValue` enum, so later we can simply add another variant for inlined value there without changing the format on disk. This significantly simplifies migration in the future.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8729/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8728", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8728/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8728/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8728/events", "html_url": "https://github.com/near/nearcore/pull/8728", "id": 1623674654, "node_id": "PR_kwDOCQUkYs5MAkba", "number": 8728, "title": "feat: add Prometheus metrics", "user": {"login": "VanBarbascu", "id": 8384611, "node_id": "MDQ6VXNlcjgzODQ2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8384611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VanBarbascu", "html_url": "https://github.com/VanBarbascu", "followers_url": "https://api.github.com/users/VanBarbascu/followers", "following_url": "https://api.github.com/users/VanBarbascu/following{/other_user}", "gists_url": "https://api.github.com/users/VanBarbascu/gists{/gist_id}", "starred_url": "https://api.github.com/users/VanBarbascu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VanBarbascu/subscriptions", "organizations_url": "https://api.github.com/users/VanBarbascu/orgs", "repos_url": "https://api.github.com/users/VanBarbascu/repos", "events_url": "https://api.github.com/users/VanBarbascu/events{/privacy}", "received_events_url": "https://api.github.com/users/VanBarbascu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-14T15:04:55Z", "updated_at": "2023-03-16T18:18:15Z", "closed_at": "2023-03-16T18:18:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8728", "html_url": "https://github.com/near/nearcore/pull/8728", "diff_url": "https://github.com/near/nearcore/pull/8728.diff", "patch_url": "https://github.com/near/nearcore/pull/8728.patch", "merged_at": "2023-03-16T18:18:15Z"}, "body": "* Current block height since the start of the current epoch\r\n* shards tracked by the current node. (currently all shards but in the feature it might change)\r\n* whether the node is a block producer\r\n* whether the node is a chunk producer and for which shard\r\n\r\nTested on localnet and mainnet on a canary rpc node.\r\nThe gist of metrics from the node in prod. [link](https://gist.github.com/VanBarbascu/ccb1d60dbcc66a0444eb7092e4970fc9)\r\nFor additional test results check each commit message", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8728/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8727", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8727/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8727/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8727/events", "html_url": "https://github.com/near/nearcore/pull/8727", "id": 1623553247, "node_id": "PR_kwDOCQUkYs5MAKOD", "number": 8727, "title": "feat: remove flat state cache", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-14T14:04:12Z", "updated_at": "2023-03-14T15:21:00Z", "closed_at": "2023-03-14T15:20:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8727", "html_url": "https://github.com/near/nearcore/pull/8727", "diff_url": "https://github.com/near/nearcore/pull/8727.diff", "patch_url": "https://github.com/near/nearcore/pull/8727.patch", "merged_at": "2023-03-14T15:20:59Z"}, "body": "Part of #8577 and #8684, was introduced in #8540.\r\n\r\nThis PR removes custom `FlatState` cache from `FlatStorage` since experiments show very low hit rate which is not worth used memory.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8727/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8726", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8726/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8726/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8726/events", "html_url": "https://github.com/near/nearcore/pull/8726", "id": 1623519298, "node_id": "PR_kwDOCQUkYs5MACyJ", "number": 8726, "title": "feat(flat-state): don't increase column caches", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-14T13:48:00Z", "updated_at": "2023-03-14T14:17:00Z", "closed_at": "2023-03-14T14:16:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8726", "html_url": "https://github.com/near/nearcore/pull/8726", "diff_url": "https://github.com/near/nearcore/pull/8726.diff", "patch_url": "https://github.com/near/nearcore/pull/8726.patch", "merged_at": "2023-03-14T14:16:51Z"}, "body": "`BlockHeight` and `BlockInfo` had an increased request count in an\r\nearlier implementation snapshot of flat state. At the time, there was a\r\nmeasurable positive effect for increasing these two caches from 32MB to\r\n64MB. This is no longer the case, so let's not increase them.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8726/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8722", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8722/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8722/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8722/events", "html_url": "https://github.com/near/nearcore/pull/8722", "id": 1623196547, "node_id": "PR_kwDOCQUkYs5L-8j3", "number": 8722, "title": "Ondemand fuzz target build", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-14T10:39:28Z", "updated_at": "2023-03-14T12:54:17Z", "closed_at": "2023-03-14T12:54:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8722", "html_url": "https://github.com/near/nearcore/pull/8722", "diff_url": "https://github.com/near/nearcore/pull/8722.diff", "patch_url": "https://github.com/near/nearcore/pull/8722.patch", "merged_at": "2023-03-14T12:54:15Z"}, "body": "With this workflow we will be able to build fuzz targets based on:\r\n- release events: new release or new prerelease (release candidate)\r\n- manual builds - required to retroactively build missing binaries or for development purposes (fixing bugs)\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8722/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8721", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8721/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8721/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8721/events", "html_url": "https://github.com/near/nearcore/pull/8721", "id": 1623173205, "node_id": "PR_kwDOCQUkYs5L-3e9", "number": 8721, "title": "toolchain: update to Rust 1.68.0", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-14T10:26:05Z", "updated_at": "2023-03-14T11:03:19Z", "closed_at": "2023-03-14T11:03:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8721", "html_url": "https://github.com/near/nearcore/pull/8721", "diff_url": "https://github.com/near/nearcore/pull/8721.diff", "patch_url": "https://github.com/near/nearcore/pull/8721.patch", "merged_at": "2023-03-14T11:03:11Z"}, "body": "Routine update to the latest version of Rust.\r\nRelease post: https://blog.rust-lang.org/2023/03/09/Rust-1.68.0.html\r\n\r\nI don't see anything exciting for nearcore in the release.\r\nMaybe `pin!` for custom futures could be useful.\r\n\r\nThe commit also includes clippy changes, they renamed \r\n`derive_hash_xor_eq` to `derived_hash_with_manual_eq`\r\nand changed the check. Now, we no longer need an `allow()`.\r\n\r\nThere is also a new [future incompatibility warning](https://github.com/rust-lang/rust/pull/103418)\r\nwhich we hit in `fs_extra v1.2.0` and `wasmparser v0.78.2`.\r\nI don't think we can get rid of the second anytime soon, assuming we\r\nhang on to replayability.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8721/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8720", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8720/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8720/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8720/events", "html_url": "https://github.com/near/nearcore/pull/8720", "id": 1623171192, "node_id": "PR_kwDOCQUkYs5L-3DK", "number": 8720, "title": "feat: make prober_split pick a random reference legacy node", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-14T10:24:46Z", "updated_at": "2023-03-14T11:19:07Z", "closed_at": "2023-03-14T11:19:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8720", "html_url": "https://github.com/near/nearcore/pull/8720", "diff_url": "https://github.com/near/nearcore/pull/8720.diff", "patch_url": "https://github.com/near/nearcore/pull/8720.patch", "merged_at": "2023-03-14T11:19:05Z"}, "body": "Changed the prober split to pick a random legacy archival node instead of having it passed as a cmdline parameter. The reason is that cloudprober can only provide one target so we need an alternative way to choose the other one. In the new version:\r\n- the split archival node url should be passed as cmdline argument\r\n- the legacy archival node url will be picked at random by the prober script itself", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8720/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8718", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8718/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8718/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8718/events", "html_url": "https://github.com/near/nearcore/pull/8718", "id": 1621201941, "node_id": "PR_kwDOCQUkYs5L4Qbb", "number": 8718, "title": "fix: proper flat storage deltas removal", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-13T10:28:56Z", "updated_at": "2023-03-17T17:07:39Z", "closed_at": "2023-03-17T17:07:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8718", "html_url": "https://github.com/near/nearcore/pull/8718", "diff_url": "https://github.com/near/nearcore/pull/8718.diff", "patch_url": "https://github.com/near/nearcore/pull/8718.patch", "merged_at": "2023-03-17T17:07:38Z"}, "body": "Proper deltas removal during flat storage creation and normal operation. Resolves #8655.\r\n\r\nThe original issue was that we removed deltas exactly twice. It was already resolved around https://github.com/near/nearcore/pull/8683. Reason: we cached blocks and deltas separately, and flat head was cached whereas flat head delta was not - as we don't need it. But we still iterated over all blocks during GC and executed `store_helper::remove_delta` for each block hash. This means that `remove_delta` was called twice: 1) when we move TO flat head; 2) when we move FROM flat head.\r\n\r\nNow we call `get_all_deltas_metadata` on flat storage creation, guarantee that all cached deltas exist, and iterate over existing metadatas, not blocks.\r\n\r\nHowever, now we need to GC deltas created during background creation. We do it in two steps:\r\n1) once we caught up single block - its delta is not needed\r\n2) when we create FS object - there can be some fork blocks remaining. We don't even want to load deltas for them anytime, so it's better do to cleanup right now. Theoretical estimation on their metadatas size is fairly small, and in practice we have 2-10 such blocks - so this step is actually needed. After cleanup, on my experiments there were only 2 deltas remaining on DB, as expected.\r\n\r\nSide fix: tests revealed that when flat storage is removed, we don't remove deltas and it's better to do it.\r\n\r\nAt the same time I introduce `CACHED_CHANGES_LIMIT` and `CACHED_CHANGES_SIZE_LIMIT` to warn users that there is too much data cached in flat storage.\r\n\r\n## Testing\r\n\r\nAdjusting `test_flat_storage_creation_sanity` to check that behaviour: create fork block in the meantime; check in logs that it is actually GC-d; check that previous behaviour fails the test.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8718/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 1}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8718/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8717", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8717/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8717/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8717/events", "html_url": "https://github.com/near/nearcore/pull/8717", "id": 1621170422, "node_id": "PR_kwDOCQUkYs5L4JlB", "number": 8717, "title": "mocknet improvements", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-13T10:11:35Z", "updated_at": "2023-03-14T15:37:30Z", "closed_at": "2023-03-14T13:35:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8717", "html_url": "https://github.com/near/nearcore/pull/8717", "diff_url": "https://github.com/near/nearcore/pull/8717.diff", "patch_url": "https://github.com/near/nearcore/pull/8717.patch", "merged_at": "2023-03-14T13:34:59Z"}, "body": "- refactored the spoon test into a few smaller methods in a class\r\n- added some validation like 'is neard running' and 'is helper running'\r\n- improved error handling and reporting\r\n- improved logging\r\n- implemented proper argument parsing in the helper\r\n- passing test timeout and contract deploye time from spoon to helper in args\r\n- report remainig test time in the load phase\r\n- removed failing tx_measurement checks\r\n- applied waclaw-python-styling\r\n\r\n\r\nnote: Currently the test passes (at least with betanet) but typically a few helper scripts die quite early in the execution. Do you, Dear Reviewers, happen to know if this is an existing issue? Either way I'll try to fix that but it would be easier if I know if this is something new or old. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8717/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8717/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8716", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8716/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8716/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8716/events", "html_url": "https://github.com/near/nearcore/pull/8716", "id": 1620363900, "node_id": "PR_kwDOCQUkYs5L1hUC", "number": 8716, "title": "core: add Children type representing trie branch\u2019s childrenas ", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-12T13:20:54Z", "updated_at": "2023-03-14T13:15:19Z", "closed_at": "2023-03-14T12:13:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8716", "html_url": "https://github.com/near/nearcore/pull/8716", "diff_url": "https://github.com/near/nearcore/pull/8716.diff", "patch_url": "https://github.com/near/nearcore/pull/8716.patch", "merged_at": "2023-03-14T12:13:08Z"}, "body": "Add a generic Children type which holds references to the children\r\nof a trie branch node.  This is a minor refactoring which does three\r\nthings.\r\n\r\n* It provides iterator which filters missing children.  This\r\n  simplifies usage as explicit `filter` call is no longer necessary.\r\n\r\n* It eliminates \u2018as usize\u2019 casts from the code. NibbleSlice returns\r\n  nibbles as `u8`, to use the value as an index in an array a cast is\r\n  necessary.  Now that Children uses `u8` indexes this is no longer\r\n  needed leading to slightly cleaner code.\r\n\r\n* It provides a common generic type for children in RawTrieNode and\r\n  TrieNode types providing common interface for those two cases.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8716/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8715", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8715/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8715/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8715/events", "html_url": "https://github.com/near/nearcore/pull/8715", "id": 1619834511, "node_id": "PR_kwDOCQUkYs5Lz9d4", "number": 8715, "title": "fix(pytest): set boot nodes in recompress_storage.py", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T01:54:03Z", "updated_at": "2023-03-14T16:28:45Z", "closed_at": "2023-03-14T16:28:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8715", "html_url": "https://github.com/near/nearcore/pull/8715", "diff_url": "https://github.com/near/nearcore/pull/8715.diff", "patch_url": "https://github.com/near/nearcore/pull/8715.patch", "merged_at": "2023-03-14T16:28:44Z"}, "body": "this is a fix similar to\r\nhttps://github.com/near/nearcore/pull/8711. After\r\nhttps://github.com/near/nearcore/pull/8617, we need to correctly set the boot nodes in this test, otherwise we get a timeout error in test_tx_status() after the nodes are restarted", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8715/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8714", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8714/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8714/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8714/events", "html_url": "https://github.com/near/nearcore/pull/8714", "id": 1619190264, "node_id": "PR_kwDOCQUkYs5Lxz29", "number": 8714, "title": "Fix: Move buildkite pipeline from AWS to GCP", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-10T15:47:43Z", "updated_at": "2023-03-15T13:22:57Z", "closed_at": "2023-03-15T13:22:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8714", "html_url": "https://github.com/near/nearcore/pull/8714", "diff_url": "https://github.com/near/nearcore/pull/8714.diff", "patch_url": "https://github.com/near/nearcore/pull/8714.patch", "merged_at": "2023-03-15T13:22:56Z"}, "body": "Moving public nearcore pipeline to GCP buildkite agents.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8714/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8711", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8711/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8711/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8711/events", "html_url": "https://github.com/near/nearcore/pull/8711", "id": 1618983954, "node_id": "PR_kwDOCQUkYs5LxH2h", "number": 8711, "title": "Fix boot nodes in fork_sync", "user": {"login": "saketh-are", "id": 3241341, "node_id": "MDQ6VXNlcjMyNDEzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3241341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saketh-are", "html_url": "https://github.com/saketh-are", "followers_url": "https://api.github.com/users/saketh-are/followers", "following_url": "https://api.github.com/users/saketh-are/following{/other_user}", "gists_url": "https://api.github.com/users/saketh-are/gists{/gist_id}", "starred_url": "https://api.github.com/users/saketh-are/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saketh-are/subscriptions", "organizations_url": "https://api.github.com/users/saketh-are/orgs", "repos_url": "https://api.github.com/users/saketh-are/repos", "events_url": "https://api.github.com/users/saketh-are/events{/privacy}", "received_events_url": "https://api.github.com/users/saketh-are/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-10T13:29:57Z", "updated_at": "2023-03-10T14:56:21Z", "closed_at": "2023-03-10T14:56:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8711", "html_url": "https://github.com/near/nearcore/pull/8711", "diff_url": "https://github.com/near/nearcore/pull/8711.diff", "patch_url": "https://github.com/near/nearcore/pull/8711.patch", "merged_at": "2023-03-10T14:56:20Z"}, "body": "This test spins up some nodes using `start_cluster`, then brings them down and back up again. They are brought back up with incorrectly configured `boot_nodes`, preventing them from reconnecting and causing the test to fail.\r\n\r\nBefore #8617 information about peers learned in the first run was persisted to disk, so the boot nodes configured when restarting the nodes didn't matter.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8711/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8710", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8710/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8710/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8710/events", "html_url": "https://github.com/near/nearcore/pull/8710", "id": 1617969557, "node_id": "PR_kwDOCQUkYs5LtwaK", "number": 8710, "title": "feat: use shard uids in deltas", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-09T20:44:07Z", "updated_at": "2023-03-10T13:45:12Z", "closed_at": "2023-03-10T13:35:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8710", "html_url": "https://github.com/near/nearcore/pull/8710", "diff_url": "https://github.com/near/nearcore/pull/8710.diff", "patch_url": "https://github.com/near/nearcore/pull/8710.patch", "merged_at": "2023-03-10T13:35:15Z"}, "body": "Part of https://github.com/near/nearcore/issues/8577.\r\n\r\nUse `ShardUId` instead of `ShardId` in delta key, for consistency with flat state keys. This is not strictly needed today, but may help later if we do resharding - that's how we can support flat storages for old and new shard versions.\r\n\r\n## Testing\r\n\r\nExisting tests should not fail.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8710/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8710/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8709", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8709/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8709/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8709/events", "html_url": "https://github.com/near/nearcore/pull/8709", "id": 1617904872, "node_id": "PR_kwDOCQUkYs5LtiVI", "number": 8709, "title": "chore: mocknet improvements", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-09T19:53:24Z", "updated_at": "2023-03-10T15:46:22Z", "closed_at": "2023-03-10T15:46:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8709", "html_url": "https://github.com/near/nearcore/pull/8709", "diff_url": "https://github.com/near/nearcore/pull/8709.diff", "patch_url": "https://github.com/near/nearcore/pull/8709.patch", "merged_at": "2023-03-10T15:46:20Z"}, "body": "As discussed in https://github.com/near/nearcore/pull/8707#discussion_r1131251734 refactoring some code around neard_amend_genesis_path. I kept this function itself by now it can only return neard.upgrade or raise an exception. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8709/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8708", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8708/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8708/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8708/events", "html_url": "https://github.com/near/nearcore/pull/8708", "id": 1617596554, "node_id": "PR_kwDOCQUkYs5Lse3k", "number": 8708, "title": "chore(deps): bump json5 and typescript-plugin-css-modules in /tools/debug-ui", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2460145996, "node_id": "MDU6TGFiZWwyNDYwMTQ1OTk2", "url": "https://api.github.com/repos/near/nearcore/labels/C-dependencies", "name": "C-dependencies", "color": "9745C6", "default": false, "description": "Category: Pull requests that update a dependency file"}, {"id": 5185213671, "node_id": "LA_kwDOCQUkYs8AAAABNRAU5w", "url": "https://api.github.com/repos/near/nearcore/labels/javascript", "name": "javascript", "color": "168700", "default": false, "description": "Pull requests that update Javascript code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-09T16:40:25Z", "updated_at": "2023-03-10T15:58:55Z", "closed_at": "2023-03-10T15:58:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8708", "html_url": "https://github.com/near/nearcore/pull/8708", "diff_url": "https://github.com/near/nearcore/pull/8708.diff", "patch_url": "https://github.com/near/nearcore/pull/8708.patch", "merged_at": "2023-03-10T15:58:54Z"}, "body": "Bumps [json5](https://github.com/json5/json5) to 2.2.3 and updates ancestor dependencies [json5](https://github.com/json5/json5), [json5](https://github.com/json5/json5) and [typescript-plugin-css-modules](https://github.com/mrmckeb/typescript-plugin-css-modules). These dependencies need to be updated together.\n\nUpdates `json5` from 2.2.1 to 2.2.3\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/releases\">json5's releases</a>.</em></p>\n<blockquote>\n<h2>v2.2.3</h2>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of v1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h2>v2.2.2</h2>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/blob/main/CHANGELOG.md\">json5's changelog</a>.</em></p>\n<blockquote>\n<h3>v2.2.3 [<a href=\"https://github.com/json5/json5/tree/v2.2.3\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.2...v2.2.3\">diff</a>]</h3>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of\nv1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h3>v2.2.2 [<a href=\"https://github.com/json5/json5/tree/v2.2.2\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.2\">diff</a>]</h3>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/json5/json5/commit/c3a75242772a5026a49c4017a16d9b3543b62776\"><code>c3a7524</code></a> 2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/94fd06d82eeed225fa172f6fb2ca27375cbd2e39\"><code>94fd06d</code></a> docs: update CHANGELOG for v2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/3b8cebf0c474a8b20c78bd75c89cca0c4dce84ce\"><code>3b8cebf</code></a> docs(security): use GitHub security advisories</li>\n<li><a href=\"https://github.com/json5/json5/commit/f0fd9e194dde282caff114a110f4fac635f3a62c\"><code>f0fd9e1</code></a> docs: publish a security policy</li>\n<li><a href=\"https://github.com/json5/json5/commit/6a91a05fffeda16ff6b3b5008b6b340d42d31ec0\"><code>6a91a05</code></a> docs(template): bug -&gt; bug report</li>\n<li><a href=\"https://github.com/json5/json5/commit/14f8cb186e8abdfaccf6527171da7b1224374650\"><code>14f8cb1</code></a> 2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/10cc7ca9169b59c5e0f5afc03dbd870cd06bcc46\"><code>10cc7ca</code></a> docs: update CHANGELOG for v2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/7774c1097993bc3ce9f0ac4b722a32bf7d6871c8\"><code>7774c10</code></a> fix: add <strong>proto</strong> to objects and arrays</li>\n<li><a href=\"https://github.com/json5/json5/commit/edde30abd8b22facf2c06c72586b9f6edf12700d\"><code>edde30a</code></a> Readme: slight tweak to intro</li>\n<li><a href=\"https://github.com/json5/json5/commit/97286f8bd542c89dcee096bc05dd28ed2dfc1e16\"><code>97286f8</code></a> Improve example in readme</li>\n<li>Additional commits viewable in <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.3\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `json5` from 1.0.1 to 2.2.3\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/releases\">json5's releases</a>.</em></p>\n<blockquote>\n<h2>v2.2.3</h2>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of v1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h2>v2.2.2</h2>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/blob/main/CHANGELOG.md\">json5's changelog</a>.</em></p>\n<blockquote>\n<h3>v2.2.3 [<a href=\"https://github.com/json5/json5/tree/v2.2.3\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.2...v2.2.3\">diff</a>]</h3>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of\nv1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h3>v2.2.2 [<a href=\"https://github.com/json5/json5/tree/v2.2.2\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.2\">diff</a>]</h3>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/json5/json5/commit/c3a75242772a5026a49c4017a16d9b3543b62776\"><code>c3a7524</code></a> 2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/94fd06d82eeed225fa172f6fb2ca27375cbd2e39\"><code>94fd06d</code></a> docs: update CHANGELOG for v2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/3b8cebf0c474a8b20c78bd75c89cca0c4dce84ce\"><code>3b8cebf</code></a> docs(security): use GitHub security advisories</li>\n<li><a href=\"https://github.com/json5/json5/commit/f0fd9e194dde282caff114a110f4fac635f3a62c\"><code>f0fd9e1</code></a> docs: publish a security policy</li>\n<li><a href=\"https://github.com/json5/json5/commit/6a91a05fffeda16ff6b3b5008b6b340d42d31ec0\"><code>6a91a05</code></a> docs(template): bug -&gt; bug report</li>\n<li><a href=\"https://github.com/json5/json5/commit/14f8cb186e8abdfaccf6527171da7b1224374650\"><code>14f8cb1</code></a> 2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/10cc7ca9169b59c5e0f5afc03dbd870cd06bcc46\"><code>10cc7ca</code></a> docs: update CHANGELOG for v2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/7774c1097993bc3ce9f0ac4b722a32bf7d6871c8\"><code>7774c10</code></a> fix: add <strong>proto</strong> to objects and arrays</li>\n<li><a href=\"https://github.com/json5/json5/commit/edde30abd8b22facf2c06c72586b9f6edf12700d\"><code>edde30a</code></a> Readme: slight tweak to intro</li>\n<li><a href=\"https://github.com/json5/json5/commit/97286f8bd542c89dcee096bc05dd28ed2dfc1e16\"><code>97286f8</code></a> Improve example in readme</li>\n<li>Additional commits viewable in <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.3\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `typescript-plugin-css-modules` from 4.1.1 to 4.2.2\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/releases\">typescript-plugin-css-modules's releases</a>.</em></p>\n<blockquote>\n<h2>v4.2.2</h2>\n<p><strong>Bug fixes:</strong></p>\n<ul>\n<li>Fix potentially fatal CSS classname regexp bug (<a href=\"https://github.com/mrmckeb\"><code>@\u200bmrmckeb</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/205\">mrmckeb/typescript-plugin-css-modules#205</a>).</li>\n</ul>\n<p><strong>Full changelog</strong>: <a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.2.1...v4.2.2\">https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.2.1...v4.2.2</a></p>\n<h2>v4.2.1</h2>\n<p><strong>Bug fixes:</strong></p>\n<ul>\n<li>Correct <code>additionalData</code> typo (<a href=\"https://github.com/mrmckeb\"><code>@\u200bmrmckeb</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/204\">mrmckeb/typescript-plugin-css-modules#204</a>).</li>\n</ul>\n<p><strong>Full changelog</strong>: <a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.2.0...v4.2.1\">https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.2.0...v4.2.1</a></p>\n<h2>v4.2.0</h2>\n<p><strong>New features:</strong></p>\n<ul>\n<li>Add Less support for <code>goToDefinition</code> (<a href=\"https://github.com/mariusGundersen\"><code>@\u200bmariusGundersen</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/192\">mrmckeb/typescript-plugin-css-modules#192</a>).</li>\n<li>Add <code>additionalData</code> option to append text content to files before they're processed (<a href=\"https://github.com/mrmckeb\"><code>@\u200bmrmckeb</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/203\">mrmckeb/typescript-plugin-css-modules#203</a>).</li>\n</ul>\n<p><strong>Bug fixes:</strong></p>\n<ul>\n<li>Fix Sass tilde importer partial support (<a href=\"https://github.com/dennispg\"><code>@\u200bdennispg</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/193\">mrmckeb/typescript-plugin-css-modules#193</a>).</li>\n</ul>\n<p><strong>Other:</strong></p>\n<ul>\n<li>Remove unsupported <code>postcss-*</code> packages (<a href=\"https://github.com/mrmckeb\"><code>@\u200bmrmckeb</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/201\">mrmckeb/typescript-plugin-css-modules#201</a>).</li>\n<li>Improve <code>goToDefinition</code> documentation and add additional tests (<a href=\"https://github.com/mrmckeb\"><code>@\u200bmrmckeb</code></a>, <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/202\">mrmckeb/typescript-plugin-css-modules#202</a>).</li>\n</ul>\n<p><strong>New contributors</strong></p>\n<ul>\n<li><a href=\"https://github.com/mariusGundersen\"><code>@\u200bmariusGundersen</code></a> made their first contribution in <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/192\">mrmckeb/typescript-plugin-css-modules#192</a></li>\n<li><a href=\"https://github.com/dennispg\"><code>@\u200bdennispg</code></a> made their first contribution in <a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/pull/193\">mrmckeb/typescript-plugin-css-modules#193</a></li>\n</ul>\n<p><strong>Full changelog</strong>: <a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.1.1...v4.2.0\">https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.1.1...v4.2.0</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/9809e51d33c5bd601f41ee0e188e92adaff4e9fe\"><code>9809e51</code></a> chore: bump version</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/38196761ef9fb87b3105c1aa72c50a392fbd6840\"><code>3819676</code></a> fix: improve CSS classname regexp (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/205\">#205</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/9ef8e077a5e7b884243fcd711bb31b61a507c9d5\"><code>9ef8e07</code></a> chore: bump version</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/da7b048c4c5ebe2bebb644bff245214acb8d10de\"><code>da7b048</code></a> fix: correct <code>additionalData</code> typo (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/204\">#204</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/161b62671708435a17abdd4fdd72729ea2682a99\"><code>161b626</code></a> chore: bump version</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/5178720df03635783b7c0116c815b260a2ed4123\"><code>5178720</code></a> feat: add <code>additonalData</code> feature (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/203\">#203</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/c1799603ff89aa95b8f5f23bc464be20ca08529e\"><code>c179960</code></a> test: add additional <code>goToDefinition</code> tests (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/202\">#202</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/e2843079d4ea947851b2e2cefc781bc168af52f4\"><code>e284307</code></a> refactor: remove unsupported <code>postcss-*</code> packages (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/201\">#201</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/75f3054dc89aa1d31d1e08710733df3c98cb223b\"><code>75f3054</code></a> fix: improve logic in Sass tilde importer (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/193\">#193</a>)</li>\n<li><a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/commit/e5700318f60e3f36f9bdd89ffd7e9258c7c1edd2\"><code>e570031</code></a> feat: add Less <code>goToDefinition</code> support (<a href=\"https://github-redirect.dependabot.com/mrmckeb/typescript-plugin-css-modules/issues/192\">#192</a>)</li>\n<li>See full diff in <a href=\"https://github.com/mrmckeb/typescript-plugin-css-modules/compare/v4.1.1...v4.2.2\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/near/nearcore/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8708/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8707", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8707/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8707/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8707/events", "html_url": "https://github.com/near/nearcore/pull/8707", "id": 1617495856, "node_id": "PR_kwDOCQUkYs5LsI6j", "number": 8707, "title": "chore: mocknet - better styling and error handling", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-09T15:42:26Z", "updated_at": "2023-03-09T16:58:17Z", "closed_at": "2023-03-09T16:51:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8707", "html_url": "https://github.com/near/nearcore/pull/8707", "diff_url": "https://github.com/near/nearcore/pull/8707.diff", "patch_url": "https://github.com/near/nearcore/pull/8707.patch", "merged_at": "2023-03-09T16:51:10Z"}, "body": "Step 1 of many of improving the mocknet spoon test. \r\n- random styling improvements\r\n- shortened a few log lines so they fit in one line of output\r\n- rewrote wait_genesis_updater_done from remote bash to local python\r\n- better non-error reporting in wait_node_up - the logs looked scary before but it is expected that node won't reply until it's fully up and running", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8707/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8702", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8702/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8702/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8702/events", "html_url": "https://github.com/near/nearcore/pull/8702", "id": 1617131164, "node_id": "PR_kwDOCQUkYs5Lq4ng", "number": 8702, "title": "feat: implemented prober for comparing legacy and split archival nodes", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-09T12:26:00Z", "updated_at": "2023-03-09T16:08:16Z", "closed_at": "2023-03-09T16:08:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8702", "html_url": "https://github.com/near/nearcore/pull/8702", "diff_url": "https://github.com/near/nearcore/pull/8702.diff", "patch_url": "https://github.com/near/nearcore/pull/8702.patch", "merged_at": "2023-03-09T16:08:14Z"}, "body": "Implemented a prober that queries a legacy archival node and a split archival node and compares the results. It run continuously for the specified duration to compare as many blocks as possible. \r\n\r\nI also refactored the code a tiny bit and changed some log levels to debug to make output more readable. \r\n\r\nExample output from running the command on two legacy testnet nodes:\r\n\r\n```\r\n./prober_split.py --duration 10000 --legacy-url http://34.85.207.41:3030 --split-url http://34.150.139.181:3030\r\n[2023-03-09 12:22:03] INFO: Running Prober\r\n[2023-03-09 12:22:03] INFO: The genesis height is 42376888. The head height is 119678883\r\n[2023-03-09 12:22:03] INFO: Checking blocks at height 73099618\r\n[2023-03-09 12:22:04] INFO: Checking chunks\r\n[2023-03-09 12:22:05] INFO: Checking blocks at height 71891442\r\n[2023-03-09 12:22:06] INFO: Checking chunks\r\n[2023-03-09 12:22:07] INFO: Checking blocks at height 96817754\r\n[2023-03-09 12:22:08] INFO: Checking chunks\r\n[2023-03-09 12:22:09] INFO: Checking blocks at height 95064041\r\n[2023-03-09 12:22:10] INFO: Checking chunks\r\n[2023-03-09 12:22:11] INFO: Checking blocks at height 104953688\r\n[2023-03-09 12:22:11] ERROR: get_block(104953688, http://34.85.207.41:3030) failed: {'name': 'HANDLER_ERROR', 'cause': {'info': {}, 'name': 'UNKNOWN_BLOCK'}, 'code': -32000, 'message': 'Server error', 'data': 'DB Not Found Error: BLOCK HEIGHT: 104953688 \\n Cause: Unknown'}\r\n[2023-03-09 12:22:12] ERROR: get_block(104953688, http://34.150.139.181:3030) failed: {'name': 'HANDLER_ERROR', 'cause': {'info': {}, 'name': 'UNKNOWN_BLOCK'}, 'code': -32000, 'message': 'Server error', 'data': 'DB Not Found Error: BLOCK HEIGHT: 104953688 \\n Cause: Unknown'}\r\n[2023-03-09 12:22:12] INFO: Checking chunks\r\n[2023-03-09 12:22:12] INFO: Checking blocks at height 69915598\r\n[2023-03-09 12:22:12] INFO: Checking chunks\r\n[2023-03-09 12:22:14] INFO: Success. Validated 6 blocks. There were 1 missing blocks.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8702/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8701", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8701/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8701/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8701/events", "html_url": "https://github.com/near/nearcore/pull/8701", "id": 1616819288, "node_id": "PR_kwDOCQUkYs5LpzM1", "number": 8701, "title": "cleanup: Remove `SECONDS_PER_PETAGAS` metric", "user": {"login": "aborg-dev", "id": 1192958, "node_id": "MDQ6VXNlcjExOTI5NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1192958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborg-dev", "html_url": "https://github.com/aborg-dev", "followers_url": "https://api.github.com/users/aborg-dev/followers", "following_url": "https://api.github.com/users/aborg-dev/following{/other_user}", "gists_url": "https://api.github.com/users/aborg-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborg-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborg-dev/subscriptions", "organizations_url": "https://api.github.com/users/aborg-dev/orgs", "repos_url": "https://api.github.com/users/aborg-dev/repos", "events_url": "https://api.github.com/users/aborg-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/aborg-dev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1136018846, "node_id": "MDU6TGFiZWwxMTM2MDE4ODQ2", "url": "https://api.github.com/repos/near/nearcore/labels/C-housekeeping", "name": "C-housekeeping", "color": "9745C6", "default": false, "description": "Category: Refactoring, cleanups, code quality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-09T09:45:43Z", "updated_at": "2023-03-10T13:52:29Z", "closed_at": "2023-03-10T13:52:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8701", "html_url": "https://github.com/near/nearcore/pull/8701", "diff_url": "https://github.com/near/nearcore/pull/8701.diff", "patch_url": "https://github.com/near/nearcore/pull/8701.patch", "merged_at": "2023-03-10T13:52:29Z"}, "body": "As is turned out to be too noisy, hard to aggregate and not allowing to filter out chunks with small gas usage. We have better metrics based on average gas usage and apply delays.\r\n\r\nI've added an alternative metric at panel \"Processing time per gas burnt\" at https://nearinc.grafana.net/goto/UvpFf7-4z?orgId=1 which ended up less noisy and easier to work with.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8701/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8698", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8698/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8698/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8698/events", "html_url": "https://github.com/near/nearcore/pull/8698", "id": 1615598354, "node_id": "PR_kwDOCQUkYs5LlqI_", "number": 8698, "title": "use split store in state-viewer", "user": {"login": "posvyatokum", "id": 10712048, "node_id": "MDQ6VXNlcjEwNzEyMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10712048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posvyatokum", "html_url": "https://github.com/posvyatokum", "followers_url": "https://api.github.com/users/posvyatokum/followers", "following_url": "https://api.github.com/users/posvyatokum/following{/other_user}", "gists_url": "https://api.github.com/users/posvyatokum/gists{/gist_id}", "starred_url": "https://api.github.com/users/posvyatokum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posvyatokum/subscriptions", "organizations_url": "https://api.github.com/users/posvyatokum/orgs", "repos_url": "https://api.github.com/users/posvyatokum/repos", "events_url": "https://api.github.com/users/posvyatokum/events{/privacy}", "received_events_url": "https://api.github.com/users/posvyatokum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-08T16:55:57Z", "updated_at": "2023-03-09T09:57:32Z", "closed_at": "2023-03-09T09:57:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8698", "html_url": "https://github.com/near/nearcore/pull/8698", "diff_url": "https://github.com/near/nearcore/pull/8698.diff", "patch_url": "https://github.com/near/nearcore/pull/8698.patch", "merged_at": "2023-03-09T09:57:31Z"}, "body": "State viewer is pretty much useless with cold db only.\r\nReplacing cold store with split store in case Temperature::Cold was provided. \r\nIf you feel bad about this decision, choose one of these alternative options:\r\n- introduce some config flag that essentially means \"use_split_store_in_state_viewer_instead_of_cold\"\r\n- introduce third Temperature -- Split\r\n- introduce StoreType enum in neard with hot, cold, and split and use it in args instead of Temperature", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8698/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8697", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8697/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8697/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8697/events", "html_url": "https://github.com/near/nearcore/pull/8697", "id": 1615283127, "node_id": "PR_kwDOCQUkYs5LkmZB", "number": 8697, "title": "feat: flat storage rollout on nightly", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-08T13:35:37Z", "updated_at": "2023-03-20T12:49:01Z", "closed_at": "2023-03-20T12:49:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8697", "html_url": "https://github.com/near/nearcore/pull/8697", "diff_url": "https://github.com/near/nearcore/pull/8697.diff", "patch_url": "https://github.com/near/nearcore/pull/8697.patch", "merged_at": "2023-03-20T12:49:00Z"}, "body": "Here we switch from assertions of flat storage vs. trie reads to reads from flat storage only. Part of https://github.com/near/nearcore/issues/8501.\r\n\r\nAlso moving `create_flat_storage_manager` to `FlatStorageManager::test` - I need to reuse it in Runtime tests.\r\n\r\n## Testing\r\n\r\n* `test_storage_read_write_costs_runtime` - runtime-specific test to check costs for subsequent storage read and write. It emphasizes the difference in costs before and after flat storage. Note that without flat storage we still can call contracts, but results, especially costs, will likely diverge from results on chain.\r\n* `test_flat_storage_upgrade` - integration test for protocol upgrade correctness check\r\n* ~https://nayduck.near.org/#/run/2901~ https://nayduck.near.org/#/run/2907", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8697/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8693", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8693/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8693/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8693/events", "html_url": "https://github.com/near/nearcore/pull/8693", "id": 1614079332, "node_id": "PR_kwDOCQUkYs5LgllJ", "number": 8693, "title": "[TestLoop] (9.1/n) Forgot to include the tests into the source tree.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-07T19:37:57Z", "updated_at": "2023-03-08T00:00:05Z", "closed_at": "2023-03-08T00:00:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8693", "html_url": "https://github.com/near/nearcore/pull/8693", "diff_url": "https://github.com/near/nearcore/pull/8693.diff", "patch_url": "https://github.com/near/nearcore/pull/8693.patch", "merged_at": "2023-03-08T00:00:05Z"}, "body": "Oops.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8693/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8692", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8692/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8692/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8692/events", "html_url": "https://github.com/near/nearcore/pull/8692", "id": 1614064880, "node_id": "PR_kwDOCQUkYs5LgikE", "number": 8692, "title": "Fix unwanted UnknownChunk warning log messages.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-07T19:26:24Z", "updated_at": "2023-03-07T23:33:23Z", "closed_at": "2023-03-07T23:33:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8692", "html_url": "https://github.com/near/nearcore/pull/8692", "diff_url": "https://github.com/near/nearcore/pull/8692.diff", "patch_url": "https://github.com/near/nearcore/pull/8692.patch", "merged_at": "2023-03-07T23:33:23Z"}, "body": "See https://near.zulipchat.com/#narrow/stream/295302-general/topic/UnknownChunk.20bug.20report\r\n\r\nProblem:\r\n> Getting a lot of \"WARN chunks: Error processing partial encoded chunk forward: UnknownChunk\" in the testnet after upgrading to 1.32.0-rc.1\r\n\r\nCause:\r\n> This \"error\" happens in a normal code path (where we cache a forwarded chunk even if header isn't available - what Marcin said), so there's nothing wrong. However, a recent refactoring changed the handler of this error, and instead of ignoring it, it was printed out.\r\n\r\nFix: don't return error anymore. This is no longer necessary after migrating ShardsManager to its own actor. Verified that unit tests still have good coverage even without asserting the error (a test fails if one of the insertion statements is commented out). Also rename one of the prometheus metrics to distinguish the two subtle caching cases.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8692/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8690", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8690/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8690/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8690/events", "html_url": "https://github.com/near/nearcore/pull/8690", "id": 1613963343, "node_id": "PR_kwDOCQUkYs5LgMzs", "number": 8690, "title": "Ban nodes sending excessively large PeersResponse", "user": {"login": "saketh-are", "id": 3241341, "node_id": "MDQ6VXNlcjMyNDEzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3241341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saketh-are", "html_url": "https://github.com/saketh-are", "followers_url": "https://api.github.com/users/saketh-are/followers", "following_url": "https://api.github.com/users/saketh-are/following{/other_user}", "gists_url": "https://api.github.com/users/saketh-are/gists{/gist_id}", "starred_url": "https://api.github.com/users/saketh-are/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saketh-are/subscriptions", "organizations_url": "https://api.github.com/users/saketh-are/orgs", "repos_url": "https://api.github.com/users/saketh-are/repos", "events_url": "https://api.github.com/users/saketh-are/events{/privacy}", "received_events_url": "https://api.github.com/users/saketh-are/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-07T18:10:04Z", "updated_at": "2023-03-09T14:52:33Z", "closed_at": "2023-03-09T14:52:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8690", "html_url": "https://github.com/near/nearcore/pull/8690", "diff_url": "https://github.com/near/nearcore/pull/8690.diff", "patch_url": "https://github.com/near/nearcore/pull/8690.patch", "merged_at": "2023-03-09T14:52:33Z"}, "body": "PeersResponse has a bounded size. Sending an excessive number of peers is spammy and should be considered abusive.\r\n\r\nCloses #8642", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8690/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8689", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8689/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8689/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8689/events", "html_url": "https://github.com/near/nearcore/pull/8689", "id": 1613837204, "node_id": "PR_kwDOCQUkYs5Lfxab", "number": 8689, "title": "feat: introduce flat storage status", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-07T16:50:03Z", "updated_at": "2023-03-14T08:00:08Z", "closed_at": "2023-03-14T08:00:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8689", "html_url": "https://github.com/near/nearcore/pull/8689", "diff_url": "https://github.com/near/nearcore/pull/8689.diff", "patch_url": "https://github.com/near/nearcore/pull/8689.patch", "merged_at": "2023-03-14T08:00:08Z"}, "body": "Part of #8577\r\n\r\nThis PR introduces `FlatStorageStatus`:\r\n* it generalises `FlatStorageCreationStatus`\r\n* `FlatStorageCreationStatus::DontCreate` is moved to `::Disabled` status\r\n* flat head is now stored as a part of `::Ready` status.\r\n* `::Empty` status is added to explicitly express that flat storage does not exist\r\n* we no longer need `FlatStateMisc` column, so it is removed \r\n\r\nnayduck run: https://nayduck.near.org/#/run/2905\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8689/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8687", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8687/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8687/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8687/events", "html_url": "https://github.com/near/nearcore/pull/8687", "id": 1613610682, "node_id": "PR_kwDOCQUkYs5Le_8v", "number": 8687, "title": "core: use ValueRef in trie nodes structs", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-07T14:46:34Z", "updated_at": "2023-03-07T23:19:04Z", "closed_at": "2023-03-07T23:11:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8687", "html_url": "https://github.com/near/nearcore/pull/8687", "diff_url": "https://github.com/near/nearcore/pull/8687.diff", "patch_url": "https://github.com/near/nearcore/pull/8687.patch", "merged_at": "2023-03-07T23:11:33Z"}, "body": "Rather than handling value references as a (size, hash) tuples, use\r\nexisting ValueRef type in RawTrieNode and ValueHandle.  This better\r\ndocuments what the u32 and CryptoHash mean and simplifies some code\r\nby having a single object representing what so far was handled with\r\ntwo variables.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8687/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8685", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8685/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8685/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8685/events", "html_url": "https://github.com/near/nearcore/pull/8685", "id": 1613562997, "node_id": "PR_kwDOCQUkYs5Le1tr", "number": 8685, "title": "refactor: use shard uid in flat state keys", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-07T14:18:40Z", "updated_at": "2023-03-08T13:03:39Z", "closed_at": "2023-03-08T13:00:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8685", "html_url": "https://github.com/near/nearcore/pull/8685", "diff_url": "https://github.com/near/nearcore/pull/8685.diff", "patch_url": "https://github.com/near/nearcore/pull/8685.patch", "merged_at": "2023-03-08T13:00:48Z"}, "body": "Prepend `ShardUId` to flat state keys, as motivated in https://github.com/near/nearcore/issues/8670.\r\n\r\nIdeally we need to replace `shard_id` with `shard_uid` everywhere, including other DB keys and `RuntimeAdapter` flat storage methods. But this change would be too involved, so let's do it incrementally.\r\n\r\nThe biggest structural consequence is that `FlatStorage` now stores `shard_uid`, which makes sense, and later it will be used for writing deltas as well. It's not a big deal, but because of that changes are scattered throughout the code and may look scary.\r\n\r\n## Testing\r\n\r\n* `test_flat_storage_iter` checks that new `key_belongs_to_shard` impl is aligned with shard layout; also we can see that the change takes place in this failing test: https://buildkite.com/nearprotocol/nearcore/builds/25676#0186bc8f-12a2-410a-b74c-e326f3b963fa\r\n* https://nayduck.near.org/#/run/2898", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8685/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 1}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8685/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8683", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8683/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8683/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8683/events", "html_url": "https://github.com/near/nearcore/pull/8683", "id": 1612991337, "node_id": "PR_kwDOCQUkYs5Lc4KM", "number": 8683, "title": "feat: remove ChainAccessForFlatStorage", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-07T08:51:53Z", "updated_at": "2023-03-09T17:30:17Z", "closed_at": "2023-03-09T17:30:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8683", "html_url": "https://github.com/near/nearcore/pull/8683", "diff_url": "https://github.com/near/nearcore/pull/8683.diff", "patch_url": "https://github.com/near/nearcore/pull/8683.patch", "merged_at": "2023-03-09T17:30:16Z"}, "body": "Part of #8577\r\n\r\nThis PR includes:\r\n* Store block info as part of `FlatStateDeltaMetadata` on disk. It is used to construct `FlatStorage` instead of `ChainAccessForFlatStorage`.\r\n* Remove `ChainAccessForFlatStorage`.\r\n* Rename `FlatStateDelta` -> `FlatStateChanges` to be consistent with `StateChanges`. We keep the notion of `FlatStateDelta` as changes + metadata.\r\n* Rename `FlatStorage` `add_block` -> `add_delta`\r\n* Remove duplicate `flat::delta` tests from `flat::storage` (that is copy&paste fail from #8664)\r\n\r\nNote: this makes proper GC for deltas more critical, so we need to look into #8655 asap.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8683/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8682", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8682/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8682/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8682/events", "html_url": "https://github.com/near/nearcore/pull/8682", "id": 1612545932, "node_id": "PR_kwDOCQUkYs5LbZ7u", "number": 8682, "title": "fix(state-viewer): compare V1 and V2 ChunkExtras correctly in apply cmd", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-07T01:43:43Z", "updated_at": "2023-03-07T17:31:38Z", "closed_at": "2023-03-07T17:31:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8682", "html_url": "https://github.com/near/nearcore/pull/8682", "diff_url": "https://github.com/near/nearcore/pull/8682.diff", "patch_url": "https://github.com/near/nearcore/pull/8682.patch", "merged_at": "2023-03-07T17:31:37Z"}, "body": "we don't want to blindly check equality because very old chunk extras will be stored as ChunkExtraV1, and the equality check will fail. So explicitly check that the validator stake iters (which is the only changed field between the two) give the same results", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8682/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8675", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8675/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8675/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8675/events", "html_url": "https://github.com/near/nearcore/pull/8675", "id": 1611668303, "node_id": "PR_kwDOCQUkYs5LYcNi", "number": 8675, "title": "Feat: Release fuzz target build", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-06T15:29:22Z", "updated_at": "2023-03-07T12:23:17Z", "closed_at": "2023-03-07T12:23:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8675", "html_url": "https://github.com/near/nearcore/pull/8675", "diff_url": "https://github.com/near/nearcore/pull/8675.diff", "patch_url": "https://github.com/near/nearcore/pull/8675.patch", "merged_at": "2023-03-07T12:23:15Z"}, "body": "renamed workflow", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8675/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8672", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8672/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8672/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8672/events", "html_url": "https://github.com/near/nearcore/pull/8672", "id": 1611269200, "node_id": "PR_kwDOCQUkYs5LXFqc", "number": 8672, "title": "fix: order of guarded and non-guarded db migration", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-06T12:07:28Z", "updated_at": "2023-03-08T13:47:34Z", "closed_at": "2023-03-08T13:47:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8672", "html_url": "https://github.com/near/nearcore/pull/8672", "diff_url": "https://github.com/near/nearcore/pull/8672.diff", "patch_url": "https://github.com/near/nearcore/pull/8672.patch", "merged_at": "2023-03-08T13:47:34Z"}, "body": "In https://github.com/near/nearcore/pull/8617 we introduced new DB migration (deprecating Peers column). But before it we had another migration indicating creation of flat storage columns, currently guarded by compilation flag.\r\n\r\nActually, we should put \"peers\" migration **before** \"flat state\" migration, because for nodes which don't have flat state enabled, intermediate version in `match` will be missing. We didn't see it because we also didn't update `DB_VERSION`, which essentially means that nodes didn't trigger any migrations yet.\r\n\r\nHere I also bump `DB_VERSION`, so nodes will run \"peers\" migration and then \"flat state\" migration if compilation flag is enabled. The only outcome is that our custom nodes which have flat state **will not** run \"peers\" migration, but this is fine.\r\n\r\ncc @saketh-are ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8672/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8672/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8671", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8671/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8671/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8671/events", "html_url": "https://github.com/near/nearcore/pull/8671", "id": 1611230612, "node_id": "PR_kwDOCQUkYs5LW9PK", "number": 8671, "title": "feat(indexer): Respect `nightly` feature of `nearcore` lib (for betanet)", "user": {"login": "khorolets", "id": 3235740, "node_id": "MDQ6VXNlcjMyMzU3NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3235740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorolets", "html_url": "https://github.com/khorolets", "followers_url": "https://api.github.com/users/khorolets/followers", "following_url": "https://api.github.com/users/khorolets/following{/other_user}", "gists_url": "https://api.github.com/users/khorolets/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorolets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorolets/subscriptions", "organizations_url": "https://api.github.com/users/khorolets/orgs", "repos_url": "https://api.github.com/users/khorolets/repos", "events_url": "https://api.github.com/users/khorolets/events{/privacy}", "received_events_url": "https://api.github.com/users/khorolets/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-06T11:44:49Z", "updated_at": "2023-03-06T12:04:12Z", "closed_at": "2023-03-06T12:04:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8671", "html_url": "https://github.com/near/nearcore/pull/8671", "diff_url": "https://github.com/near/nearcore/pull/8671.diff", "patch_url": "https://github.com/near/nearcore/pull/8671.patch", "merged_at": "2023-03-06T12:04:10Z"}, "body": "This PR adds a small change that makes NEAR Indexer Framework to respect the `nightly` feature of `nearcore` lib.\r\n\r\nThis is needed for Indexer Framework to support `betanet` (regarding international testing environmental)\r\n\r\ncc @pkudinov @nikurt ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8671/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8669", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8669/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8669/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8669/events", "html_url": "https://github.com/near/nearcore/pull/8669", "id": 1609810029, "node_id": "PR_kwDOCQUkYs5LSYCr", "number": 8669, "title": "ColdDB state_root test", "user": {"login": "posvyatokum", "id": 10712048, "node_id": "MDQ6VXNlcjEwNzEyMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10712048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posvyatokum", "html_url": "https://github.com/posvyatokum", "followers_url": "https://api.github.com/users/posvyatokum/followers", "following_url": "https://api.github.com/users/posvyatokum/following{/other_user}", "gists_url": "https://api.github.com/users/posvyatokum/gists{/gist_id}", "starred_url": "https://api.github.com/users/posvyatokum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posvyatokum/subscriptions", "organizations_url": "https://api.github.com/users/posvyatokum/orgs", "repos_url": "https://api.github.com/users/posvyatokum/repos", "events_url": "https://api.github.com/users/posvyatokum/events{/privacy}", "received_events_url": "https://api.github.com/users/posvyatokum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-04T14:55:34Z", "updated_at": "2023-03-07T20:14:42Z", "closed_at": "2023-03-07T20:14:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8669", "html_url": "https://github.com/near/nearcore/pull/8669", "diff_url": "https://github.com/near/nearcore/pull/8669.diff", "patch_url": "https://github.com/near/nearcore/pull/8669.patch", "merged_at": "2023-03-07T20:14:41Z"}, "body": "Creating a test to check that State column in cold storage is consistent.\r\nIt traverses Trie and makes sure that every node is present in cold db. \r\nWe can pass max-depth or max-count to the tool to make sure that test is running reasonable time.\r\nTest is randomised in a sense that children are traversed in the random order, so if max-count is passed, then the set of checked nodes may vary from run to run.\r\n\r\nBecause this test is intended to run on an actual node as a background check, introducing creation of checkpoints to public interface of the opener (open to literally any other idea here). Node still has to be stopped for creation of checkpoints, but it is a quick process.\r\n\r\nTool can be used to check Trie from a given state_root, but intended use is to provide some random (or not random) height.\r\nThen previous state root of all chunks of that block will be checked (it is just easy to get to them code-wise, no need for shard ids of any kind).", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8669/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8668", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8668/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8668/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8668/events", "html_url": "https://github.com/near/nearcore/pull/8668", "id": 1609210673, "node_id": "PR_kwDOCQUkYs5LQY79", "number": 8668, "title": "refactor: reduce `#[cfg(feature = \"protocol_feature_flat_state\")]` usage", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-03T20:31:35Z", "updated_at": "2023-03-06T17:50:09Z", "closed_at": "2023-03-06T17:50:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8668", "html_url": "https://github.com/near/nearcore/pull/8668", "diff_url": "https://github.com/near/nearcore/pull/8668.diff", "patch_url": "https://github.com/near/nearcore/pull/8668.patch", "merged_at": "2023-03-06T17:50:09Z"}, "body": "Part of #8577\r\n\r\nThis PR reduces usage `#[cfg(feature = \"protocol_feature_flat_state\")]` and favours `if cfg!(feature = \"protocol_feature_flat_state\")` runtime check. This make code easier to understand and navigate and removes placeholder functions and structs that were added to make code compile when the feature is disabled.\r\n\r\nIn most cases the feature check is only needed at the top level. One exception is `DBCol::FlatState*` where we keep `#[cfg(..)]` to make sure database columns are not created when flat storage is not enabled.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8668/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8667", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8667/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8667/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8667/events", "html_url": "https://github.com/near/nearcore/pull/8667", "id": 1607730490, "node_id": "PR_kwDOCQUkYs5LLamc", "number": 8667, "title": "[TestLoop] (10/n) Visualizer for understanding TestLoop tests", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-03T00:08:27Z", "updated_at": "2023-03-07T22:40:51Z", "closed_at": "2023-03-07T22:40:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8667", "html_url": "https://github.com/near/nearcore/pull/8667", "diff_url": "https://github.com/near/nearcore/pull/8667.diff", "patch_url": "https://github.com/near/nearcore/pull/8667.patch", "merged_at": "2023-03-07T22:40:51Z"}, "body": "See README.md changes for how to run the visualizer.\r\n\r\nScreenshots from visualizing a ShardsManager multi-instance test (`cargo test -p near-chunks test_multi -- --show-output > ~/log.txt` and then dragging in log.txt)\r\n<img width=\"1728\" alt=\"image\" src=\"https://user-images.githubusercontent.com/111538878/222594411-8fa6f8d7-1eaf-42b4-972d-67384e8f2a3f.png\">\r\n<img width=\"1728\" alt=\"image\" src=\"https://user-images.githubusercontent.com/111538878/222594625-76441066-a664-42ff-a7b5-3b3f3c26d1b4.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8667/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8664", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8664/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8664/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8664/events", "html_url": "https://github.com/near/nearcore/pull/8664", "id": 1606958920, "node_id": "PR_kwDOCQUkYs5LIx9Z", "number": 8664, "title": "refactor: split flat storage into multiple files and rename some structs", "user": {"login": "pugachAG", "id": 3171838, "node_id": "MDQ6VXNlcjMxNzE4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3171838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pugachAG", "html_url": "https://github.com/pugachAG", "followers_url": "https://api.github.com/users/pugachAG/followers", "following_url": "https://api.github.com/users/pugachAG/following{/other_user}", "gists_url": "https://api.github.com/users/pugachAG/gists{/gist_id}", "starred_url": "https://api.github.com/users/pugachAG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pugachAG/subscriptions", "organizations_url": "https://api.github.com/users/pugachAG/orgs", "repos_url": "https://api.github.com/users/pugachAG/repos", "events_url": "https://api.github.com/users/pugachAG/events{/privacy}", "received_events_url": "https://api.github.com/users/pugachAG/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1185428061, "node_id": "MDU6TGFiZWwxMTg1NDI4MDYx", "url": "https://api.github.com/repos/near/nearcore/labels/A-storage", "name": "A-storage", "color": "0000ff", "default": false, "description": "Area: storage and databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-02T14:56:10Z", "updated_at": "2023-03-06T12:22:10Z", "closed_at": "2023-03-03T12:53:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8664", "html_url": "https://github.com/near/nearcore/pull/8664", "diff_url": "https://github.com/near/nearcore/pull/8664.diff", "patch_url": "https://github.com/near/nearcore/pull/8664.patch", "merged_at": "2023-03-03T12:53:19Z"}, "body": "Part of #8577\r\n\r\nThis includes 2 parts:\r\n* split single-file `near_store::flat_state` module into multiple files under `flat` directory\r\n* rename some structs to better reflect the responsibilities\r\n\r\nPlease note that this does not introduce any behaviour or API changes, it simply moves the code around.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8664/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8664/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8663", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8663/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8663/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8663/events", "html_url": "https://github.com/near/nearcore/pull/8663", "id": 1606004696, "node_id": "PR_kwDOCQUkYs5LFisx", "number": 8663, "title": "Bound the size of the PeerStore", "user": {"login": "saketh-are", "id": 3241341, "node_id": "MDQ6VXNlcjMyNDEzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3241341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saketh-are", "html_url": "https://github.com/saketh-are", "followers_url": "https://api.github.com/users/saketh-are/followers", "following_url": "https://api.github.com/users/saketh-are/following{/other_user}", "gists_url": "https://api.github.com/users/saketh-are/gists{/gist_id}", "starred_url": "https://api.github.com/users/saketh-are/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saketh-are/subscriptions", "organizations_url": "https://api.github.com/users/saketh-are/orgs", "repos_url": "https://api.github.com/users/saketh-are/repos", "events_url": "https://api.github.com/users/saketh-are/events{/privacy}", "received_events_url": "https://api.github.com/users/saketh-are/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-02T02:35:12Z", "updated_at": "2023-03-06T22:08:24Z", "closed_at": "2023-03-06T22:08:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8663", "html_url": "https://github.com/near/nearcore/pull/8663", "diff_url": "https://github.com/near/nearcore/pull/8663.diff", "patch_url": "https://github.com/near/nearcore/pull/8663.patch", "merged_at": "2023-03-06T22:08:24Z"}, "body": "This PR switches the underlying storage for peer states in the PeerStore from a HashMap to an LruCache with bounded size. The default size for the cache is 1000, with an option to change it through the network config.\r\n\r\nThis change addresses an existing security vulnerability. PeerStore contains unverified data collected from any PeersResponse messages received by the node. Before this PR, the size of the PeerStore was unbounded and the node could go out-of-memory if spammed with PeersResponse messages containing many (possibly fake) peers.\r\n\r\nThe purpose of the PeerStore is to maintain a (roughly random) sample of peers in the network, not necessarily a complete picture of all peers in the network. This sample of peers is used to establish new connections and is also shared with other nodes in the network. Bounding its size addresses the security concern while still allowing it to serve its purpose. \r\n\r\nNewly discovered peers from PeersResponse messages are inserted to the head of the cache. Periodically, all actively-connected peers are promoted to the head of the cache. When the cache is full, peers are evicted from its tail.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8662", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8662/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8662/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8662/events", "html_url": "https://github.com/near/nearcore/pull/8662", "id": 1604956440, "node_id": "PR_kwDOCQUkYs5LB--4", "number": 8662, "title": "feat: introduce cached flat storage deltas", "user": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Longarithm", "id": 8607261, "node_id": "MDQ6VXNlcjg2MDcyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8607261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longarithm", "html_url": "https://github.com/Longarithm", "followers_url": "https://api.github.com/users/Longarithm/followers", "following_url": "https://api.github.com/users/Longarithm/following{/other_user}", "gists_url": "https://api.github.com/users/Longarithm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longarithm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longarithm/subscriptions", "organizations_url": "https://api.github.com/users/Longarithm/orgs", "repos_url": "https://api.github.com/users/Longarithm/repos", "events_url": "https://api.github.com/users/Longarithm/events{/privacy}", "received_events_url": "https://api.github.com/users/Longarithm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-03-01T13:13:45Z", "updated_at": "2023-03-03T19:14:11Z", "closed_at": "2023-03-03T14:38:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8662", "html_url": "https://github.com/near/nearcore/pull/8662", "diff_url": "https://github.com/near/nearcore/pull/8662.diff", "patch_url": "https://github.com/near/nearcore/pull/8662.patch", "merged_at": "2023-03-03T14:38:08Z"}, "body": "Introduce `CachedFlatStateDelta` and store it in memory instead of larger `FlatStateDelta`. There we store only hashes of trie keys instead of full trie keys. It still allows to serve read-only queries, but greatly reduces max size of deltas per block - from ~50 MB of raw entries to ~5 MB. Full motivation can be found here: https://github.com/near/nearcore/issues/8436.\r\n\r\nBased on https://ntietz.com/blog/rust-hashmap-overhead/, hashmap overhead is 70% per entry, so we estimate full entry size as 117.\r\n\r\nProof that it doesn't impact performance: [node with full blocks and no finality for 50 blocks](https://nearinc.grafana.net/d/Vg9SREA4k/flat-storage-test?orgId=1&var-chain_id=mainnet&var-node_id=logunov-mainnet-fs-1&from=1677796776617&to=1677839406051), [node without finality lags](https://nearinc.grafana.net/d/Vg9SREA4k/flat-storage-test?orgId=1&var-chain_id=mainnet&var-node_id=logunov-mainnet-fs-2&from=1677796776617&to=1677839406051). You can see that the first node has up to 50 cached blocks very regularly, but time for getting value ref doesn't change.\r\n\r\n## Testing\r\n\r\nExisting tests must not fail.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8662/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8661", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8661/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8661/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8661/events", "html_url": "https://github.com/near/nearcore/pull/8661", "id": 1604871023, "node_id": "PR_kwDOCQUkYs5LBsZO", "number": 8661, "title": "feat: Dump state of every epoch to S3", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-01T12:21:20Z", "updated_at": "2023-03-10T09:39:15Z", "closed_at": "2023-03-10T09:39:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8661", "html_url": "https://github.com/near/nearcore/pull/8661", "diff_url": "https://github.com/near/nearcore/pull/8661.diff", "patch_url": "https://github.com/near/nearcore/pull/8661.patch", "merged_at": "2023-03-10T09:39:14Z"}, "body": "* Start a thread per shard to do the dumping\r\n* AWS credentials are provided as environment variables: `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`\r\n* In `config.json` specify both `config.state_sync.s3_bucket` and `config.state_sync.s3_region` to enable the new behavior.\r\n* No changes to the behavior of the node if those options are not enabled in `config.json`.\r\n* State is persisted to RocksDB such that restarts of the node are well handled.\r\n* Some useful metrics are exported.\r\n* The node assumes it's the only node in the this and all alternative universes that does the dumping.\r\n* * Unclear how to use multiple nodes to complete the dump faster\r\n* TODO: Speed this up by doing things in parallel: obtain parts, upload parts, set tags\r\n* * Do we even need tags?", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8661/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8659", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8659/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8659/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8659/events", "html_url": "https://github.com/near/nearcore/pull/8659", "id": 1603577822, "node_id": "PR_kwDOCQUkYs5K9UYc", "number": 8659, "title": "fix(mocknet): adjust args passed to load test scripts", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T18:12:33Z", "updated_at": "2023-03-01T15:42:54Z", "closed_at": "2023-03-01T15:42:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8659", "html_url": "https://github.com/near/nearcore/pull/8659", "diff_url": "https://github.com/near/nearcore/pull/8659.diff", "patch_url": "https://github.com/near/nearcore/pull/8659.patch", "merged_at": "2023-03-01T15:42:54Z"}, "body": "In https://github.com/near/nearcore/pull/8629, the args passed to the load test scripts should have been adjusted, because it is no longer correct to assume that each validator account is controlled by the first validator's validator key. This results in immediate failures in the load tests, and we get no traffic. So instead, we will remove these arguments and have the script refer directly to the hardcoded key that's added to every account during the chain setup phase.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8659/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8658", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8658/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8658/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8658/events", "html_url": "https://github.com/near/nearcore/pull/8658", "id": 1603502802, "node_id": "PR_kwDOCQUkYs5K9DaV", "number": 8658, "title": "add allow comments and config validation to CHANGELOG.md", "user": {"login": "ppca", "id": 16693342, "node_id": "MDQ6VXNlcjE2NjkzMzQy", "avatar_url": "https://avatars.githubusercontent.com/u/16693342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppca", "html_url": "https://github.com/ppca", "followers_url": "https://api.github.com/users/ppca/followers", "following_url": "https://api.github.com/users/ppca/following{/other_user}", "gists_url": "https://api.github.com/users/ppca/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppca/subscriptions", "organizations_url": "https://api.github.com/users/ppca/orgs", "repos_url": "https://api.github.com/users/ppca/repos", "events_url": "https://api.github.com/users/ppca/events{/privacy}", "received_events_url": "https://api.github.com/users/ppca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T17:36:56Z", "updated_at": "2023-07-31T19:20:49Z", "closed_at": "2023-03-01T07:44:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8658", "html_url": "https://github.com/near/nearcore/pull/8658", "diff_url": "https://github.com/near/nearcore/pull/8658.diff", "patch_url": "https://github.com/near/nearcore/pull/8658.patch", "merged_at": "2023-03-01T07:44:28Z"}, "body": "    add allow comments in configs and config validation command to CHANGELOG.md\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8657", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8657/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8657/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8657/events", "html_url": "https://github.com/near/nearcore/pull/8657", "id": 1603341826, "node_id": "PR_kwDOCQUkYs5K8gZg", "number": 8657, "title": "doc: describe corner cases of meta transactions", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1797658345, "node_id": "MDU6TGFiZWwxNzk3NjU4MzQ1", "url": "https://api.github.com/repos/near/nearcore/labels/C-docs", "name": "C-docs", "color": "9745C6", "default": false, "description": "Category: documentation, including rustdoc, nomicon, and docs.nearprotocol.com"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T15:57:32Z", "updated_at": "2023-02-28T17:19:58Z", "closed_at": "2023-02-28T16:54:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8657", "html_url": "https://github.com/near/nearcore/pull/8657", "diff_url": "https://github.com/near/nearcore/pull/8657.diff", "patch_url": "https://github.com/near/nearcore/pull/8657.patch", "merged_at": "2023-02-28T16:54:47Z"}, "body": "As meta transactions are on their way to testnet, we discover more and\r\nmore corner cases that are slightly unclear in the NEP itself. Adding\r\nexplanations here in the nearcore guide is a good first step to document\r\nthese technical details somewhere.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8656", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8656/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8656/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8656/events", "html_url": "https://github.com/near/nearcore/pull/8656", "id": 1603229947, "node_id": "PR_kwDOCQUkYs5K8IHf", "number": 8656, "title": "feat: use split store in the view client", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-28T14:56:18Z", "updated_at": "2023-03-02T12:11:50Z", "closed_at": "2023-03-02T12:11:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8656", "html_url": "https://github.com/near/nearcore/pull/8656", "diff_url": "https://github.com/near/nearcore/pull/8656.diff", "patch_url": "https://github.com/near/nearcore/pull/8656.patch", "merged_at": "2023-03-02T12:11:49Z"}, "body": "- use split store in the view client - when configured\r\n- removed the get_store(Temperature) method and replaced usages with safer get_cold_store and get_hot_store\r\n- added SplitStorageConfig and used it to configure a few things", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8654", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8654/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8654/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8654/events", "html_url": "https://github.com/near/nearcore/pull/8654", "id": 1602903108, "node_id": "PR_kwDOCQUkYs5K7APL", "number": 8654, "title": "Feat: Adding release fuzz builder workflow", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T11:52:58Z", "updated_at": "2023-02-28T12:57:57Z", "closed_at": "2023-02-28T12:57:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8654", "html_url": "https://github.com/near/nearcore/pull/8654", "diff_url": "https://github.com/near/nearcore/pull/8654.diff", "patch_url": "https://github.com/near/nearcore/pull/8654.patch", "merged_at": "2023-02-28T12:57:55Z"}, "body": "In this PR I'm adjusting build_fuzzers script to allow specification of the conventional \"branch\" name.\r\nWorkflows will be calling it with either \"release\" or \"master\" arg and the resulting archive will be pushed to corresponding bucket: gs://fuzzer_targets/release/ or gs://fuzzer_targets/master/\r\n\r\nRelease fuzz building workflow will be triggered on release publish even.\r\n\r\nTest ran successfully in https://github.com/near/nearcore/actions/runs/4292093900/jobs/7478099145", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8654/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8654/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8653", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8653/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8653/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8653/events", "html_url": "https://github.com/near/nearcore/pull/8653", "id": 1602718252, "node_id": "PR_kwDOCQUkYs5K6X90", "number": 8653, "title": "1.32 CHANGELOG update", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T10:00:27Z", "updated_at": "2023-03-01T10:40:39Z", "closed_at": "2023-03-01T10:40:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8653", "html_url": "https://github.com/near/nearcore/pull/8653", "diff_url": "https://github.com/near/nearcore/pull/8653.diff", "patch_url": "https://github.com/near/nearcore/pull/8653.patch", "merged_at": "2023-03-01T10:40:37Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8653/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8652", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8652/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8652/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8652/events", "html_url": "https://github.com/near/nearcore/pull/8652", "id": 1602066241, "node_id": "PR_kwDOCQUkYs5K4NmQ", "number": 8652, "title": "[TestLoop] (9/n) Add two basic TestLoop-based unit tests for ShardsManager.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T22:43:28Z", "updated_at": "2023-03-02T19:09:40Z", "closed_at": "2023-03-02T19:09:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8652", "html_url": "https://github.com/near/nearcore/pull/8652", "diff_url": "https://github.com/near/nearcore/pull/8652.diff", "patch_url": "https://github.com/near/nearcore/pull/8652.patch", "merged_at": "2023-03-02T19:09:40Z"}, "body": "The multi-instance test, in particular, is the kind of test we wanted to write for the Q1 objective. It tests multi-machine behavior without involving Client.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8652/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8651", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8651/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8651/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8651/events", "html_url": "https://github.com/near/nearcore/pull/8651", "id": 1601853926, "node_id": "PR_kwDOCQUkYs5K3f3K", "number": 8651, "title": "Update .dockerignore", "user": {"login": "bootstrap314", "id": 101664861, "node_id": "U_kgDOBg9IXQ", "avatar_url": "https://avatars.githubusercontent.com/u/101664861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bootstrap314", "html_url": "https://github.com/bootstrap314", "followers_url": "https://api.github.com/users/bootstrap314/followers", "following_url": "https://api.github.com/users/bootstrap314/following{/other_user}", "gists_url": "https://api.github.com/users/bootstrap314/gists{/gist_id}", "starred_url": "https://api.github.com/users/bootstrap314/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bootstrap314/subscriptions", "organizations_url": "https://api.github.com/users/bootstrap314/orgs", "repos_url": "https://api.github.com/users/bootstrap314/repos", "events_url": "https://api.github.com/users/bootstrap314/events{/privacy}", "received_events_url": "https://api.github.com/users/bootstrap314/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T19:59:35Z", "updated_at": "2023-02-28T07:23:15Z", "closed_at": "2023-02-28T07:23:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8651", "html_url": "https://github.com/near/nearcore/pull/8651", "diff_url": "https://github.com/near/nearcore/pull/8651.diff", "patch_url": "https://github.com/near/nearcore/pull/8651.patch", "merged_at": "2023-02-28T07:23:13Z"}, "body": "This change prevents internal contents of a this git repository from being copied into the context of a docker image.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8651/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8648", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8648/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8648/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8648/events", "html_url": "https://github.com/near/nearcore/pull/8648", "id": 1601621697, "node_id": "PR_kwDOCQUkYs5K2uTN", "number": 8648, "title": "Feat: enabling runner and diffrunner fuzz targets", "user": {"login": "andrei-near", "id": 122784628, "node_id": "U_kgDOB1GLdA", "avatar_url": "https://avatars.githubusercontent.com/u/122784628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-near", "html_url": "https://github.com/andrei-near", "followers_url": "https://api.github.com/users/andrei-near/followers", "following_url": "https://api.github.com/users/andrei-near/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-near/subscriptions", "organizations_url": "https://api.github.com/users/andrei-near/orgs", "repos_url": "https://api.github.com/users/andrei-near/repos", "events_url": "https://api.github.com/users/andrei-near/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-27T17:27:42Z", "updated_at": "2023-02-28T10:23:42Z", "closed_at": "2023-02-28T10:23:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8648", "html_url": "https://github.com/near/nearcore/pull/8648", "diff_url": "https://github.com/near/nearcore/pull/8648.diff", "patch_url": "https://github.com/near/nearcore/pull/8648.patch", "merged_at": "2023-02-28T10:23:40Z"}, "body": "In this PR I enable the remain fuzzers: runner and diffrunner. Some additional changes done:\r\n\r\n- Because runner fuzz binary depends on compiled contract wasm file, I changed test-near-contracts lib to load the wasm contract into binary at compile time instead of trying to read it from disk at runtime. Tested resulting binary on Nayduck nodes.\r\n- Commented unused fuzz targets from fuzz.toml\r\n- Because of above, I had to rename directories from fuzz_targets to fuzz_targets disabled so that buildkite sanity checks pass. This is no-op as these fuzzers are disabled\r\n\r\nWith this PR fuzz targets build for **master** branch [succeeds]((https://github.com/near/nearcore/actions/runs/4283565439/jobs/7459305461)) and ClusterFuzz jobs are fuzzing correctly the resulting targets. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8648/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8646", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8646/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8646/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8646/events", "html_url": "https://github.com/near/nearcore/pull/8646", "id": 1601301690, "node_id": "PR_kwDOCQUkYs5K1pfG", "number": 8646, "title": "fix(cold-store): tail type", "user": {"login": "posvyatokum", "id": 10712048, "node_id": "MDQ6VXNlcjEwNzEyMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10712048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posvyatokum", "html_url": "https://github.com/posvyatokum", "followers_url": "https://api.github.com/users/posvyatokum/followers", "following_url": "https://api.github.com/users/posvyatokum/following{/other_user}", "gists_url": "https://api.github.com/users/posvyatokum/gists{/gist_id}", "starred_url": "https://api.github.com/users/posvyatokum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posvyatokum/subscriptions", "organizations_url": "https://api.github.com/users/posvyatokum/orgs", "repos_url": "https://api.github.com/users/posvyatokum/repos", "events_url": "https://api.github.com/users/posvyatokum/events{/privacy}", "received_events_url": "https://api.github.com/users/posvyatokum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T14:28:28Z", "updated_at": "2023-02-27T16:53:56Z", "closed_at": "2023-02-27T16:53:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8646", "html_url": "https://github.com/near/nearcore/pull/8646", "diff_url": "https://github.com/near/nearcore/pull/8646.diff", "patch_url": "https://github.com/near/nearcore/pull/8646.patch", "merged_at": "2023-02-27T16:53:54Z"}, "body": "Tail is u64, not Tip.\r\nMissed that, until started running this code on non-archival db that actually has tail.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8646/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8645", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8645/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8645/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8645/events", "html_url": "https://github.com/near/nearcore/pull/8645", "id": 1601045494, "node_id": "PR_kwDOCQUkYs5K0xuY", "number": 8645, "title": "refactor: Util function to derive an implicit PK", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1136018846, "node_id": "MDU6TGFiZWwxMTM2MDE4ODQ2", "url": "https://api.github.com/repos/near/nearcore/labels/C-housekeeping", "name": "C-housekeeping", "color": "9745C6", "default": false, "description": "Category: Refactoring, cleanups, code quality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T12:00:34Z", "updated_at": "2023-02-27T16:15:42Z", "closed_at": "2023-02-27T15:55:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8645", "html_url": "https://github.com/near/nearcore/pull/8645", "diff_url": "https://github.com/near/nearcore/pull/8645.diff", "patch_url": "https://github.com/near/nearcore/pull/8645.patch", "merged_at": "2023-02-27T15:55:02Z"}, "body": "`PublicKey::from_implicit_account` derives the implicit PK for\r\n an account ID, both for tests/tooling as well as for production code.\r\n\r\n Closes #8588", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8645/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8643", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8643/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8643/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8643/events", "html_url": "https://github.com/near/nearcore/pull/8643", "id": 1599201288, "node_id": "PR_kwDOCQUkYs5Kuw-R", "number": 8643, "title": "[TestLoop] (8/n) Use Clock for ShardsManager. Also remove SealsManager.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-24T19:54:07Z", "updated_at": "2023-02-28T20:06:30Z", "closed_at": "2023-02-28T20:06:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8643", "html_url": "https://github.com/near/nearcore/pull/8643", "diff_url": "https://github.com/near/nearcore/pull/8643.diff", "patch_url": "https://github.com/near/nearcore/pull/8643.patch", "merged_at": "2023-02-28T20:06:30Z"}, "body": "Remove any use StaticClock in ShardsManager, and replace them with a Clock. Use FakeClock for unit tests instead of sleeping. Previously we were sleeping hundreds of milliseconds at a time.\r\n\r\nAlso remove SealsManager. It does nothing except requesting extra parts at random (and does not validate anything afterwards). A lot of SealsManager code is in comments which makes refactoring like this automatically invalidate any code in the comments, and we should not keep dead code around.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8643/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8641", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8641/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8641/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8641/events", "html_url": "https://github.com/near/nearcore/pull/8641", "id": 1598417363, "node_id": "PR_kwDOCQUkYs5KsGWr", "number": 8641, "title": "feat: Add meta-tx to mocknet", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-24T11:04:38Z", "updated_at": "2023-03-06T15:49:15Z", "closed_at": "2023-03-06T15:49:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8641", "html_url": "https://github.com/near/nearcore/pull/8641", "diff_url": "https://github.com/near/nearcore/pull/8641.diff", "patch_url": "https://github.com/near/nearcore/pull/8641.patch", "merged_at": "2023-03-06T15:49:14Z"}, "body": "load_test_betanet and load_test_spoon_helper are 80% the same. Refactored them to a common file.\r\nChanges account names in the mocknet test from \"a00_something\" to \"a00.something\".\r\nDelete the unused skyward load test.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8641/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8640", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8640/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8640/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8640/events", "html_url": "https://github.com/near/nearcore/pull/8640", "id": 1598413799, "node_id": "PR_kwDOCQUkYs5KsFjH", "number": 8640, "title": "Script for migration to split storage", "user": {"login": "posvyatokum", "id": 10712048, "node_id": "MDQ6VXNlcjEwNzEyMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10712048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posvyatokum", "html_url": "https://github.com/posvyatokum", "followers_url": "https://api.github.com/users/posvyatokum/followers", "following_url": "https://api.github.com/users/posvyatokum/following{/other_user}", "gists_url": "https://api.github.com/users/posvyatokum/gists{/gist_id}", "starred_url": "https://api.github.com/users/posvyatokum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posvyatokum/subscriptions", "organizations_url": "https://api.github.com/users/posvyatokum/orgs", "repos_url": "https://api.github.com/users/posvyatokum/repos", "events_url": "https://api.github.com/users/posvyatokum/events{/privacy}", "received_events_url": "https://api.github.com/users/posvyatokum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4770828857, "node_id": "LA_kwDOCQUkYs8AAAABHF0SOQ", "url": "https://api.github.com/repos/near/nearcore/labels/A-cold-storage", "name": "A-cold-storage", "color": "1863F5", "default": false, "description": "Area: Cold storage"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-24T11:02:49Z", "updated_at": "2023-02-27T11:15:31Z", "closed_at": "2023-02-27T11:15:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8640", "html_url": "https://github.com/near/nearcore/pull/8640", "diff_url": "https://github.com/near/nearcore/pull/8640.diff", "patch_url": "https://github.com/near/nearcore/pull/8640.patch", "merged_at": "2023-02-27T11:15:29Z"}, "body": "This is a helper script to\r\n- run migration to cold storage\r\n- automatically detect that cold storage synced\r\n- download rpc db\r\n- switch to split storage mode\r\nScript assumes Pagoda gcp setup and is not yet suitable for mass adoption without changes", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8640/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8639", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8639/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8639/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8639/events", "html_url": "https://github.com/near/nearcore/pull/8639", "id": 1598316921, "node_id": "PR_kwDOCQUkYs5KrwBf", "number": 8639, "title": "downgraded PermitDrop error from panic to regular error", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-24T10:08:24Z", "updated_at": "2023-02-27T17:17:16Z", "closed_at": "2023-02-27T17:17:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8639", "html_url": "https://github.com/near/nearcore/pull/8639", "diff_url": "https://github.com/near/nearcore/pull/8639.diff", "patch_url": "https://github.com/near/nearcore/pull/8639.patch", "merged_at": "2023-02-27T17:17:14Z"}, "body": "Due to actix shutting down arbiters in unpredictable order it panics sometimes.\r\nWith this change it will still disallow establishing a connection, but won't be treated as bug any more.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8639/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8638", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8638/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8638/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8638/events", "html_url": "https://github.com/near/nearcore/pull/8638", "id": 1597953842, "node_id": "PR_kwDOCQUkYs5KqfaR", "number": 8638, "title": "[TestLoop] (7/n) Provide Clock from the TestLoop API.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-24T05:59:02Z", "updated_at": "2023-02-24T19:52:04Z", "closed_at": "2023-02-24T19:37:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8638", "html_url": "https://github.com/near/nearcore/pull/8638", "diff_url": "https://github.com/near/nearcore/pull/8638.diff", "patch_url": "https://github.com/near/nearcore/pull/8638.patch", "merged_at": "2023-02-24T19:37:04Z"}, "body": "This adds `TestLoopBuilder::clock()` which is consistent with the virtual time maintained by the TestLoop.\r\n\r\nThis also refactors LoopEventHandler, so that instead of implementing it as a trait, it can be created by supplying a function. This allows test loop internal code to maintain the init() functionality so that the DelaySender and the Clock can be cached and provided on each handle() call. It also makes the interface simpler to use.\r\n\r\nAlso a minor improvement to provide the future_spawner() from the TestLoopBuilder as well.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8638/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8637", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8637/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8637/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8637/events", "html_url": "https://github.com/near/nearcore/pull/8637", "id": 1597583778, "node_id": "PR_kwDOCQUkYs5KpQoq", "number": 8637, "title": "[TestLoop] (6/n) Move near_network::time::Clock into primitives, and rename old one to StaticClock.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-23T21:57:58Z", "updated_at": "2023-02-28T19:32:52Z", "closed_at": "2023-02-24T09:59:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8637", "html_url": "https://github.com/near/nearcore/pull/8637", "diff_url": "https://github.com/near/nearcore/pull/8637.diff", "patch_url": "https://github.com/near/nearcore/pull/8637.patch", "merged_at": "2023-02-24T09:59:46Z"}, "body": "This moves `near_network::time::Clock` into `near_primitives::time::Clock`, and moves the old `near_primitives::time::Clock` into `near_primitives::static_clock::StaticClock`, with a clear (additional) deprecation warning on top.\r\n\r\nAlso removes the old nested \"time\" module inside the old clock module (since it's not used at all) plus any `pub use` items in the static_clock module, replacing their use sites with `chrono::Utc`, `std::time::Duration`, and `std::time::Instant`.\r\n\r\nThis clears the way to referencing the good Clock implementation from the test loop code.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8637/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8636", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8636/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8636/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8636/events", "html_url": "https://github.com/near/nearcore/pull/8636", "id": 1597340309, "node_id": "PR_kwDOCQUkYs5Koc6p", "number": 8636, "title": "feat: Export `near-primtives` from `near-indexer-primtives`", "user": {"login": "morgsmccauley", "id": 11974624, "node_id": "MDQ6VXNlcjExOTc0NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/11974624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morgsmccauley", "html_url": "https://github.com/morgsmccauley", "followers_url": "https://api.github.com/users/morgsmccauley/followers", "following_url": "https://api.github.com/users/morgsmccauley/following{/other_user}", "gists_url": "https://api.github.com/users/morgsmccauley/gists{/gist_id}", "starred_url": "https://api.github.com/users/morgsmccauley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morgsmccauley/subscriptions", "organizations_url": "https://api.github.com/users/morgsmccauley/orgs", "repos_url": "https://api.github.com/users/morgsmccauley/repos", "events_url": "https://api.github.com/users/morgsmccauley/events{/privacy}", "received_events_url": "https://api.github.com/users/morgsmccauley/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-23T18:29:27Z", "updated_at": "2023-02-24T17:47:58Z", "closed_at": "2023-02-24T17:26:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8636", "html_url": "https://github.com/near/nearcore/pull/8636", "diff_url": "https://github.com/near/nearcore/pull/8636.diff", "patch_url": "https://github.com/near/nearcore/pull/8636.patch", "merged_at": "2023-02-24T17:26:15Z"}, "body": "This PR re-exports the whole `near-primitives` from `near-indexer-primitives` as well as the existing `views` and `types`.\n\n\nThe main motivation behind this is to gain access to the `DelegateAction` types, which are not available through either `views`/`types`.\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8636/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8634", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8634/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8634/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8634/events", "html_url": "https://github.com/near/nearcore/pull/8634", "id": 1597061955, "node_id": "PR_kwDOCQUkYs5Kng7Z", "number": 8634, "title": "feat: meta-tx in betanet loadtest", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-23T15:24:45Z", "updated_at": "2023-03-02T14:51:41Z", "closed_at": "2023-03-02T14:51:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8634", "html_url": "https://github.com/near/nearcore/pull/8634", "diff_url": "https://github.com/near/nearcore/pull/8634.diff", "patch_url": "https://github.com/near/nearcore/pull/8634.patch", "merged_at": "2023-03-02T14:51:41Z"}, "body": "Adds one more transaction kind to the betanet loadtest", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8634/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8630", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8630/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8630/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8630/events", "html_url": "https://github.com/near/nearcore/pull/8630", "id": 1595928160, "node_id": "PR_kwDOCQUkYs5KjqqN", "number": 8630, "title": "[TestLoop] (5/n) Add futures support to TestLoop.", "user": {"login": "robin-near", "id": 111538878, "node_id": "U_kgDOBqXyvg", "avatar_url": "https://avatars.githubusercontent.com/u/111538878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robin-near", "html_url": "https://github.com/robin-near", "followers_url": "https://api.github.com/users/robin-near/followers", "following_url": "https://api.github.com/users/robin-near/following{/other_user}", "gists_url": "https://api.github.com/users/robin-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/robin-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robin-near/subscriptions", "organizations_url": "https://api.github.com/users/robin-near/orgs", "repos_url": "https://api.github.com/users/robin-near/repos", "events_url": "https://api.github.com/users/robin-near/events{/privacy}", "received_events_url": "https://api.github.com/users/robin-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T22:20:58Z", "updated_at": "2023-02-24T19:52:02Z", "closed_at": "2023-02-23T22:27:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8630", "html_url": "https://github.com/near/nearcore/pull/8630", "diff_url": "https://github.com/near/nearcore/pull/8630.diff", "patch_url": "https://github.com/near/nearcore/pull/8630.patch", "merged_at": "2023-02-23T22:27:20Z"}, "body": "See the comment on top of test_loop/futures.rs for what this does.\r\n\r\nWe need this because we have code like https://github.com/near/nearcore/blob/1.32.0/chain/client/src/sync/state.rs#L607 that spawns a future from an Actix handler, in order to send a message to another Actor and awaiting on the response.\r\n\r\nSo for testing, this code would be refactored so that instead of `near_performance_metrics::actix::spawn`, we would use `future_spawner.spawn`, where the `future_spawner: &dyn FutureSpawner` is passed in. It's passed in either as `ActixFutureSpawner` (from the ClientActor), or as a `DelaySender<Arc<TestLoopTask>>` from a test loop handler.\r\n\r\nInside, when it says `.send_async(...).then(...)`, the TestLoop will provide that send_async implementation with a `DelaySender<MessageExpectingResponse<PeerManagerMessageRequest, PeerManagerMessageResponse>>`.\r\n\r\nBoth of these will go into the test loop, where the `DriveFutures` handler will drive the future that was spawned, and the handler for `MessageExpectingResponse<PeerManagerMessageRequest, PeerManagerMessageResponse>` will execute the network adapter part of the logic. In other words, with this PR we can now, in theory, directly support the testing of all actix-based code in nearcore, as long as they use Sender and AsyncSender (whose migration was already partially done).", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8629", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8629/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8629/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8629/events", "html_url": "https://github.com/near/nearcore/pull/8629", "id": 1595915577, "node_id": "PR_kwDOCQUkYs5Kjn0-", "number": 8629, "title": "fix(mocknet): use a different key for each validator", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T22:13:02Z", "updated_at": "2023-02-24T14:52:31Z", "closed_at": "2023-02-24T14:52:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8629", "html_url": "https://github.com/near/nearcore/pull/8629", "diff_url": "https://github.com/near/nearcore/pull/8629.diff", "patch_url": "https://github.com/near/nearcore/pull/8629.patch", "merged_at": "2023-02-24T14:52:31Z"}, "body": "the mocknet test used to initialize each validator with the same key, and now after https://github.com/near/nearcore/pull/8106, this will cause the test to fail, as nodes will no longer connect to multiple validators with the same key. Fix it by calling neard init on each machine to create a new key for each.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8629/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8628", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8628/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8628/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8628/events", "html_url": "https://github.com/near/nearcore/pull/8628", "id": 1595517303, "node_id": "PR_kwDOCQUkYs5KiRn5", "number": 8628, "title": "feat: Dump and apply state changes for a range of blocks.", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-22T17:33:23Z", "updated_at": "2023-03-09T16:30:14Z", "closed_at": "2023-03-09T16:30:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8628", "html_url": "https://github.com/near/nearcore/pull/8628", "diff_url": "https://github.com/near/nearcore/pull/8628.diff", "patch_url": "https://github.com/near/nearcore/pull/8628.patch", "merged_at": "2023-03-09T16:30:12Z"}, "body": "This simulates shard shadowing.\r\nIn order to fully correctly replay state changes and get matching state roots, all kinds of state changes need to be applied, including the ones which currently are filtered out. To achieve this I add a compilation feature.\r\nFurthermore, `DelayedReceipt{,Indices}` state changes have no information about the shard they are coming from, which leads to two issues:\r\n1) If two shards have a `DelayedReceipt` change, they will override one another, and the StateChanges column will contain only one of them.\r\n2) We don't know to which shard to apply these state changes.\r\n\r\nThe solution is to encode `ShardUId` in the row key of the `StateChanges` column for these two kids of state changes.\r\nThe other kinds of state changes are matched to shards by their `account_id`s or `receiver_id`s. Combination of these two solutions lets us have a backwards-compatible solution.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8628/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8628/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8627", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8627/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8627/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8627/events", "html_url": "https://github.com/near/nearcore/pull/8627", "id": 1595452778, "node_id": "PR_kwDOCQUkYs5KiD8V", "number": 8627, "title": "docs: create engaging and effective communication", "user": {"login": "walnut-the-cat", "id": 122475853, "node_id": "U_kgDOB0zVTQ", "avatar_url": "https://avatars.githubusercontent.com/u/122475853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walnut-the-cat", "html_url": "https://github.com/walnut-the-cat", "followers_url": "https://api.github.com/users/walnut-the-cat/followers", "following_url": "https://api.github.com/users/walnut-the-cat/following{/other_user}", "gists_url": "https://api.github.com/users/walnut-the-cat/gists{/gist_id}", "starred_url": "https://api.github.com/users/walnut-the-cat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walnut-the-cat/subscriptions", "organizations_url": "https://api.github.com/users/walnut-the-cat/orgs", "repos_url": "https://api.github.com/users/walnut-the-cat/repos", "events_url": "https://api.github.com/users/walnut-the-cat/events{/privacy}", "received_events_url": "https://api.github.com/users/walnut-the-cat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "walnut-the-cat", "id": 122475853, "node_id": "U_kgDOB0zVTQ", "avatar_url": "https://avatars.githubusercontent.com/u/122475853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walnut-the-cat", "html_url": "https://github.com/walnut-the-cat", "followers_url": "https://api.github.com/users/walnut-the-cat/followers", "following_url": "https://api.github.com/users/walnut-the-cat/following{/other_user}", "gists_url": "https://api.github.com/users/walnut-the-cat/gists{/gist_id}", "starred_url": "https://api.github.com/users/walnut-the-cat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walnut-the-cat/subscriptions", "organizations_url": "https://api.github.com/users/walnut-the-cat/orgs", "repos_url": "https://api.github.com/users/walnut-the-cat/repos", "events_url": "https://api.github.com/users/walnut-the-cat/events{/privacy}", "received_events_url": "https://api.github.com/users/walnut-the-cat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "walnut-the-cat", "id": 122475853, "node_id": "U_kgDOB0zVTQ", "avatar_url": "https://avatars.githubusercontent.com/u/122475853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walnut-the-cat", "html_url": "https://github.com/walnut-the-cat", "followers_url": "https://api.github.com/users/walnut-the-cat/followers", "following_url": "https://api.github.com/users/walnut-the-cat/following{/other_user}", "gists_url": "https://api.github.com/users/walnut-the-cat/gists{/gist_id}", "starred_url": "https://api.github.com/users/walnut-the-cat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walnut-the-cat/subscriptions", "organizations_url": "https://api.github.com/users/walnut-the-cat/orgs", "repos_url": "https://api.github.com/users/walnut-the-cat/repos", "events_url": "https://api.github.com/users/walnut-the-cat/events{/privacy}", "received_events_url": "https://api.github.com/users/walnut-the-cat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-22T16:50:02Z", "updated_at": "2023-02-22T19:23:46Z", "closed_at": "2023-02-22T19:23:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8627", "html_url": "https://github.com/near/nearcore/pull/8627", "diff_url": "https://github.com/near/nearcore/pull/8627.diff", "patch_url": "https://github.com/near/nearcore/pull/8627.patch", "merged_at": "2023-02-22T19:23:45Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8627/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8626", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8626/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8626/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8626/events", "html_url": "https://github.com/near/nearcore/pull/8626", "id": 1595416474, "node_id": "PR_kwDOCQUkYs5Kh8Fx", "number": 8626, "title": "feat(state-viewer): exit w nonzero code on bad apply result", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T16:29:01Z", "updated_at": "2023-02-22T17:25:33Z", "closed_at": "2023-02-22T17:25:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8626", "html_url": "https://github.com/near/nearcore/pull/8626", "diff_url": "https://github.com/near/nearcore/pull/8626.diff", "patch_url": "https://github.com/near/nearcore/pull/8626.patch", "merged_at": "2023-02-22T17:25:33Z"}, "body": "right now the apply command only prints out the old and new chunk extra that results. We'd like to automatically detect when the results don't match, so change it to compare the two chunk extras and return with an error when they don't match.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8626/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8625", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8625/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8625/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8625/events", "html_url": "https://github.com/near/nearcore/pull/8625", "id": 1595344651, "node_id": "PR_kwDOCQUkYs5KhsxC", "number": 8625, "title": "Fuzz 1.32.0", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T15:46:42Z", "updated_at": "2023-02-22T17:07:40Z", "closed_at": "2023-02-22T17:07:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8625", "html_url": "https://github.com/near/nearcore/pull/8625", "diff_url": "https://github.com/near/nearcore/pull/8625.diff", "patch_url": "https://github.com/near/nearcore/pull/8625.patch", "merged_at": "2023-02-22T17:07:39Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8625/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8623", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8623/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8623/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8623/events", "html_url": "https://github.com/near/nearcore/pull/8623", "id": 1595288664, "node_id": "PR_kwDOCQUkYs5KhgzI", "number": 8623, "title": "Dump state part tool to support part ranges", "user": {"login": "mm-near", "id": 91919554, "node_id": "U_kgDOBXqUwg", "avatar_url": "https://avatars.githubusercontent.com/u/91919554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mm-near", "html_url": "https://github.com/mm-near", "followers_url": "https://api.github.com/users/mm-near/followers", "following_url": "https://api.github.com/users/mm-near/following{/other_user}", "gists_url": "https://api.github.com/users/mm-near/gists{/gist_id}", "starred_url": "https://api.github.com/users/mm-near/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mm-near/subscriptions", "organizations_url": "https://api.github.com/users/mm-near/orgs", "repos_url": "https://api.github.com/users/mm-near/repos", "events_url": "https://api.github.com/users/mm-near/events{/privacy}", "received_events_url": "https://api.github.com/users/mm-near/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T15:13:14Z", "updated_at": "2023-02-22T16:25:06Z", "closed_at": "2023-02-22T16:25:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8623", "html_url": "https://github.com/near/nearcore/pull/8623", "diff_url": "https://github.com/near/nearcore/pull/8623.diff", "patch_url": "https://github.com/near/nearcore/pull/8623.patch", "merged_at": "2023-02-22T16:25:05Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8620", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8620/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8620/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8620/events", "html_url": "https://github.com/near/nearcore/pull/8620", "id": 1594822784, "node_id": "PR_kwDOCQUkYs5Kf9Jp", "number": 8620, "title": "feat: neard init can initialize only node and validator keys if both Config and Genesis exist", "user": {"login": "nikurt", "id": 86772482, "node_id": "MDQ6VXNlcjg2NzcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/86772482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikurt", "html_url": "https://github.com/nikurt", "followers_url": "https://api.github.com/users/nikurt/followers", "following_url": "https://api.github.com/users/nikurt/following{/other_user}", "gists_url": "https://api.github.com/users/nikurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikurt/subscriptions", "organizations_url": "https://api.github.com/users/nikurt/orgs", "repos_url": "https://api.github.com/users/nikurt/repos", "events_url": "https://api.github.com/users/nikurt/events{/privacy}", "received_events_url": "https://api.github.com/users/nikurt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T10:11:16Z", "updated_at": "2023-02-22T14:49:25Z", "closed_at": "2023-02-22T14:49:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8620", "html_url": "https://github.com/near/nearcore/pull/8620", "diff_url": "https://github.com/near/nearcore/pull/8620.diff", "patch_url": "https://github.com/near/nearcore/pull/8620.patch", "merged_at": "2023-02-22T14:49:25Z"}, "body": "cc: @anshal-savla @wacban \r\n```\r\n% ./target/debug/neard --home /tmp/h init\r\n2023-02-22T10:01:50.785498Z  INFO neard: version=\"trunk\" build=\"1.1.0-3443-g179b3eee4-modified\" latest_protocol=59\r\n2023-02-22T10:01:50.786814Z  INFO config: Validating Config, extracted from config.json...\r\n2023-02-22T10:02:05.791962Z  INFO near: Using key ed25519:7ZdLJmUGUBXGmwYuDXNaRsnZphvGLKQadseHKpohchx8 for test.near\r\n2023-02-22T10:02:05.792411Z  INFO near: Using key ed25519:AEHuWUqhFQVi4Sef8GrDSjos55JHhbBjBFocyNzgLp1t for node\r\n\r\n% ./target/debug/neard --home /tmp/h init\r\n2023-02-22T10:02:19.591430Z  INFO neard: version=\"trunk\" build=\"1.1.0-3443-g179b3eee4-modified\" latest_protocol=59\r\n2023-02-22T10:02:19.592395Z  INFO config: Validating Config, extracted from config.json...\r\n2023-02-22T10:02:34.521485Z  INFO near: Reusing key ed25519:7ZdLJmUGUBXGmwYuDXNaRsnZphvGLKQadseHKpohchx8 for test.near\r\n2023-02-22T10:02:34.521628Z  INFO near: Reusing key ed25519:AEHuWUqhFQVi4Sef8GrDSjos55JHhbBjBFocyNzgLp1t for node\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8620/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8619", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8619/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8619/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8619/events", "html_url": "https://github.com/near/nearcore/pull/8619", "id": 1594351670, "node_id": "PR_kwDOCQUkYs5KeYra", "number": 8619, "title": "PeersResponse: always include connected peers", "user": {"login": "saketh-are", "id": 3241341, "node_id": "MDQ6VXNlcjMyNDEzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3241341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saketh-are", "html_url": "https://github.com/saketh-are", "followers_url": "https://api.github.com/users/saketh-are/followers", "following_url": "https://api.github.com/users/saketh-are/following{/other_user}", "gists_url": "https://api.github.com/users/saketh-are/gists{/gist_id}", "starred_url": "https://api.github.com/users/saketh-are/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saketh-are/subscriptions", "organizations_url": "https://api.github.com/users/saketh-are/orgs", "repos_url": "https://api.github.com/users/saketh-are/repos", "events_url": "https://api.github.com/users/saketh-are/events{/privacy}", "received_events_url": "https://api.github.com/users/saketh-are/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T02:23:36Z", "updated_at": "2023-02-24T15:53:51Z", "closed_at": "2023-02-24T15:53:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8619", "html_url": "https://github.com/near/nearcore/pull/8619", "diff_url": "https://github.com/near/nearcore/pull/8619.diff", "patch_url": "https://github.com/near/nearcore/pull/8619.patch", "merged_at": "2023-02-24T15:53:50Z"}, "body": "PeersRequest/PeersResponse are used to share information about peers in the network to which a node may connect.\r\n\r\nCurrently, PeersResponse contains a randomly selected subset of the responding node's PeerStore. However, the PeerStore includes unverified data reported by other nodes, potentially including fake information from malicious nodes.\r\n\r\nThis PR changes PeerResponse to always include the peers directly connected to the responding node. It ensures that some useful information is passed even when the responding node is under attack and flooded with fake peers.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8619/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8617", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8617/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8617/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8617/events", "html_url": "https://github.com/near/nearcore/pull/8617", "id": 1594251632, "node_id": "PR_kwDOCQUkYs5KeDpK", "number": 8617, "title": "Remove persistence of PeerStore to DB", "user": {"login": "saketh-are", "id": 3241341, "node_id": "MDQ6VXNlcjMyNDEzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3241341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saketh-are", "html_url": "https://github.com/saketh-are", "followers_url": "https://api.github.com/users/saketh-are/followers", "following_url": "https://api.github.com/users/saketh-are/following{/other_user}", "gists_url": "https://api.github.com/users/saketh-are/gists{/gist_id}", "starred_url": "https://api.github.com/users/saketh-are/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saketh-are/subscriptions", "organizations_url": "https://api.github.com/users/saketh-are/orgs", "repos_url": "https://api.github.com/users/saketh-are/repos", "events_url": "https://api.github.com/users/saketh-are/events{/privacy}", "received_events_url": "https://api.github.com/users/saketh-are/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T00:04:54Z", "updated_at": "2023-02-23T16:42:59Z", "closed_at": "2023-02-23T16:42:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8617", "html_url": "https://github.com/near/nearcore/pull/8617", "diff_url": "https://github.com/near/nearcore/pull/8617.diff", "patch_url": "https://github.com/near/nearcore/pull/8617.patch", "merged_at": "2023-02-23T16:42:58Z"}, "body": "After the changes in https://github.com/near/nearcore/issues/8579:\r\n- Connected nodes are persisted to DB via the ConnectionStore\r\n- Connections to those nodes are re-established upon restarting the node\r\n\r\nPreviously, we persisted the PeerStore to disk to support faster network bootstrapping after restarting a node. Now that the ConnectionStore serves that purpose, it is no longer necessary to persist the PeerStore. Unlike ConnectionStore, PeerStore contains unverified information and may contain spam shared by malicious nodes. This PR both removes unnecessary load on the DB and limits persistence of malicious data.\r\n\r\nThis PR\r\n- Removes all interaction between the PeerStore and the DB\r\n- Updates APIs of the PeerStore accordingly as it no longer produces DB read/write errors\r\n- Updates PeerStore tests accordingly", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8617/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8615", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8615/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8615/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8615/events", "html_url": "https://github.com/near/nearcore/pull/8615", "id": 1593648297, "node_id": "PR_kwDOCQUkYs5KcESC", "number": 8615, "title": "fix: enable io trace in state viewer", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-21T15:09:09Z", "updated_at": "2023-02-22T10:29:11Z", "closed_at": "2023-02-22T10:28:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8615", "html_url": "https://github.com/near/nearcore/pull/8615", "diff_url": "https://github.com/near/nearcore/pull/8615.diff", "patch_url": "https://github.com/near/nearcore/pull/8615.patch", "merged_at": "2023-02-22T10:28:30Z"}, "body": "I think IO traces were not working in the state viewer since #7711\r\nchanged how initialization works.\r\n\r\nUsing state viewer to generate these traces is one of the main use\r\ncases of the IO traces, so we want this to work.\r\n\r\nThis PR adds initialization to the default logger, which is used in\r\nthe state viewer.", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8615/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8613", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8613/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8613/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8613/events", "html_url": "https://github.com/near/nearcore/pull/8613", "id": 1593437940, "node_id": "PR_kwDOCQUkYs5KbXJH", "number": 8613, "title": "feat: Adding SplitDB and refactoring ColdDB", "user": {"login": "wacban", "id": 1555986, "node_id": "MDQ6VXNlcjE1NTU5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1555986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wacban", "html_url": "https://github.com/wacban", "followers_url": "https://api.github.com/users/wacban/followers", "following_url": "https://api.github.com/users/wacban/following{/other_user}", "gists_url": "https://api.github.com/users/wacban/gists{/gist_id}", "starred_url": "https://api.github.com/users/wacban/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wacban/subscriptions", "organizations_url": "https://api.github.com/users/wacban/orgs", "repos_url": "https://api.github.com/users/wacban/repos", "events_url": "https://api.github.com/users/wacban/events{/privacy}", "received_events_url": "https://api.github.com/users/wacban/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-21T12:59:00Z", "updated_at": "2023-02-22T14:23:01Z", "closed_at": "2023-02-22T14:23:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8613", "html_url": "https://github.com/near/nearcore/pull/8613", "diff_url": "https://github.com/near/nearcore/pull/8613.diff", "patch_url": "https://github.com/near/nearcore/pull/8613.patch", "merged_at": "2023-02-22T14:23:00Z"}, "body": "Note for reviewers: commits are mostly self-contained so this PR can be reviewed commit by commit if that's easier. \r\n\r\n- Removed the generic D from ColdDB and NodeStorage. Instead just use the existing Database trait. It's equally generic and we can still use some non-RocksDB implementation down the line but it's much cleaner and in line with rest of the codebase. \r\n- Removed the hot database from ColdDB. The ColdDB should now only be used for accessing the cold storage and be responsible for the different format of data in the cold storage.\r\n- Added SplitDB that implements the read hot first, read cold second approach to reading from the databases. \r\n\r\nThis is in preparation for having the ViewClient use the SplitDB as means for reading from cold storage. \r\n\r\nThe ultimate goal is to have something like the following\r\n```\r\nNodeStorage {\r\n  hot: Arc<Database>;    // typically RocksDB\r\n  cold: Arc<Database>;   // typically ColdDB with RocksDB inside of it\r\n  split: Arc<Database>;  // typically SplitDB with both hot and cold inside of it. This may be a field or there may just be a getter for it that constructs it on the fly. The important bit is that it's possible to get the split storage from the NodeStorage. \r\n}\r\n\r\n// Responsible for adjusting the format to cold - get rid of rc and a few other.\r\n// Has limited functionality and can only handle DbVersion, BlockMisc and the cold columns.\r\n// Can be used e.g. when populating the cold storage in the cold store loop.\r\nstruct ColdDB {\r\n  db: Arc<Database> \r\n}\r\nimpl Database for ColdDB {\r\n...\r\n}\r\n\r\n// Responsible for implementing the \"try hot first, try cold later\" approach.\r\n// Has full functionality and can handle all columns.\r\n// Can be used as the storage backing Store e.g. in view client.\r\nstruct SplitDB {\r\n  hot: Arc<Database>;\r\n  cold: Arc<Database>;\r\n}\r\n\r\nimpl Database for SplitDB {\r\n...\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8613/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8612", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8612/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8612/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8612/events", "html_url": "https://github.com/near/nearcore/pull/8612", "id": 1593422828, "node_id": "PR_kwDOCQUkYs5KbT4_", "number": 8612, "title": "jsonrpc: optimise parsing of legacy params format", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-21T12:49:03Z", "updated_at": "2023-02-21T16:18:05Z", "closed_at": "2023-02-21T15:24:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8612", "html_url": "https://github.com/near/nearcore/pull/8612", "diff_url": "https://github.com/near/nearcore/pull/8612.diff", "patch_url": "https://github.com/near/nearcore/pull/8612.patch", "merged_at": "2023-02-21T15:24:54Z"}, "body": "Some JSON RPC requests support a legacy parameters format where\r\ninstead of a structured object the `params` field is an array.\r\nCurrently this is handled by first trying to parse parameters value\r\ninto a tuple and only if that fails it\u2019s then parsed as a request\r\ntype.  Unfortunately, this introduces a clone of the value.\r\n\r\nWith this commit, parameters parsing now checks whether value is an\r\narray of appropriate length.  Depending if it is or not, the value\r\nwill be parsed accordingly.  It\u2019s parsed only once and thus no clone\r\nis necessary.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8611", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8611/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8611/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8611/events", "html_url": "https://github.com/near/nearcore/pull/8611", "id": 1593317894, "node_id": "PR_kwDOCQUkYs5Ka9Y5", "number": 8611, "title": "feature: Add shard_id to SECONDS_PER_PETAGAS metric", "user": {"login": "aborg-dev", "id": 1192958, "node_id": "MDQ6VXNlcjExOTI5NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1192958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborg-dev", "html_url": "https://github.com/aborg-dev", "followers_url": "https://api.github.com/users/aborg-dev/followers", "following_url": "https://api.github.com/users/aborg-dev/following{/other_user}", "gists_url": "https://api.github.com/users/aborg-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborg-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborg-dev/subscriptions", "organizations_url": "https://api.github.com/users/aborg-dev/orgs", "repos_url": "https://api.github.com/users/aborg-dev/repos", "events_url": "https://api.github.com/users/aborg-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/aborg-dev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-21T11:34:17Z", "updated_at": "2023-02-22T11:21:13Z", "closed_at": "2023-02-22T11:21:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8611", "html_url": "https://github.com/near/nearcore/pull/8611", "diff_url": "https://github.com/near/nearcore/pull/8611.diff", "patch_url": "https://github.com/near/nearcore/pull/8611.patch", "merged_at": "2023-02-22T11:21:12Z"}, "body": "Adding `shard_id` to allow understanding on which shard the undercharging is happening.\r\n\r\nGiven that this is changing the existing metric, is there any migration process that I need to follow?", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8609", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8609/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8609/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8609/events", "html_url": "https://github.com/near/nearcore/pull/8609", "id": 1593281819, "node_id": "PR_kwDOCQUkYs5Ka1yh", "number": 8609, "title": "cleaned up some deadcode", "user": {"login": "pompon0", "id": 1547635, "node_id": "MDQ6VXNlcjE1NDc2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1547635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pompon0", "html_url": "https://github.com/pompon0", "followers_url": "https://api.github.com/users/pompon0/followers", "following_url": "https://api.github.com/users/pompon0/following{/other_user}", "gists_url": "https://api.github.com/users/pompon0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pompon0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pompon0/subscriptions", "organizations_url": "https://api.github.com/users/pompon0/orgs", "repos_url": "https://api.github.com/users/pompon0/repos", "events_url": "https://api.github.com/users/pompon0/events{/privacy}", "received_events_url": "https://api.github.com/users/pompon0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-21T11:08:23Z", "updated_at": "2023-03-02T10:08:23Z", "closed_at": "2023-03-02T10:08:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8609", "html_url": "https://github.com/near/nearcore/pull/8609", "diff_url": "https://github.com/near/nearcore/pull/8609.diff", "patch_url": "https://github.com/near/nearcore/pull/8609.patch", "merged_at": "2023-03-02T10:08:21Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8609/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8608", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8608/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8608/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8608/events", "html_url": "https://github.com/near/nearcore/pull/8608", "id": 1593221528, "node_id": "PR_kwDOCQUkYs5KapKU", "number": 8608, "title": "Update borsh dependency; again", "user": {"login": "mina86", "id": 32383, "node_id": "MDQ6VXNlcjMyMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/32383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mina86", "html_url": "https://github.com/mina86", "followers_url": "https://api.github.com/users/mina86/followers", "following_url": "https://api.github.com/users/mina86/following{/other_user}", "gists_url": "https://api.github.com/users/mina86/gists{/gist_id}", "starred_url": "https://api.github.com/users/mina86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mina86/subscriptions", "organizations_url": "https://api.github.com/users/mina86/orgs", "repos_url": "https://api.github.com/users/mina86/repos", "events_url": "https://api.github.com/users/mina86/events{/privacy}", "received_events_url": "https://api.github.com/users/mina86/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-21T10:28:14Z", "updated_at": "2023-02-21T17:27:54Z", "closed_at": "2023-02-21T16:23:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8608", "html_url": "https://github.com/near/nearcore/pull/8608", "diff_url": "https://github.com/near/nearcore/pull/8608.diff", "patch_url": "https://github.com/near/nearcore/pull/8608.patch", "merged_at": "2023-02-21T16:23:33Z"}, "body": "This is re-application of commit b8196b1aa with the same subject alas\r\nthis time borsh is updated to 0.10.2.  Previous attempt to update the\r\ndependency was reverted becauses of potential DOS which was addressed\r\nin borsh 0.10.2 (see <https://github.com/near/borsh-rs/pull/129>).\r\n\r\nLike before, the update is mostly a matter of replacing deserialize\r\nfunction in BorshDeserialize implementations by deserialize_reader.\r\nIn a few of existing custom implementations for (de)serialization\r\ncould be removed altogether.\r\n", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8608/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8607", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8607/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8607/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8607/events", "html_url": "https://github.com/near/nearcore/pull/8607", "id": 1592317202, "node_id": "PR_kwDOCQUkYs5KXoDG", "number": 8607, "title": "Cold store migration in neard run", "user": {"login": "posvyatokum", "id": 10712048, "node_id": "MDQ6VXNlcjEwNzEyMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10712048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posvyatokum", "html_url": "https://github.com/posvyatokum", "followers_url": "https://api.github.com/users/posvyatokum/followers", "following_url": "https://api.github.com/users/posvyatokum/following{/other_user}", "gists_url": "https://api.github.com/users/posvyatokum/gists{/gist_id}", "starred_url": "https://api.github.com/users/posvyatokum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posvyatokum/subscriptions", "organizations_url": "https://api.github.com/users/posvyatokum/orgs", "repos_url": "https://api.github.com/users/posvyatokum/repos", "events_url": "https://api.github.com/users/posvyatokum/events{/privacy}", "received_events_url": "https://api.github.com/users/posvyatokum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4770828857, "node_id": "LA_kwDOCQUkYs8AAAABHF0SOQ", "url": "https://api.github.com/repos/near/nearcore/labels/A-cold-storage", "name": "A-cold-storage", "color": "1863F5", "default": false, "description": "Area: Cold storage"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-20T18:54:16Z", "updated_at": "2023-02-23T10:09:17Z", "closed_at": "2023-02-23T10:09:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8607", "html_url": "https://github.com/near/nearcore/pull/8607", "diff_url": "https://github.com/near/nearcore/pull/8607.diff", "patch_url": "https://github.com/near/nearcore/pull/8607.patch", "merged_at": "2023-02-23T10:09:15Z"}, "body": "Adding call for initial migration to the cold store thread spawned in neard run. \r\nMigration will be triggered if hot_store kind is Archive and cold_store doesn't have HEAD_KEY set. \r\nMigration can be interrupted via the same keep_going flag that is used for continuous copying loop. ", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8606", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8606/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8606/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8606/events", "html_url": "https://github.com/near/nearcore/pull/8606", "id": 1592264884, "node_id": "PR_kwDOCQUkYs5KXdBz", "number": 8606, "title": "fix: JSON RPC Primitives with default features", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1136018846, "node_id": "MDU6TGFiZWwxMTM2MDE4ODQ2", "url": "https://api.github.com/repos/near/nearcore/labels/C-housekeeping", "name": "C-housekeeping", "color": "9745C6", "default": false, "description": "Category: Refactoring, cleanups, code quality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-20T17:59:32Z", "updated_at": "2023-02-21T14:14:58Z", "closed_at": "2023-02-21T11:34:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8606", "html_url": "https://github.com/near/nearcore/pull/8606", "diff_url": "https://github.com/near/nearcore/pull/8606.diff", "patch_url": "https://github.com/near/nearcore/pull/8606.patch", "merged_at": "2023-02-21T11:34:57Z"}, "body": "Building this was just broken, I don't know for how long.\r\nIt was now caught when publishing crates, because you can't publish\r\nwith compilation errors.\r\n\r\n\r\nerror:\r\n```\r\nerror[E0433]: failed to resolve: use of undeclared crate or module `near_client_primitives`\r\n --> chain/jsonrpc-primitives/src/types/status.rs:1:5\r\n  |\r\n1 | use near_client_primitives::debug::{\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^ use of undeclared crate or module `near_client_primitives`\r\n```", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8606/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8606/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8605", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8605/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8605/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8605/events", "html_url": "https://github.com/near/nearcore/pull/8605", "id": 1592187444, "node_id": "PR_kwDOCQUkYs5KXMtS", "number": 8605, "title": "fix: crates.io compatible stdx dependency", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-20T16:50:41Z", "updated_at": "2023-04-06T14:00:17Z", "closed_at": "2023-02-20T17:37:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8605", "html_url": "https://github.com/near/nearcore/pull/8605", "diff_url": "https://github.com/near/nearcore/pull/8605.diff", "patch_url": "https://github.com/near/nearcore/pull/8605.patch", "merged_at": "2023-02-20T17:37:14Z"}, "body": "See https://github.com/near/nearcore/issues/8604", "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8605/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/near/nearcore/issues/8603", "repository_url": "https://api.github.com/repos/near/nearcore", "labels_url": "https://api.github.com/repos/near/nearcore/issues/8603/labels{/name}", "comments_url": "https://api.github.com/repos/near/nearcore/issues/8603/comments", "events_url": "https://api.github.com/repos/near/nearcore/issues/8603/events", "html_url": "https://github.com/near/nearcore/pull/8603", "id": 1592136943, "node_id": "PR_kwDOCQUkYs5KXBxt", "number": 8603, "title": "docs: protocol changelog for meta transactions", "user": {"login": "jakmeier", "id": 6342444, "node_id": "MDQ6VXNlcjYzNDI0NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6342444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakmeier", "html_url": "https://github.com/jakmeier", "followers_url": "https://api.github.com/users/jakmeier/followers", "following_url": "https://api.github.com/users/jakmeier/following{/other_user}", "gists_url": "https://api.github.com/users/jakmeier/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakmeier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakmeier/subscriptions", "organizations_url": "https://api.github.com/users/jakmeier/orgs", "repos_url": "https://api.github.com/users/jakmeier/repos", "events_url": "https://api.github.com/users/jakmeier/events{/privacy}", "received_events_url": "https://api.github.com/users/jakmeier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-20T16:14:33Z", "updated_at": "2023-02-20T17:51:17Z", "closed_at": "2023-02-20T17:51:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/near/nearcore/pulls/8603", "html_url": "https://github.com/near/nearcore/pull/8603", "diff_url": "https://github.com/near/nearcore/pull/8603.diff", "patch_url": "https://github.com/near/nearcore/pull/8603.patch", "merged_at": "2023-02-20T17:51:12Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/near/nearcore/issues/8603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/near/nearcore/issues/8603/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]