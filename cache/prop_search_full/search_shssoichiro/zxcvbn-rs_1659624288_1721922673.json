[{"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/84", "id": 2357284568, "node_id": "PR_kwDOBJHx_c5ysMzV", "number": 84, "title": "feat: add Display to Feedback.", "user": {"login": "ya7010", "id": 47286750, "node_id": "MDQ6VXNlcjQ3Mjg2NzUw", "avatar_url": "https://avatars.githubusercontent.com/u/47286750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ya7010", "html_url": "https://github.com/ya7010", "followers_url": "https://api.github.com/users/ya7010/followers", "following_url": "https://api.github.com/users/ya7010/following{/other_user}", "gists_url": "https://api.github.com/users/ya7010/gists{/gist_id}", "starred_url": "https://api.github.com/users/ya7010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ya7010/subscriptions", "organizations_url": "https://api.github.com/users/ya7010/orgs", "repos_url": "https://api.github.com/users/ya7010/repos", "events_url": "https://api.github.com/users/ya7010/events{/privacy}", "received_events_url": "https://api.github.com/users/ya7010/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-17T12:56:32Z", "updated_at": "2024-06-18T23:43:38Z", "closed_at": "2024-06-18T23:43:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/84", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/84", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/84.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/84.patch", "merged_at": "2024-06-18T23:43:38Z"}, "body": "Add a Display to easily output the cause of the error.\r\n", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/84/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/83", "id": 2331048963, "node_id": "PR_kwDOBJHx_c5xS3Dm", "number": 83, "title": "Add support for WASM targets running in a custom runtime", "user": {"login": "hculea", "id": 45151601, "node_id": "MDQ6VXNlcjQ1MTUxNjAx", "avatar_url": "https://avatars.githubusercontent.com/u/45151601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hculea", "html_url": "https://github.com/hculea", "followers_url": "https://api.github.com/users/hculea/followers", "following_url": "https://api.github.com/users/hculea/following{/other_user}", "gists_url": "https://api.github.com/users/hculea/gists{/gist_id}", "starred_url": "https://api.github.com/users/hculea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hculea/subscriptions", "organizations_url": "https://api.github.com/users/hculea/orgs", "repos_url": "https://api.github.com/users/hculea/repos", "events_url": "https://api.github.com/users/hculea/events{/privacy}", "received_events_url": "https://api.github.com/users/hculea/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2024-06-03T12:38:12Z", "updated_at": "2024-07-11T09:38:42Z", "closed_at": "2024-07-05T14:54:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/83", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/83", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/83.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/83.patch", "merged_at": "2024-07-05T14:54:50Z"}, "body": "## Background\r\n\r\nCurrently, on WASM targets, the `zxcvbn` crate can only be used if the host environment is JavaScript, such that functions such as `js_sys::new_0()::get_time()` would be available through bindings generated by e.g. wasm-bindgen.\r\n\r\n## Rationale\r\n\r\nNot all code compiled to WASM is run in a JavaScript runtime. \r\n\r\nOne example is the [1Password Go SDK](https://github.com/1Password/onepassword-sdk-go), which uses [Extism](https://github.com/extism/go-sdk/blob/main/go.mod) to communicate with a [Wazero](https://github.com/tetratelabs/wazero) runtime, which does not have the JS bindings available.\r\n\r\nFor context, this project leverages a Rust core (where`zxcvbn` is used to determine the password's strength, when creating or updating 1Password items) compiled to WASM. Calls to it are made from the Go host env.\r\n\nIn situations where these system functions are not available, placeholders for it have to be injected into the runtime by the host.\n\r\nIn the Go code, injecting such a function would look similar to: \r\nhttps://github.com/1Password/onepassword-sdk-go/blob/main/internal/imported.go#L31-L38\r\n\r\n## Thought process\r\n\r\nThis PR addresses this issue by allowing the host environment to inject its own implementation for the `now` function. It requires the environment to export a `unix_time_milliseconds_imported`, returning the unix timestamp in milliseconds.\r\n\r\nThis change is fully backwards compatible, and it requires that the consumers of the crate explicitly opt in to provide this custom implementation by activating the `custom_wasm_env` feature. In the absence of this feature, calls to zxcvbn would panic.\r\n\r\n## How to test\r\n\r\nCode review, to begin with, would be greatly appreciated. \r\n\r\nFor functional review, I have put together a test repository where the new behaviour can be validated.\r\n\r\nSee testing notes in the README: https://github.com/hculea/zxcvbn-test\r\n\r\n## Additional information\r\n\r\nIn the scope of this PR, I have also:\r\n* removed the `getrandom` dependency from the wasm32 dependency tree, as it was not being used anywhere\r\n* removed the `#![forbid(unsafe_code)]` linter, as injecting a custom function requires the execution of unsafe code\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/83/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/82", "id": 2316586693, "node_id": "PR_kwDOBJHx_c5wh4pI", "number": 82, "title": "Version 3.0.1", "user": {"login": "shssoichiro", "id": 5951392, "node_id": "MDQ6VXNlcjU5NTEzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5951392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shssoichiro", "html_url": "https://github.com/shssoichiro", "followers_url": "https://api.github.com/users/shssoichiro/followers", "following_url": "https://api.github.com/users/shssoichiro/following{/other_user}", "gists_url": "https://api.github.com/users/shssoichiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/shssoichiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shssoichiro/subscriptions", "organizations_url": "https://api.github.com/users/shssoichiro/orgs", "repos_url": "https://api.github.com/users/shssoichiro/repos", "events_url": "https://api.github.com/users/shssoichiro/events{/privacy}", "received_events_url": "https://api.github.com/users/shssoichiro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-25T02:16:04Z", "updated_at": "2024-05-25T02:24:53Z", "closed_at": "2024-05-25T02:24:50Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/82", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/82", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/82.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/82.patch", "merged_at": "2024-05-25T02:24:49Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/82/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/81", "id": 2314236485, "node_id": "PR_kwDOBJHx_c5wZu-P", "number": 81, "title": "Expose Score enum", "user": {"login": "tmpfs", "id": 238069, "node_id": "MDQ6VXNlcjIzODA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmpfs", "html_url": "https://github.com/tmpfs", "followers_url": "https://api.github.com/users/tmpfs/followers", "following_url": "https://api.github.com/users/tmpfs/following{/other_user}", "gists_url": "https://api.github.com/users/tmpfs/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmpfs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmpfs/subscriptions", "organizations_url": "https://api.github.com/users/tmpfs/orgs", "repos_url": "https://api.github.com/users/tmpfs/repos", "events_url": "https://api.github.com/users/tmpfs/events{/privacy}", "received_events_url": "https://api.github.com/users/tmpfs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-05-24T03:01:24Z", "updated_at": "2024-05-25T02:14:11Z", "closed_at": "2024-05-25T02:14:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/81", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/81", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/81.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/81.patch", "merged_at": "2024-05-25T02:14:11Z"}, "body": "I noticed upgrading from 2.2.2 to 3.0 that the `Score` (which used to be `u8`) is private.\r\n\r\nThis breaks my usage of this library so I just exported `Score` to be public.\r\n\r\nI can't see any reason to keep `Score` private as it's exposed in `Entropy`, I guess this is an oversight with the refactor?", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/81/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/80", "id": 2313227236, "node_id": "PR_kwDOBJHx_c5wWQsg", "number": 80, "title": "Version 3.0.0", "user": {"login": "shssoichiro", "id": 5951392, "node_id": "MDQ6VXNlcjU5NTEzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5951392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shssoichiro", "html_url": "https://github.com/shssoichiro", "followers_url": "https://api.github.com/users/shssoichiro/followers", "following_url": "https://api.github.com/users/shssoichiro/following{/other_user}", "gists_url": "https://api.github.com/users/shssoichiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/shssoichiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shssoichiro/subscriptions", "organizations_url": "https://api.github.com/users/shssoichiro/orgs", "repos_url": "https://api.github.com/users/shssoichiro/repos", "events_url": "https://api.github.com/users/shssoichiro/events{/privacy}", "received_events_url": "https://api.github.com/users/shssoichiro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-23T15:32:40Z", "updated_at": "2024-05-23T16:27:38Z", "closed_at": "2024-05-23T16:27:38Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/80", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/80", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/80.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/80.patch", "merged_at": "2024-05-23T16:27:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/80/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/79", "id": 2291049416, "node_id": "PR_kwDOBJHx_c5vKqwe", "number": 79, "title": "Use enum for score", "user": {"login": "jrandolf", "id": 34705014, "node_id": "MDQ6VXNlcjM0NzA1MDE0", "avatar_url": "https://avatars.githubusercontent.com/u/34705014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrandolf", "html_url": "https://github.com/jrandolf", "followers_url": "https://api.github.com/users/jrandolf/followers", "following_url": "https://api.github.com/users/jrandolf/following{/other_user}", "gists_url": "https://api.github.com/users/jrandolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrandolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrandolf/subscriptions", "organizations_url": "https://api.github.com/users/jrandolf/orgs", "repos_url": "https://api.github.com/users/jrandolf/repos", "events_url": "https://api.github.com/users/jrandolf/events{/privacy}", "received_events_url": "https://api.github.com/users/jrandolf/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-11T20:09:28Z", "updated_at": "2024-05-13T16:45:27Z", "closed_at": "2024-05-13T12:55:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/79", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/79", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/79.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/79.patch", "merged_at": "2024-05-13T12:55:46Z"}, "body": "Fixed: https://github.com/shssoichiro/zxcvbn-rs/pull/77", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/78", "id": 2290738050, "node_id": "PR_kwDOBJHx_c5vJuLg", "number": 78, "title": "Make zxcvbn infallible", "user": {"login": "jrandolf", "id": 34705014, "node_id": "MDQ6VXNlcjM0NzA1MDE0", "avatar_url": "https://avatars.githubusercontent.com/u/34705014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrandolf", "html_url": "https://github.com/jrandolf", "followers_url": "https://api.github.com/users/jrandolf/followers", "following_url": "https://api.github.com/users/jrandolf/following{/other_user}", "gists_url": "https://api.github.com/users/jrandolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrandolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrandolf/subscriptions", "organizations_url": "https://api.github.com/users/jrandolf/orgs", "repos_url": "https://api.github.com/users/jrandolf/repos", "events_url": "https://api.github.com/users/jrandolf/events{/privacy}", "received_events_url": "https://api.github.com/users/jrandolf/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-05-11T07:20:31Z", "updated_at": "2024-05-11T18:46:27Z", "closed_at": "2024-05-11T18:43:59Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/78", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/78", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/78.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/78.patch", "merged_at": "2024-05-11T18:43:59Z"}, "body": "There shouldn't be any reason for zxcvbn to error. An empty password should still be treated as valid input and we can use instant/performance.now to calculate durations accurately without overflow.", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/78/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/73", "id": 1959518860, "node_id": "PR_kwDOBJHx_c5dp59U", "number": 73, "title": "Change feedback to return Option<&Feedback>", "user": {"login": "Grafcube", "id": 34889224, "node_id": "MDQ6VXNlcjM0ODg5MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/34889224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Grafcube", "html_url": "https://github.com/Grafcube", "followers_url": "https://api.github.com/users/Grafcube/followers", "following_url": "https://api.github.com/users/Grafcube/following{/other_user}", "gists_url": "https://api.github.com/users/Grafcube/gists{/gist_id}", "starred_url": "https://api.github.com/users/Grafcube/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Grafcube/subscriptions", "organizations_url": "https://api.github.com/users/Grafcube/orgs", "repos_url": "https://api.github.com/users/Grafcube/repos", "events_url": "https://api.github.com/users/Grafcube/events{/privacy}", "received_events_url": "https://api.github.com/users/Grafcube/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-24T15:24:10Z", "updated_at": "2024-05-23T15:31:46Z", "closed_at": "2024-05-23T15:31:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/73", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/73", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/73.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/73.patch", "merged_at": "2024-05-23T15:31:46Z"}, "body": "This PR changes the `Entropy::feedback()` function to return `Option<&Feedback>` instead of `&Option<Feedback>`. This makes the API significantly easier to use as `Option<&...>` implements `Copy` and it's also more accurate, semantically.\r\n\r\nSay I want to call map on the return value of the function:\r\n\r\n```rust\r\nlet feedback = entropy.feedback().map(|f| f.to_owned());\r\n```\r\n\r\nThis results in an error with `&Option<Feedback>`:\r\n\r\n```\r\nerror[E0507]: cannot move out of a shared reference\r\n    --> ui/src/routes/auth.rs:233:38\r\n     |\r\n233  |                         feedback.set(entropy.feedback().map(|f| f.to_owned()));\r\n     |                                      ^^^^^^^^^^^^^^^^^^ --------------------- value moved due to this method call\r\n     |                                      |\r\n     |                                      help: consider calling `.as_ref()` or `.as_mut()` to borrow the type's contents\r\n     |                                      move occurs because value has type `std::option::Option<Feedback>`, which does not implement the `Copy` trait\r\n     |\r\nnote: `std::option::Option::<T>::map` takes ownership of the receiver `self`, which moves value\r\n```\r\n\r\nUsing `Option<&Feedback>` makes this compile without any errors.", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/73/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71", "repository_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs", "labels_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71/comments", "events_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71/events", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/71", "id": 1631043766, "node_id": "PR_kwDOBJHx_c5MZTg2", "number": 71, "title": "Use checked_mul to avoid overflow in SpatialPattern", "user": {"login": "shssoichiro", "id": 5951392, "node_id": "MDQ6VXNlcjU5NTEzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5951392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shssoichiro", "html_url": "https://github.com/shssoichiro", "followers_url": "https://api.github.com/users/shssoichiro/followers", "following_url": "https://api.github.com/users/shssoichiro/following{/other_user}", "gists_url": "https://api.github.com/users/shssoichiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/shssoichiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shssoichiro/subscriptions", "organizations_url": "https://api.github.com/users/shssoichiro/orgs", "repos_url": "https://api.github.com/users/shssoichiro/repos", "events_url": "https://api.github.com/users/shssoichiro/events{/privacy}", "received_events_url": "https://api.github.com/users/shssoichiro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T17:34:36Z", "updated_at": "2023-03-19T17:42:43Z", "closed_at": "2023-03-19T17:42:27Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/pulls/71", "html_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/71", "diff_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/71.diff", "patch_url": "https://github.com/shssoichiro/zxcvbn-rs/pull/71.patch", "merged_at": "2023-03-19T17:42:27Z"}, "body": "Closes #70", "reactions": {"url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/shssoichiro/zxcvbn-rs/issues/71/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]