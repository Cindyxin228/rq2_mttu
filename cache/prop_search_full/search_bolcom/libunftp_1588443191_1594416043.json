[{"url": "https://api.github.com/repos/bolcom/libunftp/issues/234", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/234/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/234/events", "html_url": "https://github.com/bolcom/libunftp/pull/234", "id": 650640133, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ0MDkzMDY5", "number": 234, "title": "remove unused dependencies", "user": {"login": "Nonius", "id": 949894, "node_id": "MDQ6VXNlcjk0OTg5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/949894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nonius", "html_url": "https://github.com/Nonius", "followers_url": "https://api.github.com/users/Nonius/followers", "following_url": "https://api.github.com/users/Nonius/following{/other_user}", "gists_url": "https://api.github.com/users/Nonius/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nonius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nonius/subscriptions", "organizations_url": "https://api.github.com/users/Nonius/orgs", "repos_url": "https://api.github.com/users/Nonius/repos", "events_url": "https://api.github.com/users/Nonius/events{/privacy}", "received_events_url": "https://api.github.com/users/Nonius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-03T14:45:08Z", "updated_at": "2020-07-06T06:57:43Z", "closed_at": "2020-07-06T06:57:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/234", "html_url": "https://github.com/bolcom/libunftp/pull/234", "diff_url": "https://github.com/bolcom/libunftp/pull/234.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/234.patch", "merged_at": "2020-07-06T06:57:41Z"}, "body": "I removed unused crates and features, to speed up compilation. Also changed to use `async_ftp` in the tests for the same reason.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/233", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/233/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/233/events", "html_url": "https://github.com/bolcom/libunftp/pull/233", "id": 650429828, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQzOTIxOTc4", "number": 233, "title": "Added Server.passive_host option", "user": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-03T08:19:52Z", "updated_at": "2020-07-03T13:53:15Z", "closed_at": "2020-07-03T13:53:14Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/233", "html_url": "https://github.com/bolcom/libunftp/pull/233", "diff_url": "https://github.com/bolcom/libunftp/pull/233.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/233.patch", "merged_at": "2020-07-03T13:53:14Z"}, "body": "This is a more proper implementation of PR #229 and it addresses the first part of issue #221:\r\n\r\n> When we're behind a proxy, it would be nice to advertise the correct IP address back to the client in response to the PASV command. Currently we give the connected IP address or the proxy_params.to_ip in case of Proxy Protocol mode.\r\n\r\n> The option should be configurable at start up.\r\n\r\nIt does not yet do:\r\n\r\n>  It would be nice as well if the IP address could be discovered by hostname.\r\n\r\nThis is left for another PR.\r\n\r\nThis PR does however include the code for both proxy protocol mode and normal mode. For the latter this feature is useful for instance when you connect via an SSH tunnel.\r\n\r\nThe new option in the Server struct looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/2511554/86447555-d1338980-bd15-11ea-891f-72443c8cc7fc.png)\r\n\r\nI've also added an `options` package where we can collect more of these Option enums/structs and perhaps their defaults while also making all our options with their defaults discoverable plus namespaces to read nicely i.e. `options::PassiveHost`\r\n\r\n![image](https://user-images.githubusercontent.com/2511554/86447742-1657bb80-bd16-11ea-8fd2-89b08ea20658.png)\r\n", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/231", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/231/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/231/events", "html_url": "https://github.com/bolcom/libunftp/pull/231", "id": 646298715, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQwNjE1MjE3", "number": 231, "title": "Allow storage back-end implementors to specify file permissions #67", "user": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-26T14:23:36Z", "updated_at": "2020-06-26T20:07:46Z", "closed_at": "2020-06-26T20:07:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/231", "html_url": "https://github.com/bolcom/libunftp/pull/231", "diff_url": "https://github.com/bolcom/libunftp/pull/231.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/231.patch", "merged_at": "2020-06-26T20:07:44Z"}, "body": "The list command always returned the file/directory permissions as `rwxr-xr-x`. This change defaults to that but allows storage back-end implementations to override it. \r\n\r\nCloses #67 ", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/230", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/230/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/230/events", "html_url": "https://github.com/bolcom/libunftp/pull/230", "id": 646234428, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQwNTYyMjU4", "number": 230, "title": "Structured logging (use slog over log) + logging of trace id", "user": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-26T12:38:58Z", "updated_at": "2020-06-26T20:06:14Z", "closed_at": "2020-06-26T20:06:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/230", "html_url": "https://github.com/bolcom/libunftp/pull/230", "diff_url": "https://github.com/bolcom/libunftp/pull/230.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/230.patch", "merged_at": "2020-06-26T20:06:12Z"}, "body": "This PR replaces use of the [log](https://crates.io/crates/log) crate with structured logger [slog](https://crates.io/crates/slog) and then sets up a logger hierarchy so that a session-unique _trace id_ is logged everywhere.\r\n\r\nAlso, lib users can now pass in they're own logger to use using this method defined for the Server struct:\r\n\r\n```rust\r\n    /// Sets the slog structured logger to use\r\n    pub fn logger<L: Into<Option<slog::Logger>>>(mut self, logger: L) -> Self {\r\n        self.logger = logger.into().unwrap_or_else(|| slog::Logger::root(slog_stdlog::StdLog {}.fuse(), slog::o!()));\r\n        self\r\n    }\r\n```\r\n\r\ne.g.: \r\n\r\n```rust\r\n    let server = Server::new_with_authenticator(storage_backend, auther)\r\n        .greeting(\"Welcome to my ftp server\")\r\n        .passive_ports(start_port..end_port)\r\n        .idle_session_timeout(idle_timeout)\r\n        .logger(root_log.new(o!(\"in\" => \"libunftp\")))\r\n\r\n```\r\n\r\nCloses #226\r\n\r\nSample logging:\r\n\r\n![image](https://user-images.githubusercontent.com/2511554/85858510-0d1d9a80-b7bc-11ea-8432-b860a521ab12.png)\r\n", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/227", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/227/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/227/events", "html_url": "https://github.com/bolcom/libunftp/pull/227", "id": 623504802, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyMTYwNDg3", "number": 227, "title": "src/auth/mod.rs:  Add #[derive(Debug)] to RandomAuthenticator in documentation comment", "user": {"login": "mcronce", "id": 836242, "node_id": "MDQ6VXNlcjgzNjI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/836242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcronce", "html_url": "https://github.com/mcronce", "followers_url": "https://api.github.com/users/mcronce/followers", "following_url": "https://api.github.com/users/mcronce/following{/other_user}", "gists_url": "https://api.github.com/users/mcronce/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcronce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcronce/subscriptions", "organizations_url": "https://api.github.com/users/mcronce/orgs", "repos_url": "https://api.github.com/users/mcronce/repos", "events_url": "https://api.github.com/users/mcronce/events{/privacy}", "received_events_url": "https://api.github.com/users/mcronce/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-22T22:27:25Z", "updated_at": "2020-05-26T20:28:30Z", "closed_at": "2020-05-26T20:28:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/227", "html_url": "https://github.com/bolcom/libunftp/pull/227", "diff_url": "https://github.com/bolcom/libunftp/pull/227.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/227.patch", "merged_at": "2020-05-26T20:28:23Z"}, "body": "This fixes `cargo test --doc` :)", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/225", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/225/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/225/events", "html_url": "https://github.com/bolcom/libunftp/pull/225", "id": 623200003, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxOTE0MjIx", "number": 225, "title": "reply 150 earlier", "user": {"login": "Nonius", "id": 949894, "node_id": "MDQ6VXNlcjk0OTg5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/949894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nonius", "html_url": "https://github.com/Nonius", "followers_url": "https://api.github.com/users/Nonius/followers", "following_url": "https://api.github.com/users/Nonius/following{/other_user}", "gists_url": "https://api.github.com/users/Nonius/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nonius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nonius/subscriptions", "organizations_url": "https://api.github.com/users/Nonius/orgs", "repos_url": "https://api.github.com/users/Nonius/repos", "events_url": "https://api.github.com/users/Nonius/events{/privacy}", "received_events_url": "https://api.github.com/users/Nonius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1151802709, "node_id": "MDU6TGFiZWwxMTUxODAyNzA5", "url": "https://api.github.com/repos/bolcom/libunftp/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/bolcom/libunftp/milestones/1", "html_url": "https://github.com/bolcom/libunftp/milestone/1", "labels_url": "https://api.github.com/repos/bolcom/libunftp/milestones/1/labels", "id": 5149869, "node_id": "MDk6TWlsZXN0b25lNTE0OTg2OQ==", "number": 1, "title": "MVP", "description": null, "creator": {"login": "robklg", "id": 8056094, "node_id": "MDQ6VXNlcjgwNTYwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8056094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robklg", "html_url": "https://github.com/robklg", "followers_url": "https://api.github.com/users/robklg/followers", "following_url": "https://api.github.com/users/robklg/following{/other_user}", "gists_url": "https://api.github.com/users/robklg/gists{/gist_id}", "starred_url": "https://api.github.com/users/robklg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robklg/subscriptions", "organizations_url": "https://api.github.com/users/robklg/orgs", "repos_url": "https://api.github.com/users/robklg/repos", "events_url": "https://api.github.com/users/robklg/events{/privacy}", "received_events_url": "https://api.github.com/users/robklg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2020-02-28T11:41:56Z", "updated_at": "2021-05-19T21:29:18Z", "due_on": null, "closed_at": "2021-05-19T21:29:18Z"}, "comments": 1, "created_at": "2020-05-22T13:19:23Z", "updated_at": "2020-05-22T13:58:46Z", "closed_at": "2020-05-22T13:58:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/225", "html_url": "https://github.com/bolcom/libunftp/pull/225", "diff_url": "https://github.com/bolcom/libunftp/pull/225.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/225.patch", "merged_at": "2020-05-22T13:58:45Z"}, "body": "closing #172 ", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/224", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/224/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/224/events", "html_url": "https://github.com/bolcom/libunftp/pull/224", "id": 622874975, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxNjU3MDQw", "number": 224, "title": "Allow moving files across directories (or, less commonly, renaming files within a directory that is not the current directory)", "user": {"login": "mcronce", "id": 836242, "node_id": "MDQ6VXNlcjgzNjI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/836242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcronce", "html_url": "https://github.com/mcronce", "followers_url": "https://api.github.com/users/mcronce/followers", "following_url": "https://api.github.com/users/mcronce/following{/other_user}", "gists_url": "https://api.github.com/users/mcronce/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcronce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcronce/subscriptions", "organizations_url": "https://api.github.com/users/mcronce/orgs", "repos_url": "https://api.github.com/users/mcronce/repos", "events_url": "https://api.github.com/users/mcronce/events{/privacy}", "received_events_url": "https://api.github.com/users/mcronce/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-22T00:49:10Z", "updated_at": "2020-05-22T08:03:26Z", "closed_at": "2020-05-22T08:02:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/224", "html_url": "https://github.com/bolcom/libunftp/pull/224", "diff_url": "https://github.com/bolcom/libunftp/pull/224.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/224.patch", "merged_at": "2020-05-22T08:02:14Z"}, "body": "Way simpler than I expected, but fixes #223\r\n\r\nHowever, I would imagine that those checks were in there for a reason and I just don't know what that reason was ;) hoping that this can serve as a starting point for a solution that allows moving files to other directories without breaking the use case that precipitated these checks to begin with.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/217", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/217/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/217/events", "html_url": "https://github.com/bolcom/libunftp/pull/217", "id": 618759045, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE4NDIzNjAy", "number": 217, "title": "Minor typo fix in README.md", "user": {"login": "benkelaar", "id": 1822855, "node_id": "MDQ6VXNlcjE4MjI4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1822855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benkelaar", "html_url": "https://github.com/benkelaar", "followers_url": "https://api.github.com/users/benkelaar/followers", "following_url": "https://api.github.com/users/benkelaar/following{/other_user}", "gists_url": "https://api.github.com/users/benkelaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/benkelaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benkelaar/subscriptions", "organizations_url": "https://api.github.com/users/benkelaar/orgs", "repos_url": "https://api.github.com/users/benkelaar/repos", "events_url": "https://api.github.com/users/benkelaar/events{/privacy}", "received_events_url": "https://api.github.com/users/benkelaar/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-15T07:26:53Z", "updated_at": "2020-05-15T08:08:20Z", "closed_at": "2020-05-15T08:08:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/217", "html_url": "https://github.com/bolcom/libunftp/pull/217", "diff_url": "https://github.com/bolcom/libunftp/pull/217.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/217.patch", "merged_at": "2020-05-15T08:08:20Z"}, "body": "Couldn't help myself.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/217/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/215", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/215/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/215/events", "html_url": "https://github.com/bolcom/libunftp/pull/215", "id": 616598400, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE2Njc3OTcx", "number": 215, "title": "advertise the server ip (bugfix)", "user": {"login": "robklg", "id": 8056094, "node_id": "MDQ6VXNlcjgwNTYwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8056094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robklg", "html_url": "https://github.com/robklg", "followers_url": "https://api.github.com/users/robklg/followers", "following_url": "https://api.github.com/users/robklg/following{/other_user}", "gists_url": "https://api.github.com/users/robklg/gists{/gist_id}", "starred_url": "https://api.github.com/users/robklg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robklg/subscriptions", "organizations_url": "https://api.github.com/users/robklg/orgs", "repos_url": "https://api.github.com/users/robklg/repos", "events_url": "https://api.github.com/users/robklg/events{/privacy}", "received_events_url": "https://api.github.com/users/robklg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-12T11:58:24Z", "updated_at": "2020-05-12T11:59:14Z", "closed_at": "2020-05-12T11:59:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/215", "html_url": "https://github.com/bolcom/libunftp/pull/215", "diff_url": "https://github.com/bolcom/libunftp/pull/215.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/215.patch", "merged_at": "2020-05-12T11:59:13Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/214", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/214/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/214/events", "html_url": "https://github.com/bolcom/libunftp/pull/214", "id": 615036947, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE1NDc0MTYy", "number": 214, "title": "trace, trace, trace", "user": {"login": "Nonius", "id": 949894, "node_id": "MDQ6VXNlcjk0OTg5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/949894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nonius", "html_url": "https://github.com/Nonius", "followers_url": "https://api.github.com/users/Nonius/followers", "following_url": "https://api.github.com/users/Nonius/following{/other_user}", "gists_url": "https://api.github.com/users/Nonius/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nonius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nonius/subscriptions", "organizations_url": "https://api.github.com/users/Nonius/orgs", "repos_url": "https://api.github.com/users/Nonius/repos", "events_url": "https://api.github.com/users/Nonius/events{/privacy}", "received_events_url": "https://api.github.com/users/Nonius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T23:30:14Z", "updated_at": "2020-05-15T11:06:09Z", "closed_at": "2020-05-15T11:06:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/214", "html_url": "https://github.com/bolcom/libunftp/pull/214", "diff_url": "https://github.com/bolcom/libunftp/pull/214.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/214.patch", "merged_at": "2020-05-15T11:06:08Z"}, "body": "Add tracing support. Lots of thing needed to implement `Debug`\r\n\r\nThere is a mysterious clippy warning,\r\nAnd I added some `#[allow(clippy::type_complexity)]`, those I want to resolve", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/212", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/212/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/212/events", "html_url": "https://github.com/bolcom/libunftp/pull/212", "id": 614440429, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE0OTk3MTEw", "number": 212, "title": "Handle list() errors more gracefully", "user": {"login": "mcronce", "id": 836242, "node_id": "MDQ6VXNlcjgzNjI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/836242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcronce", "html_url": "https://github.com/mcronce", "followers_url": "https://api.github.com/users/mcronce/followers", "following_url": "https://api.github.com/users/mcronce/following{/other_user}", "gists_url": "https://api.github.com/users/mcronce/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcronce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcronce/subscriptions", "organizations_url": "https://api.github.com/users/mcronce/orgs", "repos_url": "https://api.github.com/users/mcronce/repos", "events_url": "https://api.github.com/users/mcronce/events{/privacy}", "received_events_url": "https://api.github.com/users/mcronce/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-08T01:24:28Z", "updated_at": "2020-05-14T01:56:27Z", "closed_at": "2020-05-08T06:30:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/212", "html_url": "https://github.com/bolcom/libunftp/pull/212", "diff_url": "https://github.com/bolcom/libunftp/pull/212.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/212.patch", "merged_at": "2020-05-08T06:30:54Z"}, "body": "Currently, running both with my own storage backend as well as with `new_with_fs_root()`, when an error occurs in `list()`, the server doesn't send a reply at all - from the FTP client's standpoint, it just hangs.  Running with logging turned up it does print something to the log, which is a plus, but hanging the FTP session with something as simple as `ls /path/that/does/not/exist` doesn't seem ideal :)\r\n\r\nWith the changes in this PR, I bubble up any errors that occurred in `list()` for logging purposes, and send a reply to the client indicating failure.  Additionally, the rest of the steps occur the same as they do on success - closing the data socket, then notifying the main thread (although the internal message differs) that we're finished.\r\n\r\nRelated to #163 in spirit, but probably not in letter...suggestions welcome.  If this looks good it may make sense to apply the same treatment to other storage backend wrappers.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/212/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/211", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/211/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/211/events", "html_url": "https://github.com/bolcom/libunftp/pull/211", "id": 612902177, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzNzU4OTkw", "number": 211, "title": "FTPS and other ergonomics.", "user": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-05T21:20:10Z", "updated_at": "2020-05-08T21:49:58Z", "closed_at": "2020-05-08T21:49:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/211", "html_url": "https://github.com/bolcom/libunftp/pull/211", "diff_url": "https://github.com/bolcom/libunftp/pull/211.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/211.patch", "merged_at": "2020-05-08T21:49:57Z"}, "body": "Introduces FTPSConfig enum to cleanup the FTPS handling code a bit.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/210", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/210/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/210/events", "html_url": "https://github.com/bolcom/libunftp/pull/210", "id": 612178619, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzMTkzMzM2", "number": 210, "title": "No IP needed to start proxy protocol mode", "user": {"login": "hannesdejager", "id": 2511554, "node_id": "MDQ6VXNlcjI1MTE1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2511554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannesdejager", "html_url": "https://github.com/hannesdejager", "followers_url": "https://api.github.com/users/hannesdejager/followers", "following_url": "https://api.github.com/users/hannesdejager/following{/other_user}", "gists_url": "https://api.github.com/users/hannesdejager/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannesdejager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannesdejager/subscriptions", "organizations_url": "https://api.github.com/users/hannesdejager/orgs", "repos_url": "https://api.github.com/users/hannesdejager/repos", "events_url": "https://api.github.com/users/hannesdejager/events{/privacy}", "received_events_url": "https://api.github.com/users/hannesdejager/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-04T21:25:00Z", "updated_at": "2020-05-08T09:10:40Z", "closed_at": "2020-05-08T09:10:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/210", "html_url": "https://github.com/bolcom/libunftp/pull/210", "diff_url": "https://github.com/bolcom/libunftp/pull/210.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/210.patch", "merged_at": "2020-05-08T09:10:39Z"}, "body": "The external IP address of the proxy is not actually needed when initialising proxy protocol mode. Only the port is needed.", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bolcom/libunftp/issues/204", "repository_url": "https://api.github.com/repos/bolcom/libunftp", "labels_url": "https://api.github.com/repos/bolcom/libunftp/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/bolcom/libunftp/issues/204/comments", "events_url": "https://api.github.com/repos/bolcom/libunftp/issues/204/events", "html_url": "https://github.com/bolcom/libunftp/pull/204", "id": 610410925, "node_id": "MDExOlB1bGxSZXF1ZXN0NDExODU2NDQ0", "number": 204, "title": "unit tests for proxy protocol", "user": {"login": "robklg", "id": 8056094, "node_id": "MDQ6VXNlcjgwNTYwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8056094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robklg", "html_url": "https://github.com/robklg", "followers_url": "https://api.github.com/users/robklg/followers", "following_url": "https://api.github.com/users/robklg/following{/other_user}", "gists_url": "https://api.github.com/users/robklg/gists{/gist_id}", "starred_url": "https://api.github.com/users/robklg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robklg/subscriptions", "organizations_url": "https://api.github.com/users/robklg/orgs", "repos_url": "https://api.github.com/users/robklg/repos", "events_url": "https://api.github.com/users/robklg/events{/privacy}", "received_events_url": "https://api.github.com/users/robklg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-30T21:51:47Z", "updated_at": "2020-05-02T19:38:53Z", "closed_at": "2020-05-02T19:38:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bolcom/libunftp/pulls/204", "html_url": "https://github.com/bolcom/libunftp/pull/204", "diff_url": "https://github.com/bolcom/libunftp/pull/204.diff", "patch_url": "https://github.com/bolcom/libunftp/pull/204.patch", "merged_at": "2020-05-02T19:38:52Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/bolcom/libunftp/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bolcom/libunftp/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]