[{"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663", "id": 2249225471, "node_id": "PR_kwDODaTcLs5s-SP1", "number": 1663, "title": "Use supports-colors feature", "user": {"login": "theory", "id": 46604, "node_id": "MDQ6VXNlcjQ2NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/46604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theory", "html_url": "https://github.com/theory", "followers_url": "https://api.github.com/users/theory/followers", "following_url": "https://api.github.com/users/theory/following{/other_user}", "gists_url": "https://api.github.com/users/theory/gists{/gist_id}", "starred_url": "https://api.github.com/users/theory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theory/subscriptions", "organizations_url": "https://api.github.com/users/theory/orgs", "repos_url": "https://api.github.com/users/theory/repos", "events_url": "https://api.github.com/users/theory/events{/privacy}", "received_events_url": "https://api.github.com/users/theory/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-04-17T20:33:53Z", "updated_at": "2025-04-28T21:02:07Z", "closed_at": "2024-04-17T21:39:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1663", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663.patch", "merged_at": "2024-04-17T21:39:21Z"}, "body": "To enable the `NO_COLOR` and `FORCE_COLOR` environment variables, as well as detect when running in a tty to suppress colors.\r\n\r\nIdeally pgrx would resect [`CARGO_TERM_COLOR`](https://doc.rust-lang.org/cargo/reference/config.html#termcolor), but this is a start.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1662", "id": 2247695633, "node_id": "PR_kwDODaTcLs5s5DER", "number": 1662, "title": "Use `CARGO_TARGET_DIR` if available", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-17T08:27:28Z", "updated_at": "2024-04-17T08:49:44Z", "closed_at": "2024-04-17T08:49:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1662", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1662", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1662.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1662.patch", "merged_at": "2024-04-17T08:49:41Z"}, "body": "Fixes https://github.com/pgcentralfoundation/pgrx/issues/1625", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1662/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1660", "id": 2247291654, "node_id": "PR_kwDODaTcLs5s3sa4", "number": 1660, "title": "Add beta ci", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-17T03:35:13Z", "updated_at": "2024-04-17T05:32:12Z", "closed_at": "2024-04-17T05:32:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1660", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1660", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1660.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1660.patch", "merged_at": "2024-04-17T05:32:07Z"}, "body": "- fixes #1624\r\n- fixes #1640", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1660/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1659", "id": 2246926229, "node_id": "PR_kwDODaTcLs5s2cjD", "number": 1659, "title": "Only suggest `cargo install` with 1 version", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-04-16T21:40:33Z", "updated_at": "2024-04-17T20:13:31Z", "closed_at": "2024-04-17T20:13:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1659", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1659", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1659.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1659.patch", "merged_at": "2024-04-17T20:13:26Z"}, "body": "I believe this addresses @jyn514's initially-reported bug in https://github.com/pgcentralfoundation/pgrx/issues/1645 by avoiding the help suggestion if it doesn't make sense for pgrx's architecture, and we make sure it's a single version we're suggesting, not... some weirdness.\r\n\r\nAn alternative help suggestion would only be reasonable with https://github.com/pgcentralfoundation/pgrx/issues/1647", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1659/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1656", "id": 2246457221, "node_id": "PR_kwDODaTcLs5s02qR", "number": 1656, "title": "Fix typo in cargo-pgrx README.md", "user": {"login": "staticle", "id": 55652600, "node_id": "MDQ6VXNlcjU1NjUyNjAw", "avatar_url": "https://avatars.githubusercontent.com/u/55652600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/staticle", "html_url": "https://github.com/staticle", "followers_url": "https://api.github.com/users/staticle/followers", "following_url": "https://api.github.com/users/staticle/following{/other_user}", "gists_url": "https://api.github.com/users/staticle/gists{/gist_id}", "starred_url": "https://api.github.com/users/staticle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/staticle/subscriptions", "organizations_url": "https://api.github.com/users/staticle/orgs", "repos_url": "https://api.github.com/users/staticle/repos", "events_url": "https://api.github.com/users/staticle/events{/privacy}", "received_events_url": "https://api.github.com/users/staticle/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-16T16:27:14Z", "updated_at": "2024-04-16T19:40:18Z", "closed_at": "2024-04-16T19:40:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1656", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1656", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1656.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1656.patch", "merged_at": "2024-04-16T19:40:17Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1655", "id": 2244016557, "node_id": "PR_kwDODaTcLs5sseCh", "number": 1655, "title": "fix: allow unused_lifetimes for pg_extern.", "user": {"login": "my-vegetable-has-exploded", "id": 48236141, "node_id": "MDQ6VXNlcjQ4MjM2MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/48236141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/my-vegetable-has-exploded", "html_url": "https://github.com/my-vegetable-has-exploded", "followers_url": "https://api.github.com/users/my-vegetable-has-exploded/followers", "following_url": "https://api.github.com/users/my-vegetable-has-exploded/following{/other_user}", "gists_url": "https://api.github.com/users/my-vegetable-has-exploded/gists{/gist_id}", "starred_url": "https://api.github.com/users/my-vegetable-has-exploded/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/my-vegetable-has-exploded/subscriptions", "organizations_url": "https://api.github.com/users/my-vegetable-has-exploded/orgs", "repos_url": "https://api.github.com/users/my-vegetable-has-exploded/repos", "events_url": "https://api.github.com/users/my-vegetable-has-exploded/events{/privacy}", "received_events_url": "https://api.github.com/users/my-vegetable-has-exploded/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-04-15T15:43:25Z", "updated_at": "2024-04-16T02:04:23Z", "closed_at": "2024-04-15T22:00:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1655", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1655", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1655.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1655.patch", "merged_at": "2024-04-15T22:00:10Z"}, "body": "close #1649. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1655/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1654", "id": 2242574310, "node_id": "PR_kwDODaTcLs5snhv-", "number": 1654, "title": "Tiny doc fix in build.rs", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-15T02:35:10Z", "updated_at": "2024-04-19T19:59:00Z", "closed_at": "2024-04-15T22:01:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1654", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1654", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1654.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1654.patch", "merged_at": "2024-04-15T22:01:05Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1654/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1652", "id": 2240764230, "node_id": "PR_kwDODaTcLs5shmeg", "number": 1652, "title": "`cargo pgrx test --runas`", "user": {"login": "eeeebbbbrrrr", "id": 5117238, "node_id": "MDQ6VXNlcjUxMTcyMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5117238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eeeebbbbrrrr", "html_url": "https://github.com/eeeebbbbrrrr", "followers_url": "https://api.github.com/users/eeeebbbbrrrr/followers", "following_url": "https://api.github.com/users/eeeebbbbrrrr/following{/other_user}", "gists_url": "https://api.github.com/users/eeeebbbbrrrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/eeeebbbbrrrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eeeebbbbrrrr/subscriptions", "organizations_url": "https://api.github.com/users/eeeebbbbrrrr/orgs", "repos_url": "https://api.github.com/users/eeeebbbbrrrr/repos", "events_url": "https://api.github.com/users/eeeebbbbrrrr/events{/privacy}", "received_events_url": "https://api.github.com/users/eeeebbbbrrrr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-04-12T19:20:47Z", "updated_at": "2024-07-08T22:21:01Z", "closed_at": "2024-04-18T13:44:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1652", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1652", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1652.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1652.patch", "merged_at": "2024-04-18T13:44:24Z"}, "body": "```shell\r\n$ cargo pgrx test pg14 --runas testuser --pgdata=/tmp/pgrxtest\r\n```\r\n\r\nThis adds two new arguments to `cargo pgrx test`: `--runas <username>` and `--pgdata </writable/path>`\r\n\r\nTogether, these will initdb, createdb, dropdb, and run postgres as the \"runas\" user.\r\n\r\nExtension artifacts are copied with `cargo pgrx install --sudo`, which will also require the current user be able to become root.\r\n\r\nIn general, these options are designed for the unusual situation where one needs to be \"root\" in order to run extension tests, but, of course, Postgres is not allowed to be root.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1652/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1643", "id": 2233218476, "node_id": "PR_kwDODaTcLs5sHnu-", "number": 1643, "title": "only build library in cargo-pgrx commands", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-09T11:23:21Z", "updated_at": "2024-04-09T16:39:05Z", "closed_at": "2024-04-09T16:39:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1643", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1643", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1643.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1643.patch", "merged_at": "2024-04-09T16:39:04Z"}, "body": "Only build the package\u2019s library in `cargo-pgrx` commands since only `dylib` is needed.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1643/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1639", "id": 2228981462, "node_id": "PR_kwDODaTcLs5r5VZi", "number": 1639, "title": "There are 1000 microseconds per millisecond", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-06T00:35:18Z", "updated_at": "2024-04-06T01:08:25Z", "closed_at": "2024-04-06T01:08:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1639", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1639", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1639.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1639.patch", "merged_at": "2024-04-06T01:08:22Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1639/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638", "id": 2228656463, "node_id": "PR_kwDODaTcLs5r4OlK", "number": 1638, "title": "Bump whoami and eyre", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-05T19:07:19Z", "updated_at": "2024-04-05T19:29:43Z", "closed_at": "2024-04-05T19:29:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1638", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638.patch", "merged_at": "2024-04-05T19:29:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1636", "id": 2226668394, "node_id": "PR_kwDODaTcLs5rxWjL", "number": 1636, "title": "Fix cargo pgrx finding cdylibs", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-04T23:11:13Z", "updated_at": "2024-04-05T19:38:49Z", "closed_at": "2024-04-05T19:38:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1636", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1636", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1636.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1636.patch", "merged_at": "2024-04-05T19:38:45Z"}, "body": "Required for, but does not fix on its own, https://github.com/pgcentralfoundation/pgrx/issues/1624", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1636/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1635", "id": 2225765220, "node_id": "PR_kwDODaTcLs5ruMJ6", "number": 1635, "title": "feat: add `ExecCopySlotHeapTuple` to `pg_sys`", "user": {"login": "rebasedming", "id": 21964054, "node_id": "MDQ6VXNlcjIxOTY0MDU0", "avatar_url": "https://avatars.githubusercontent.com/u/21964054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rebasedming", "html_url": "https://github.com/rebasedming", "followers_url": "https://api.github.com/users/rebasedming/followers", "following_url": "https://api.github.com/users/rebasedming/following{/other_user}", "gists_url": "https://api.github.com/users/rebasedming/gists{/gist_id}", "starred_url": "https://api.github.com/users/rebasedming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rebasedming/subscriptions", "organizations_url": "https://api.github.com/users/rebasedming/orgs", "repos_url": "https://api.github.com/users/rebasedming/repos", "events_url": "https://api.github.com/users/rebasedming/events{/privacy}", "received_events_url": "https://api.github.com/users/rebasedming/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-04T15:03:42Z", "updated_at": "2024-04-04T18:15:34Z", "closed_at": "2024-04-04T18:15:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1635", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1635", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1635.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1635.patch", "merged_at": "2024-04-04T18:15:33Z"}, "body": "This is a function we need as well.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1635/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1630", "id": 2220830013, "node_id": "PR_kwDODaTcLs5rdFrL", "number": 1630, "title": "inline lib reqs for `cargo pgrx init`", "user": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-04-02T15:31:07Z", "updated_at": "2024-04-05T01:37:33Z", "closed_at": "2024-04-04T18:14:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1630", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1630", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1630.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1630.patch", "merged_at": "2024-04-04T18:14:48Z"}, "body": "include the required libs for `cargo pgrx init` so people don't miss checking the wiki and fail to install them. without e.g. `libreadline` installed, you get a long error from cmake:\r\n\r\n```\r\n  Configuring Postgres v14.11\r\nError: \r\n   0: cd \"/home/jyn/.pgrx/14.11\" && env -u DEBUG -u DYLD_FALLBACK_LIBRARY_PATH -u HOST -u LIBRARY_PATH -u MAKEFLAGS -u MAKELEVEL -u MFLAGS -u NUM_JOBS -u OPT_LEVEL -u OUT_DIR -u PROFILE -u TARGET CPPFLAGS=\" -DMEMORY_CONTEXT_CHECKING=1 -DCLOBBER_FREED_MEMORY=1 -DRANDOMIZE_ALLOCATED_MEMORY=1 \" PATH=\"/home/jyn/.pgrx/14.11:/home/jyn/.local/bin:/home/jyn/.local/lib/cargo/bin:/home/jyn/src/dotfiles/bin:/home/jyn/.local/bin:/home/jyn/.vscode-server/bin/019f4d1419fbc8219a181fab7892ebccf7ee29a2/bin/remote-cli:/home/jyn/.local/bin:/home/jyn/.local/lib/cargo/bin:/home/jyn/src/dotfiles/bin:/home/jyn/.local/bin:/home/jyn/.local/bin:/home/jyn/.local/lib/cargo/bin:/home/jyn/src/dotfiles/bin:/home/jyn/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\" \"/home/jyn/.pgrx/14.11/configure\" \"--prefix=/home/jyn/.pgrx/14.11/pgrx-install\" \"--with-pgport=28814\" \"--enable-debug\" \"--enable-cassert\"\r\n```\r\n\r\nwith a bunch of configure output and then:\r\n```\r\n      checking for library containing readline... no\r\n      configure: WARNING:\r\n      *** Without Bison you will not be able to build PostgreSQL from Git nor\r\n      *** change any of the parser definition files.  You can obtain Bison from\r\n      *** a GNU mirror site.  (If you are using the official distribution of\r\n      *** PostgreSQL then you do not need to worry about this, because the Bison\r\n      *** output is pre-generated.)\r\n      configure: WARNING:\r\n      *** Without Flex you will not be able to build PostgreSQL from Git nor\r\n      *** change any of the scanner definition files.  You can obtain Flex from\r\n      *** a GNU mirror site.  (If you are using the official distribution of\r\n      *** PostgreSQL then you do not need to worry about this because the Flex\r\n      *** output is pre-generated.)\r\n      configure: error: readline library not found\r\n      If you have readline already installed, see config.log for details on the\r\n      failure.  It is possible the compiler isn't looking in the proper directory.\r\n      Use --without-readline to disable readline support.\r\n\r\n\r\nLocation:\r\n   /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/cargo-pgrx-0.11.3/src/command/init.rs:432\r\n\r\n  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 SPANTRACE \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\r\n\r\n   0: cargo_pgrx::command::init::download_postgres with pg_version=14.11\r\n      at /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/cargo-pgrx-0.11.3/src/command/init.rs:210\r\n```", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1629", "id": 2220559993, "node_id": "PR_kwDODaTcLs5rcKYH", "number": 1629, "title": "Redeclare additional *_walker fn", "user": {"login": "daamien", "id": 165646, "node_id": "MDQ6VXNlcjE2NTY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/165646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daamien", "html_url": "https://github.com/daamien", "followers_url": "https://api.github.com/users/daamien/followers", "following_url": "https://api.github.com/users/daamien/following{/other_user}", "gists_url": "https://api.github.com/users/daamien/gists{/gist_id}", "starred_url": "https://api.github.com/users/daamien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daamien/subscriptions", "organizations_url": "https://api.github.com/users/daamien/orgs", "repos_url": "https://api.github.com/users/daamien/repos", "events_url": "https://api.github.com/users/daamien/events{/privacy}", "received_events_url": "https://api.github.com/users/daamien/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-04-02T13:39:42Z", "updated_at": "2024-09-23T19:47:18Z", "closed_at": "2024-04-05T19:37:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1629", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1629", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1629.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1629.patch", "merged_at": "2024-04-05T19:37:54Z"}, "body": "As a follow up to the discussion here \r\nhttps://github.com/pgcentralfoundation/pgrx/issues/1583#issuecomment-2030105513\r\n\r\nHere's a patch to declare correctly the following functions:\r\n\r\n* query_or_expression_tree_walker\r\n* range_table_entry_walker\r\n* planstate_tree_walker\r\n* range_table_walker\r\n\r\nThis is a shameless copy of PR #1596 , I'm not entirely sure what I am actually doing here :)\r\n\r\nQuick questions regarding the format:\r\n\r\n-  I see some arguments have the `arg_` prefix while others don't... Like  `arg_node` vs `node`  in the query_tree_walker function... Is there a naming rule regarding this ?\r\n\r\n- I'm unsure how to sort the functions... alphabetical order ?", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1629/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1628", "id": 2219351762, "node_id": "PR_kwDODaTcLs5rYDiJ", "number": 1628, "title": "feat: add more cshim bindings", "user": {"login": "rebasedming", "id": 21964054, "node_id": "MDQ6VXNlcjIxOTY0MDU0", "avatar_url": "https://avatars.githubusercontent.com/u/21964054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rebasedming", "html_url": "https://github.com/rebasedming", "followers_url": "https://api.github.com/users/rebasedming/followers", "following_url": "https://api.github.com/users/rebasedming/following{/other_user}", "gists_url": "https://api.github.com/users/rebasedming/gists{/gist_id}", "starred_url": "https://api.github.com/users/rebasedming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rebasedming/subscriptions", "organizations_url": "https://api.github.com/users/rebasedming/orgs", "repos_url": "https://api.github.com/users/rebasedming/repos", "events_url": "https://api.github.com/users/rebasedming/events{/privacy}", "received_events_url": "https://api.github.com/users/rebasedming/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-02T00:39:56Z", "updated_at": "2024-04-04T02:26:25Z", "closed_at": "2024-04-02T18:13:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1628", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1628", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1628.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1628.patch", "merged_at": "2024-04-02T18:13:56Z"}, "body": "This PR adds cshim bindings for several `pg_sys` functions I needed for my extension.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1628/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1623", "id": 2207310164, "node_id": "PR_kwDODaTcLs5qvaOW", "number": 1623, "title": "Clean up even more redundant code", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-26T05:42:51Z", "updated_at": "2024-03-26T08:30:07Z", "closed_at": "2024-03-26T08:25:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1623", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1623", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1623.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1623.patch", "merged_at": "2024-03-26T08:25:15Z"}, "body": "I don't know if I just missed these the first time or the algorithm for finding unused stuff got stronger in the past few nights, but even more repetition whines if you use nightly.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621", "id": 2203191539, "node_id": "PR_kwDODaTcLs5qhp2R", "number": 1621, "title": "Use Ceescape's `sigsetjmp()` wrapper", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-03-22T19:39:44Z", "updated_at": "2024-10-01T15:04:47Z", "closed_at": "2024-03-25T19:37:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1621", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621.patch", "merged_at": "2024-03-25T19:37:35Z"}, "body": "The [cee-scape](https://crates.io/crates/cee-scape) crate uses a hand-rolled assembly wrapper around libc's `sigsetjmp()`. This has better correctness guarantees than calling `sigsetjmp()` directly, because LLVM is not allowed to reason about / attempt to optimize inside hand-written assembly. `sigsetjmp()` is used for `pg_guard_ffi_boundary_impl()`, which is our wrapper around Postgres' exception handling, since Postgres uses `sigsetjmp()` and `siglongjmp()` to handle multiple return points. Rust's paradigm doesn't understand this - in Rust, a a function call can only return to its caller at one point in time: when it has finished executing. Whereas, sigsetjmp can return to two places _chronologically_ - and so this needs to be handled carefully.\r\n\r\nFixes https://github.com/pgcentralfoundation/pgrx/issues/1144", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620", "id": 2201013182, "node_id": "PR_kwDODaTcLs5qaL4O", "number": 1620, "title": "Consistently test on latest rustc stable", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-03-21T19:37:29Z", "updated_at": "2024-03-24T01:02:45Z", "closed_at": "2024-03-24T01:01:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1620", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620.patch", "merged_at": "2024-03-24T01:01:44Z"}, "body": "Consistently use latest rustc stable for the test infrastructure by replacing a number of ad hoc lines of bash-in-YAML with a single script. This allows us to use rustc 1.77, for which:\r\n- `offset_of!` in stdlib lets us drop the `memoffset` crate\r\n- some compile-fail tests require blessing, as diagnostics changed", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1619", "id": 2194294002, "node_id": "PR_kwDODaTcLs5qDa6M", "number": 1619, "title": "reserve exact one blank line between two sql entities", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-19T08:06:37Z", "updated_at": "2024-03-19T18:12:40Z", "closed_at": "2024-03-19T18:12:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1619", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1619", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1619.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1619.patch", "merged_at": "2024-03-19T18:12:40Z"}, "body": "`cargo pgrx schema` emits 27 blank lines before any characters since there are 25 `SqlGraphEntity::BuiltinType`s. It's strange.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1619/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1618", "id": 2193644634, "node_id": "PR_kwDODaTcLs5qBPWL", "number": 1618, "title": "Fix off-by-one error in fastgetattr docs", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-18T23:18:46Z", "updated_at": "2024-03-19T18:13:20Z", "closed_at": "2024-03-19T18:12:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1618", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1618", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1618.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1618.patch", "merged_at": "2024-03-19T18:12:52Z"}, "body": "The code is correct. Fix the off-by-zero error in the documentation.\r\n\r\nResolves https://github.com/pgcentralfoundation/pgrx/issues/1613", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1618/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1617", "id": 2193642925, "node_id": "PR_kwDODaTcLs5qBO-G", "number": 1617, "title": "Deprecate `set_varsize`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4467981402, "node_id": "LA_kwDODaTcLs8AAAABCk_8Wg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/deprecation", "name": "deprecation", "color": "333333", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-18T23:17:29Z", "updated_at": "2024-03-19T18:13:36Z", "closed_at": "2024-03-19T18:13:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1617", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1617", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1617.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1617.patch", "merged_at": "2024-03-19T18:13:32Z"}, "body": "The `set_varsize` name is used by Postgres but is ambiguous and unlike the \"read\" variant, cannot be made fully interchangeable between the 1b and 4b version, even if one mitigated the difference slightly by using unaligned writes. Document both `set_varsize` and `set_varsize_4b`'s alignment precondition, and deprecate the ambiguous version.\r\n\r\nFixes https://github.com/pgcentralfoundation/pgrx/issues/1321\r\n", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1616", "id": 2191851930, "node_id": "PR_kwDODaTcLs5p7BuQ", "number": 1616, "title": "mark pgrx_pg_sys bindings inline", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2024-03-18T10:44:59Z", "updated_at": "2024-03-20T13:54:51Z", "closed_at": "2024-03-18T12:37:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1616", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1616", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1616.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1616.patch", "merged_at": "2024-03-18T12:37:16Z"}, "body": "> I did a little investigation in compilation time and found the most time-consuming part in pgrx is rustc codegen: most bindings of PostgreSQL are not used but rustc spends time in generating machine code of `pg_guard` wrappers. I just read https://kobzol.github.io/rust/rustc/2024/03/15/rustc-what-takes-so-long.html and it said, `Because if you just build an intermediate artifact (like an .rlib, which is what your crate dependencies compile into), that won\u2019t compile #[inline]-d and generic functions, and also the linker won\u2019t be involved`. So, I thought `#[inline]` should help compilation time.\r\n\r\nMarking pgrx_pg_sys bindings inline reduces compilation time. It took 150 seconds to build `pgrx` before and it takes 36 seconds to build `pgrx` now.\r\n\r\n```\r\ncargo build --no-default-features --features pg13 --release --timings\r\n```\r\n\r\nBefore this PR:\r\n\r\n![Screenshot_20240318_184237](https://github.com/pgcentralfoundation/pgrx/assets/79277854/6507ea98-4e59-4881-8c2d-7465ff542f2a)\r\n\r\nAfter this PR:\r\n\r\n![Screenshot_20240318_183904](https://github.com/pgcentralfoundation/pgrx/assets/79277854/b8ba2ee2-1ba3-41ba-abe0-7172ae7e6065)\r\n\r\n> The \u201ccodegen\u201d times are highlighted in a lavender color.\r\n> The \u201ccustom build\u201d units are build.rs scripts, which when run are highlighted in orange.\r\n\r\nInlining prevents unused codegen in macros, so it's faster.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1616/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610", "id": 2185360664, "node_id": "PR_kwDODaTcLs5plC0y", "number": 1610, "title": "Break Time on the anvil of proptest", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-03-14T04:02:30Z", "updated_at": "2024-03-18T23:00:56Z", "closed_at": "2024-03-18T23:00:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1610", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610.patch", "merged_at": "2024-03-18T23:00:49Z"}, "body": "Our handling of the various datetime types is extremely dubious. In particular, we `impl From` for these types to allow a conversion from their \"raw repr\", the underlying integer type. This was justified on the idea that this is how Postgres reasons about them anyways, and at worst it was an application bug. However, there are two problems:\r\n\r\n- The conversions are not infallible, as `From` requires[^1]! At various points of the conversions, they may `ereport` (which we convert to a `panic!`, naturally).\r\n- For many possible integer values, they return **non-equal** values when passed through the native Postgres (de)serialization functions and converted back to the original type, which we should not accept as a reasonable outcome. It permits data that flows through pgrx extensions to become corrupt or invalid by the time it reaches the database, causing errors when read out again. In this sense, it is another way the conversion is fallible, except the realization of the error may become delayed for hours or weeks after the data is actually committed to the database, as it is only upon (de)serialization that it is guaranteed to error.\r\n\r\nAccordingly, this PR breaks the `From` impls for Time, TimeTz, and Timestamp, for their integer representations. The implementations are replaced by convenience functions that _do_ implement a possible valid interpretation of conversion from the integer types, but are lossy, and thus inappropriate for `impl From`. Conversion to-and-from these integer types is no longer lossless, and thus it is not \"perfect\".\r\n\r\nThe bounds selected for the conversion functions reflect the bounds that Postgres implements for these types.\r\n\r\nFixes https://github.com/pgcentralfoundation/pgrx/issues/1525\r\n\r\n[^1]: https://doc.rust-lang.org/std/convert/trait.From.html", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1607", "id": 2182856018, "node_id": "PR_kwDODaTcLs5pcdrw", "number": 1607, "title": "Remove redundant imports", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-12T23:42:02Z", "updated_at": "2024-03-20T05:11:35Z", "closed_at": "2024-03-13T20:38:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1607", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1607", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1607.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1607.patch", "merged_at": "2024-03-13T20:38:33Z"}, "body": "Silence warnings that Rust ~1.78 will mouth off about.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1602", "id": 2172495842, "node_id": "PR_kwDODaTcLs5o5JhX", "number": 1602, "title": "Nullable type", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-03-06T21:50:47Z", "updated_at": "2024-03-20T00:54:58Z", "closed_at": "2024-03-20T00:54:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1602", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1602", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1602.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1602.patch", "merged_at": "2024-03-20T00:54:58Z"}, "body": "Add an `Option`-like type to distinguish \"This element is out-of-bounds\" from \"This element is a Postgres `null`\", as well as genericizing over NullLayout types that mark where null elements are in a container (for example, the null bitslice on arrays). \r\n\r\nThis is meant to implement the behavior requested in #620 and #1586 \r\n\r\nFor iterators, a separate pull request has been split off: NotGyro/pgrx#2", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1602/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598", "id": 2162574290, "node_id": "PR_kwDODaTcLs5oXVxB", "number": 1598, "title": "Release pgrx 0.12.0-alpha.1", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-01T04:20:09Z", "updated_at": "2024-03-01T05:00:17Z", "closed_at": "2024-03-01T04:55:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1598", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598.patch", "merged_at": "2024-03-01T04:55:14Z"}, "body": "Welcome to pgrx 0.12.0-alpha.1!\r\n\r\nSay the magic words with me!\r\n\r\n```shell\r\ncargo install cargo-pgrx --locked --version 0.12.0-alpha.1\r\n```\r\n\r\n# Breaking Changes\r\n\r\n## No more dlopen!\r\n\r\nPerhaps the most exciting change this round is @usamoi's contribution in https://github.com/pgcentralfoundation/pgrx/pull/1468 which means that we no longer perform a `dlopen` in order to generate the schema. The cost, such as it is, is that your pgrx extensions now require a `src/bin/pgrx_embed.rs`, which will be used to generate the schema. This has much less cross-platform issues and will enable supporting things like `cargo binstall` down the line.\r\n\r\nIt may be a bit touchy on first-time setup for transitioning older repos. If necessary, you may have to directly add a `src/bin/pgrx_embed.rs` and add the following code (which should be the only code in the file, though you can add comments if you like?):\r\n\r\n```rust\r\n::pgrx::pgrx_embed!();\r\n```\r\n\r\nYour Cargo.toml will also want to update its crate-type key for the library:\r\n```toml\r\n[lib]\r\ncrate-type = [\"cdylib\", \"lib\"]\r\n```\r\n\r\n## Library Code\r\n\r\n- pgrx-pg-sys will now use `ManuallyDropUnion` thanks to @NotGyro in https://github.com/pgcentralfoundation/pgrx/pull/1547\r\n- VARHDRSZ `const`s are no longer `fn`, thanks to @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1584\r\n- We no longer have `Interval::is_finite` since https://github.com/pgcentralfoundation/pgrx/pull/1594\r\n- We translate more `*_tree_walker` functions to the same signature their `*_impl` version in Postgres 16 has: https://github.com/pgcentralfoundation/pgrx/pull/1596\r\n- Thanks to @eeeebbbbrrrr in https://github.com/pgcentralfoundation/pgrx/pull/1591 we no longer have the `pg_sql_graph_magic!()` macro, which should help with more things in the future!\r\n\r\n# What's New\r\n\r\nWe have quite a lot of useful additions to our API:\r\n\r\n- `SpiClient::prepare_mut` was added thanks to @XeniaLu in https://github.com/pgcentralfoundation/pgrx/pull/1275\r\n- @usamoi also contributed bindings subscripting code in https://github.com/pgcentralfoundation/pgrx/pull/1562\r\n- For `#[pg_test]`, you have been able to use `#[should_panic(expected = \"string\")]` to anticipate a panic that contains that string in that test. For various reasons, `#[pg_test(error = \"string\")]` is much the same. Now, you can also use `#[pg_test(expected = \"string\")]`, in the hopes that is easier to stumble across, as of https://github.com/pgcentralfoundation/pgrx/pull/1570\r\n\r\n## `Result<composite_type!(\"...\"), E>` support\r\n\r\n- In https://github.com/pgcentralfoundation/pgrx/pull/1560 @NotGyro contributed support for using `Result<composite_type!(\"Name\"), E>`, as a case that had not been handled before.\r\n\r\n## Significantly expanded docs\r\nThanks to @rjuju, @NotGyro, and @workingjubilee, we now have significantly expanded docs for cargo-pgrx and pgrx in general. Some of these are in the API docs on https://docs.rs or the READMEs, but there's also a guide, now! It's not currently published, but is available as an [mdbook](https://github.com/rust-lang/mdBook) in the repo.\r\n\r\nSome diagnostic information that is also arguably documentation, like comments and the suggestion to `cargo install`, have also been improved, thanks to @workingjubilee in\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1579\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1573\r\n\r\n## `#[pg_cast]`\r\n\r\nAn experimental macro for a `CREATE CAST` was contributed by @xwkuang5 in https://github.com/pgcentralfoundation/pgrx/pull/1445!\r\n\r\n## Legal Stuff\r\n\r\nThanks to @the-kenny in https://github.com/pgcentralfoundation/pgrx/pull/1490 and @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1504, it was brought to our attention that some dependencies had unusual legal requirements. So we fixed this with CI! We now check our code included into pgrx-using binaries is MIT/Apache 2.0 licensed, as is common across crates.io, using `cargo deny`!. The build tools will have more flexible legal requirements (partly due to the use of Mozilla Public License code in rustls).\r\n\r\n# Internal Changes\r\nMany internal cleanups were done thanks to\r\n- @workingjubilee in too many PRs to count!\r\n- @thomcc found a needless condition in https://github.com/pgcentralfoundation/pgrx/pull/1501\r\n- @nyurik in too many PRs to count!\r\n\r\nIn particular:\r\n- we now actually `pfree` our `Array`s we detoasted as-of https://github.com/pgcentralfoundation/pgrx/pull/1571\r\n- creating a `RawArray` is now low-overhead due to https://github.com/pgcentralfoundation/pgrx/pull/1587\r\n\r\n## Soundness Fixes\r\nWe had a number of soundness issues uncovered or have added more tests to catch them.\r\n- Bounds-checking debug assertions for array access by @NotGyro in https://github.com/pgcentralfoundation/pgrx/pull/1514\r\n- Fix unsound `&` and `&mut` in `fcinfo.rs` by @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1595\r\n\r\n## Less Deps\r\nPart of the cleanup by @workingjubilee was reducing the number of deps we compile:\r\n* cargo-pgrx: reduce trivial dep usages in https://github.com/pgcentralfoundation/pgrx/pull/1499\r\n* Update 2 syn in https://github.com/pgcentralfoundation/pgrx/pull/1557\r\n\r\nHopefully it will reduce compile time and disk usage!\r\n\r\n## New Contributors\r\n* @the-kenny made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1490\r\n* @xwkuang5 made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1445\r\n* @rjuju made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1516\r\n* @nyurik made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1533\r\n* @NotGyro made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1514\r\n* @XeniaLu made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1275\r\n\r\n**Full Changelog**: https://github.com/pgcentralfoundation/pgrx/compare/v0.12.0-alpha.0...v0.12.0-alpha.1", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1596", "id": 2162414193, "node_id": "PR_kwDODaTcLs5oWy76", "number": 1596, "title": "Address pg16 rename of `*_tree_walker` fn", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-03-01T01:49:22Z", "updated_at": "2024-03-01T08:27:34Z", "closed_at": "2024-03-01T03:16:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1596", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1596", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1596.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1596.patch", "merged_at": "2024-03-01T03:16:09Z"}, "body": "These functions had been renamed in Postgres 16, and they are now fn macros. That means this `extern \"C\"` declaration is simply incorrect in Postgres 16. Implement a relatively logical version-by-version handling.\r\n\r\nFixes #1583.\r\n", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1596/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1595", "id": 2162154664, "node_id": "PR_kwDODaTcLs5oV6lM", "number": 1595, "title": "Fix unsound `&` and `&mut` in `fcinfo.rs`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-29T21:46:21Z", "updated_at": "2024-03-01T00:01:50Z", "closed_at": "2024-03-01T00:01:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1595", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1595", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1595.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1595.patch", "merged_at": "2024-03-01T00:01:46Z"}, "body": "There were many unsound details in the implementation of this code, like using `*mut T` and `&mut T` at the same time, creating slices using bindgen-provided code that is of dubious soundness, or taking `&mut [T]` to what should be `&mut [MaybeUninit<T>]`.\r\n\r\nThey have been fixed. The primary strategy used is to interact only with `*mut T` if there is any doubt, and to constrain `&mut` to very narrow scopes.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1595/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1594", "id": 2161982747, "node_id": "PR_kwDODaTcLs5oVUyL", "number": 1594, "title": "Remove `Interval::is_finite`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-29T19:47:04Z", "updated_at": "2024-02-29T20:20:10Z", "closed_at": "2024-02-29T20:20:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1594", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1594", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1594.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1594.patch", "merged_at": "2024-02-29T20:20:05Z"}, "body": "We do not need function calls to return `true`.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1591", "id": 2161665393, "node_id": "PR_kwDODaTcLs5oUO9Y", "number": 1591, "title": "Remove the `pg_sql_graph_magic!()` macro.", "user": {"login": "eeeebbbbrrrr", "id": 5117238, "node_id": "MDQ6VXNlcjUxMTcyMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5117238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eeeebbbbrrrr", "html_url": "https://github.com/eeeebbbbrrrr", "followers_url": "https://api.github.com/users/eeeebbbbrrrr/followers", "following_url": "https://api.github.com/users/eeeebbbbrrrr/following{/other_user}", "gists_url": "https://api.github.com/users/eeeebbbbrrrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/eeeebbbbrrrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eeeebbbbrrrr/subscriptions", "organizations_url": "https://api.github.com/users/eeeebbbbrrrr/orgs", "repos_url": "https://api.github.com/users/eeeebbbbrrrr/repos", "events_url": "https://api.github.com/users/eeeebbbbrrrr/events{/privacy}", "received_events_url": "https://api.github.com/users/eeeebbbbrrrr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-02-29T16:38:27Z", "updated_at": "2024-02-29T20:46:29Z", "closed_at": "2024-02-29T20:46:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1591", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1591", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1591.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1591.patch", "merged_at": "2024-02-29T20:46:29Z"}, "body": "The `pg_sql_graph_magic!()` did some shenanigans related to loading the extension \".control\" file at compile-time and embedded it in the compiled artifact.  This was convoluted and actually unnecessary as the location where that information was used (in `schema.rs`) can easily access the \".control\" file at runtime.\r\n\r\nThis PR removes that macro and its usages.\r\n\r\nThe `fn __pgrx__marker()` function is still required, however.  It's necessary to ensure that the `rustc` build we do for the `pgrx_embed` binary for schema generation properly links so that the other (dynamically referenced) `__pgrx_internals_XXX` symbols can be found.  The function, however, is now a noop.\r\n\r\nThis is related to #1546, but is not a solution.  It should just make solving that request easier.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1591/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1588", "id": 2153324141, "node_id": "PR_kwDODaTcLs5n3qiy", "number": 1588, "title": "Lock the install of cargo-deny", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-26T06:02:05Z", "updated_at": "2024-02-26T06:24:37Z", "closed_at": "2024-02-26T06:24:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1588", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1588", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1588.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1588.patch", "merged_at": "2024-02-26T06:24:34Z"}, "body": "For the same reasons that we normally recommend it: because it guarantees there's no breaking changes in the dependencies when the binary is installed.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1588/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1587", "id": 2153319070, "node_id": "PR_kwDODaTcLs5n3pcC", "number": 1587, "title": "Make `RawArray::from_ptr` a simple cast", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-02-26T05:57:36Z", "updated_at": "2024-02-27T22:57:07Z", "closed_at": "2024-02-27T22:57:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1587", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1587", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1587.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1587.patch", "merged_at": "2024-02-27T22:57:03Z"}, "body": "I have been working on the DetoastDatum implementation, and because our ArrayType wrappers happen to exercise a lot of parts of pgrx while being something I understand very well, I am aiming to ship its MVP with Yet Another improvement on `pgrx::datum::Array` that will be a model for future safe abstractions of Datum-derived types. This will involve quite a lot of work with RawArray and the code that is currently living next to RawArray, so I decided to factor that out, modularize the ported code, and overall just spruce things up a bit.\r\n\r\nAs part of that, this ports [`pg_sys::ArrayGetNItems`] to simply live inside the implementation of `RawArray::len`. This allows us to perform the calculation entirely in Rust, so there is now no more FFI overhead for creating a RawArray, and we can delete the `ARR_NELEMS` port. This also means we can simply stop caching the total element count, as we aren't saving enough math to be worth it. Now casting to RawArray from a simple reference or other raw pointer is a zero-overhead pointer cast, allowing reusing its already-defined accessors without incurring needless math or calls to Postgres.\r\n\r\n[`pg_sys::ArrayGetNItems`]: https://github.com/postgres/postgres/blob/6979ea2638a51c40acf6d04b816550b2c35b3e55/src/backend/utils/adt/arrayutils.c#L46-L102", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1587/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1584", "id": 2151815611, "node_id": "PR_kwDODaTcLs5ny3U0", "number": 1584, "title": "VARHDRSZ `const`s are not `fn`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-23T21:16:20Z", "updated_at": "2024-02-23T22:43:19Z", "closed_at": "2024-02-23T22:43:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1584", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1584", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1584.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1584.patch", "merged_at": "2024-02-23T22:43:14Z"}, "body": "These were defined as functions at a time, I presume, that the `offset_of!` macro we use was a bit less reliable at compile time? That's long since not been the case anymore, if ever. Redefine them as constants.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1584/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1579", "id": 2148030013, "node_id": "PR_kwDODaTcLs5nl4AS", "number": 1579, "title": "Suggest `cargo install` on pgrx version mismatch diagnostic", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-22T02:00:29Z", "updated_at": "2024-02-22T02:51:20Z", "closed_at": "2024-02-22T02:51:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1579", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1579", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1579.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1579.patch", "merged_at": "2024-02-22T02:51:17Z"}, "body": "Resolves https://github.com/pgcentralfoundation/pgrx/issues/1444", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1579/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1576", "id": 2147954688, "node_id": "PR_kwDODaTcLs5nln4a", "number": 1576, "title": "Move `#[pg_cast]` test from ui to compile-fail", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-22T00:42:50Z", "updated_at": "2024-02-22T02:50:59Z", "closed_at": "2024-02-22T02:50:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1576", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1576", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1576.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1576.patch", "merged_at": "2024-02-22T02:50:56Z"}, "body": "This makes it actually get tested now.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1576/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1575", "id": 2147952973, "node_id": "PR_kwDODaTcLs5nlnhP", "number": 1575, "title": "Give `WithTypeIds` its own module", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-22T00:40:47Z", "updated_at": "2024-02-22T17:15:39Z", "closed_at": "2024-02-22T17:15:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1575", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1575", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1575.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1575.patch", "merged_at": "2024-02-22T17:15:36Z"}, "body": "All of this code is intimately related and clearly not part of all Datum usage. Put it in its own module. Also, hide the ~~bodies~~ ~~evidence~~ assertions which are only for private doctest purposes about unstable API details. :^)", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1575/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1573", "id": 2147739337, "node_id": "PR_kwDODaTcLs5nk5kV", "number": 1573, "title": "Add a comment to doc bindings", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-21T21:25:46Z", "updated_at": "2024-02-22T18:22:50Z", "closed_at": "2024-02-22T18:22:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1573", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1573", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1573.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1573.patch", "merged_at": "2024-02-22T18:22:47Z"}, "body": "People often ask questions about these bindings, but unfortunately they are not always relevant. They skip past the somewhat-confusing contents of the include.rs file that manages the cfg here. Explain that these are doc-only bindings.\r\n\r\nResolves #1553.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1573/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1571", "id": 2147294100, "node_id": "PR_kwDODaTcLs5njWhF", "number": 1571, "title": "pfree toasted Arrays on drop", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-02-21T17:21:00Z", "updated_at": "2024-02-21T18:42:52Z", "closed_at": "2024-02-21T18:42:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1571", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1571", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1571.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1571.patch", "merged_at": "2024-02-21T18:42:40Z"}, "body": "For tables with many rows, or that include enough large arrays, being unable to pfree the entire array can cause needless memory pressure. As pgrx used to not bind objects to the lifetime of backing arrays, the assigned lifetime of any 'obj could exceed `&'arr Array<'_, T>`. This rendered any Drop implementation for Array or any of its parts unsound. The references, expecting to be valid for the underlying 'mcx or even longer, would yield clobbered memory when actually examined.\r\n\r\nThis has finally become untrue with the introduction of UnboxDatum. It has an `unsafe trait` obligation that the implementation not allow lifetimes to exceed the Datum's lifetime except if the data is always inherently 'static or Copy. This allows deallocating detoasted items, as Arrays now only yield an object of an appropriate lifetime. It is possible for us to get this wrong, but only by implementing UnboxDatum in an incorrect, unsound way, so the fix would be to that code instead.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1571/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1570", "id": 2145277318, "node_id": "PR_kwDODaTcLs5ncYyi", "number": 1570, "title": "Accept `#[pg_test(expected = \"string\")]`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-20T21:03:53Z", "updated_at": "2024-02-21T09:55:19Z", "closed_at": "2024-02-20T22:02:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1570", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1570", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1570.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1570.patch", "merged_at": "2024-02-20T22:02:12Z"}, "body": "It's not obvious why we accept the form we currently do, but we can at least accept the other string people might be motivated to try. We already accept this, too:\r\n```rust\r\n#[pg_test]\r\n#[should_panic(expected = \"string\")]\r\nfn test() {\r\n```\r\n\r\n- changes `{Attribute,ExternArgs}::Error` to `::ShouldPanic`\r\n- adds docs to `#[pg_test]` regarding composing attributes\r\n- accepts `expected` as well as `error` for the relevant attribute", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1570/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1569", "id": 2145201462, "node_id": "PR_kwDODaTcLs5ncIHe", "number": 1569, "title": "Add \"installation\" section to docs", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-02-20T20:20:48Z", "updated_at": "2024-02-20T21:10:48Z", "closed_at": "2024-02-20T21:10:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1569", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1569", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1569.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1569.patch", "merged_at": "2024-02-20T21:10:31Z"}, "body": "This addresses a few questions that keep coming up.\r\n\r\nResolves https://github.com/pgcentralfoundation/pgrx/issues/1538\r\n\r\nAlso quite a bit of rearrangement was done while I was thinking about this, because our documentation is a bit hard to navigate even if you build it, as it relies on the summary bar to the left instead of being navigable via in-doc hyperlinks. This makes it easy to forget where you are supposed to be going if you are referencing the Markdown itself.\r\n\r\nI focused on trying to make it so the SUMMARY.md can be repeated... copy-pasted, really... into each section for the relevant parts.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1569/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1568", "id": 2145025695, "node_id": "PR_kwDODaTcLs5nbh01", "number": 1568, "title": "Rename `ErrorReportable::report()` to `unwrap_or_report()`", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}, {"id": 5940404717, "node_id": "LA_kwDODaTcLs8AAAABYhNh7Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/relnotes", "name": "relnotes", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-20T18:29:22Z", "updated_at": "2024-02-20T19:37:11Z", "closed_at": "2024-02-20T19:37:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1568", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1568", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1568.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1568.patch", "merged_at": "2024-02-20T19:37:11Z"}, "body": "As noted in #1561, `pgrx::pg_sys::panics::ErrorReportable::report()` is named identically to `std::process::Termination::report()`, and they are both traits that are implemented on `Result<T, E>` so if you import both traits you'll have a name collision. Aside from the name collision, it's very easy to see `.report()` called on a `Result` type and make the incorrect assumption this is the `Termination` trait when one is unfamiliar with PGRX's codebase.\r\n\r\nTo avoid ambiguity, this set of changes renames that method to `unwrap_or_report()`, and is intended to be included in the set of breaking changes for 0.12.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1567", "id": 2143156812, "node_id": "PR_kwDODaTcLs5nVJL5", "number": 1567, "title": "Cleanup List impl", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-19T21:18:59Z", "updated_at": "2024-02-29T04:07:02Z", "closed_at": "2024-02-20T00:15:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1567", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1567", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1567.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1567.patch", "merged_at": "2024-02-20T00:15:53Z"}, "body": "I noticed there was some garbage floating around the List impl, like unnecessary `unsafe` code, so I cleaned that up. Also, adds some warnings because people sometimes do not think clearly about pointers.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1567/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1564", "id": 2142860102, "node_id": "PR_kwDODaTcLs5nUIyz", "number": 1564, "title": "Give CI a makeover", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-02-19T17:26:23Z", "updated_at": "2024-02-19T20:26:18Z", "closed_at": "2024-02-19T20:19:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1564", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1564", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1564.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1564.patch", "merged_at": "2024-02-19T20:19:23Z"}, "body": "Various fixups to our CI infra\r\n- fix \"Will It Blend?\" to use the free CI\r\n- enable the beta aarch64-darwin jobs\r\n- split out lints that don't need `cargo pgrx init` into a lintck job\r\n- make most jobs depend on lintck passing\r\n- use `{checkout,cache}@v4` to avoid deprecation\r\n- update the nix CI template", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1564/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1563", "id": 2142796043, "node_id": "PR_kwDODaTcLs5nT6qz", "number": 1563, "title": "Try to reenable workflows using ubuntu-latest", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-19T16:49:26Z", "updated_at": "2024-02-19T17:12:11Z", "closed_at": "2024-02-19T17:11:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1563", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1563", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1563.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1563.patch", "merged_at": "2024-02-19T17:11:15Z"}, "body": "Also reduces Will It Blend frequency again to once per week. This will make bisecting the subtly breaking changes harder, but we only benefit from running it about 2 or 3 times per week, anyways, as we often have a day I don't merge anything.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1562", "id": 2139979215, "node_id": "PR_kwDODaTcLs5nKTz8", "number": 1562, "title": "add bindings of subscript function", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-02-17T11:21:50Z", "updated_at": "2024-02-19T20:26:04Z", "closed_at": "2024-02-19T20:25:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1562", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1562", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1562.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1562.patch", "merged_at": "2024-02-19T20:25:51Z"}, "body": "Add bindings of supporting subscript access for user-defined types, eg. `udf_type_value[1]`. It's supported since PostgreSQL 14.\r\n\r\nRef: https://www.postgresql.org/docs/current/sql-createtype.html\r\n\r\n> The optional `subscript_function` allows the data type to be subscripted in SQL commands. Specifying this function does not cause the type to be considered a \u201ctrue\u201d array type; for example, it will not be a candidate for the result type of `ARRAY[]` constructs. But if subscripting a value of the type is a natural notation for extracting data from it, then a `subscript_function` can be written to define what that means. The subscript function must be declared to take a single argument of type `internal`, and return an `internal` result, which is a pointer to a struct of methods (functions) that implement subscripting. The detailed API for subscript functions appears in src/include/nodes/subscripting.h. It may also be useful to read the array implementation in src/backend/utils/adt/arraysubs.c, or the simpler code in contrib/hstore/hstore_subs.c. Additional information appears in [Array Types] below.\r\n\r\n[Array Types]: https://www.postgresql.org/docs/current/sql-createtype.html#SQL-CREATETYPE-ARRAY", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1562/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1560", "id": 2139754743, "node_id": "PR_kwDODaTcLs5nJjv4", "number": 1560, "title": "Composite type result", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-02-17T02:31:24Z", "updated_at": "2024-02-19T23:03:19Z", "closed_at": "2024-02-19T23:03:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1560", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1560", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1560.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1560.patch", "merged_at": "2024-02-19T23:03:19Z"}, "body": "This set of changes allows `#[pg-extern]` functions to return `Result<composite_type!(..), E>`. To get it working, I've added another type-specific case to match statements in `UsedType::new()`. That case then calls `fn resolve_result_inner()`, which I wrote for this purpose.\r\n\r\nThis is intended to resolve #1470.\r\n\r\n### Future work \r\n\r\n* Although I've tested this behavior by hand and confirmed it's working correctly, I haven't yet written a test case for this code path. If you'd prefer me to put that in *this* PR, request changes and I'll take care of it. Otherwise, I'll open an issue for it shortly.\r\n* #1561 : While working on this implementation, I ran into a naming ambiguity. Specifically, `pgrx::pg_sys::panics::ErrorReportable::report()` looks an awful lot like `std::process::Termination::report()`, and they are both traits that are implemented on `Result<T, E>` so if  you import both traits you'll have a name collision. I spoke to @workingjubilee about this and she agreed it should be renamed to `unwrap_or_report()` as part of the breaking changes in `0.12`. \r\n\r\n### A note on something esoteric\r\nA note on something that was difficult to dig up answers to: Some concerns surrounding correctness jumped out at me while I was looking at macro expansions for this pull request. In the generated `UsedTypeEntity`, `ty_source` and `full_path` were definitely correct, but for a `Result<T, E>` the ty_id is `core::any::TypeId::of<T>`, whereas for `Option<T>` the macro expands to `core::any::TypeId::of<Option<T>>`.  I asked around, and after some thinking on the part of our senior engineers it looks like this is actually correct. This type information is used to communicate to Postgres, and while `Option<T>` is used as the Rust equivalent to translate to and from nullable Postgres types, so the Option behavior is special, whereas Postgres doesn't have a concept of a Result type and so translating `Result<T>` will either give Postgres an instance of `T` or an exit code and an error message. \r\n\r\nI just thought I'd clarify that to make sure my reasoning on the correctness of this code is written down. ", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1560/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557", "id": 2132898173, "node_id": "PR_kwDODaTcLs5myHL9", "number": 1557, "title": "Update 2 syn", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-13T18:14:07Z", "updated_at": "2024-02-14T00:01:47Z", "closed_at": "2024-02-14T00:01:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1557", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557.patch", "merged_at": "2024-02-14T00:01:47Z"}, "body": "We have not been receiving updates to syn for a while, because we are on syn 1 still. Update to syn 2 and lift it into the workspace, which requires revamping how several `proc_macro_attribute`s are parsed. In the process, sprinkle pgrx-sql-entity-graph with paranoid amounts of `track_caller`, expects, and compound errors on the unhappy path, to try to make the code start producing useful error spans.\r\n\r\nThen also drop unused features from some of our dependencies to completely erase syn 1 from the dependency tree. We don't meddle with any compressible sections, because we just look at exported symbols, not debuginfo, so I believe this is inconsequential. It's acceptable to revert that part of this change, however, if it doesn't actually work out.\r\n\r\nRemoves 4 crates from the dependency tree\r\n\r\nThe syn changes include:\r\n- `syn::LifetimeDef` is now `LifetimeParam`\r\n- `syn::ImplItem::Method` is now `syn::ImplItem::Fn`\r\n- `syn::ImplItemMethod` is now `syn::ImplItemFn`\r\n- Type ascription && `syn::Expr::Type` no longer exist\r\n- `syn::MetaNameValue` replaces its `lit` field with `value`, as it accepts non-literals\r\n- `syn::GenericArgument::Binding` is now `GenericArgument::AssocType`\r\n- `syn::Attribute` hid its `path` field as `.path()`\r\n- `syn::Attribute` hid its `token` field, so there is only `ToTokens`\r\n- `syn::Attribute` changed how it structures access to its args. We now parse inner args of a `syn::Attribute` for our proc-macro attributes like `#[pg_operator]`, without considering parentheses.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1556", "id": 2131262150, "node_id": "PR_kwDODaTcLs5msjTM", "number": 1556, "title": "Make a non-example not a doctest", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-13T00:55:07Z", "updated_at": "2024-02-13T01:54:25Z", "closed_at": "2024-02-13T01:10:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1556", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1556", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1556.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1556.patch", "merged_at": "2024-02-13T01:10:25Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1555", "id": 2131183598, "node_id": "PR_kwDODaTcLs5msSAR", "number": 1555, "title": "Remove unused `#[pgrx(..)]` support", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-12T23:41:23Z", "updated_at": "2024-02-13T00:12:38Z", "closed_at": "2024-02-13T00:12:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1555", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1555", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1555.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1555.patch", "merged_at": "2024-02-13T00:12:34Z"}, "body": "The support for this attribute in other cases, with other styles of arg, was never fully implemented. It seems `#[pg_aggregate]` handles the only case of this happening in the codebase on its own? The `#[pgrx(name = val)]` style is the only case actually handled by this code.\r\n\r\nRemove unused code as it complicates debugging and updating the rest, especially with the lack of testing for its cases. Also touch everything with Debug implementations, so that will be easier in the future.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1547", "id": 2127781378, "node_id": "PR_kwDODaTcLs5mg__G", "number": 1547, "title": "Switch to `ManuallyDropUnion`", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-09T20:07:37Z", "updated_at": "2024-02-10T00:48:20Z", "closed_at": "2024-02-10T00:48:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1547", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1547", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1547.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1547.patch", "merged_at": "2024-02-10T00:48:19Z"}, "body": "Out of the available methods of wrapping C unions in Bindgen, `__BindgenUnionField` generates code with questionable correctness. This was spotted by @workingjubilee in #1465. This pull request adds a `.default_non_copy_union_style(NonCopyUnionStyle::ManuallyDrop)` line to `pgrx-pg-sys`'s `build.rs`. Since the semantics around these types are different, I have also changed some methods to work with the new type signature (particularly `set_varsize_4b()`).", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1547/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1544", "id": 2126151036, "node_id": "PR_kwDODaTcLs5mbdVZ", "number": 1544, "title": "Remove unnecessary nightly hack", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-08T22:10:16Z", "updated_at": "2024-02-09T00:34:13Z", "closed_at": "2024-02-09T00:33:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1544", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1544", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1544.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1544.patch", "merged_at": "2024-02-09T00:33:58Z"}, "body": "cc @NotGyro\r\n\r\nIt was done to suppress the `unstable_name_collisions` lint, which was independently fixed in 69e9b5b and 3e4b188. Propagate Thom's fix to remove this foolishness once and for all.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1544/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1537", "id": 2120002182, "node_id": "PR_kwDODaTcLs5mGgpJ", "number": 1537, "title": "docs: improve quotations", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-06T05:38:42Z", "updated_at": "2024-02-06T19:46:42Z", "closed_at": "2024-02-06T19:45:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1537", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1537", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1537.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1537.patch", "merged_at": "2024-02-06T19:45:47Z"}, "body": "Several quotations needed improvement. One quote was not a quote. Another needed a citation. For the remainder, the `text` code block does not format very well for free-flow text. Quotes should use `> ...` instead.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1537/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533", "id": 2119621400, "node_id": "PR_kwDODaTcLs5mFNw5", "number": 1533, "title": "Simplify errors with thiserror", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-05T23:02:14Z", "updated_at": "2024-02-06T01:06:08Z", "closed_at": "2024-02-06T00:57:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1533", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533.patch", "merged_at": "2024-02-06T00:57:57Z"}, "body": "Thiserror is far better for most of these, and reduces accidental bugs / mismatches with descriptions.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1532", "id": 2119573439, "node_id": "PR_kwDODaTcLs5mFDEC", "number": 1532, "title": "macros: inline `format_args!` idents", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-05T22:25:57Z", "updated_at": "2024-02-07T03:20:03Z", "closed_at": "2024-02-07T03:15:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1532", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1532", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1532.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1532.patch", "merged_at": "2024-02-07T03:15:18Z"}, "body": "Per https://github.com/pgcentralfoundation/pgrx/pull/1517#issuecomment-1925899219 consolidate all macros-related PRs", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1532/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531", "id": 2119572242, "node_id": "PR_kwDODaTcLs5mFCyq", "number": 1531, "title": "lib: inline `format_args!` idents", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-05T22:25:12Z", "updated_at": "2024-02-07T03:20:16Z", "closed_at": "2024-02-07T03:14:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1531", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531.patch", "merged_at": "2024-02-07T03:14:30Z"}, "body": "Per https://github.com/pgcentralfoundation/pgrx/pull/1517#issuecomment-1925899219 consolidate all lib-related PRs", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1530", "id": 2119571654, "node_id": "PR_kwDODaTcLs5mFCp-", "number": 1530, "title": "Inline - build", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-05T22:24:50Z", "updated_at": "2024-02-06T20:13:42Z", "closed_at": "2024-02-06T20:07:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1530", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1530", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1530.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1530.patch", "merged_at": "2024-02-06T20:07:07Z"}, "body": "Per https://github.com/pgcentralfoundation/pgrx/pull/1517#issuecomment-1925899219 consolidate all build-related PRs", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1530/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1529", "id": 2119570803, "node_id": "PR_kwDODaTcLs5mFCdZ", "number": 1529, "title": "Inline - tests", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-05T22:24:19Z", "updated_at": "2024-02-06T20:13:31Z", "closed_at": "2024-02-06T20:07:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1529", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1529", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1529.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1529.patch", "merged_at": "2024-02-06T20:07:55Z"}, "body": "Per https://github.com/pgcentralfoundation/pgrx/pull/1517#issuecomment-1925899219 consolidate all tests-related PRs", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1529/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1528", "id": 2119477130, "node_id": "PR_kwDODaTcLs5mEtvB", "number": 1528, "title": "Clean up library with `is_non_null`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-02-05T21:21:37Z", "updated_at": "2024-02-05T22:29:58Z", "closed_at": "2024-02-05T22:29:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1528", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1528", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1528.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1528.patch", "merged_at": "2024-02-05T22:29:53Z"}, "body": "This adds `PointerExt::is_non_null` and cleans up some of the list code. I am told this is more readable?", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1528/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1527", "id": 2119461824, "node_id": "PR_kwDODaTcLs5mEqVe", "number": 1527, "title": "Allow pgrx to be slightly messy", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-05T21:10:35Z", "updated_at": "2024-02-05T22:34:17Z", "closed_at": "2024-02-05T22:34:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1527", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1527", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1527.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1527.patch", "merged_at": "2024-02-05T22:34:14Z"}, "body": "As noted in #1517 there are many distractions in this repo due to some people using cargo clippy or other lints. For some of them, I do not intend to fix them, or intentionally am deferring fixing the lint (because the lint is triggering due to a genuine problem, and the genuine problem should be fixed, instead of the smaller change for \"fixing the lint\").", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1527/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523", "id": 2116969584, "node_id": "PR_kwDODaTcLs5l8MJd", "number": 1523, "title": "chore: lots of lints and fixes", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-02-04T09:08:28Z", "updated_at": "2024-02-07T23:09:48Z", "closed_at": "2024-02-07T23:05:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1523", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523.patch", "merged_at": "2024-02-07T23:05:01Z"}, "body": "* it is an anti-pattern for a fn to take a reference, and clone it right away.  If a fn needs to own a value, a value ownership should be passed in, not cloned inside the fn.  This way the caller can decide to clone something, or to pass it in as is\r\n* use `&Path` instead of `&PathBuf` (same as &str instead of &String)\r\n* use `.cmp` for comparison\r\n* some spelling\r\n* lots of `match` statements can be simplified\r\n* use `.is_null()` instead of comparing with the null ptr\r\n* do not impl `ToString` trait, use `Display` instead, and get ToString for free - perf gain too.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1516", "id": 2116128188, "node_id": "PR_kwDODaTcLs5l5Yd8", "number": 1516, "title": "Fix the pgrx links in the aggregate article.", "user": {"login": "rjuju", "id": 1608890, "node_id": "MDQ6VXNlcjE2MDg4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1608890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjuju", "html_url": "https://github.com/rjuju", "followers_url": "https://api.github.com/users/rjuju/followers", "following_url": "https://api.github.com/users/rjuju/following{/other_user}", "gists_url": "https://api.github.com/users/rjuju/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjuju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjuju/subscriptions", "organizations_url": "https://api.github.com/users/rjuju/orgs", "repos_url": "https://api.github.com/users/rjuju/repos", "events_url": "https://api.github.com/users/rjuju/events{/privacy}", "received_events_url": "https://api.github.com/users/rjuju/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-02-03T02:22:16Z", "updated_at": "2024-02-03T10:34:28Z", "closed_at": "2024-02-03T03:23:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1516", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1516", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1516.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1516.patch", "merged_at": "2024-02-03T03:23:49Z"}, "body": "The links were explicitly referencing the then new version 0.3.0 but this version isn't available anymore on docs.rs, so use the \"latest\" version instead.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1516/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1515", "id": 2116001576, "node_id": "PR_kwDODaTcLs5l48z3", "number": 1515, "title": "Add how-to for installing on macOS", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-02-02T23:42:28Z", "updated_at": "2024-02-03T00:35:49Z", "closed_at": "2024-02-03T00:35:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1515", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1515", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1515.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1515.patch", "merged_at": "2024-02-03T00:35:44Z"}, "body": "The errors emitted during build for the pkg-config problem, in particular, can be a bit cryptic and misleading (pointing to icu4c instead), so suggest people use brew to install the relevant packages. Fixes https://github.com/pgcentralfoundation/pgrx/issues/1434\r\n\r\nCo-authored-by: @notgyro", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1515/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1514", "id": 2115955967, "node_id": "PR_kwDODaTcLs5l4ynR", "number": 1514, "title": "Bounds-checking debug assertions for array access", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-02-02T22:53:36Z", "updated_at": "2024-03-26T01:46:35Z", "closed_at": "2024-02-06T23:25:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1514", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1514", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1514.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1514.patch", "merged_at": "2024-02-06T23:25:12Z"}, "body": "This introduces several `debug_assert!()` calls around any attempt to dereference an element in a Postgres array, in order to catch memory bugs. It was written to resolve pgcentralfoundation/pgrx#1195. \r\n\r\nIf RawArray's `end_ptr()` ever pointed at something other than one byte past the end of the array's buffer, this might fail to catch memory bugs. However, it should be pointing to the end of the ArrayType's varlena, which includes the ArrayType header, its null bitmap, and its data, so this should work.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1514/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1513", "id": 2115942358, "node_id": "PR_kwDODaTcLs5l4vb_", "number": 1513, "title": "Document we compile Postgres with assertions", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-02T22:46:19Z", "updated_at": "2024-02-02T23:48:47Z", "closed_at": "2024-02-02T23:48:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1513", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1513", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1513.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1513.patch", "merged_at": "2024-02-02T23:48:43Z"}, "body": "From the conversation with @rjuju in pgcentralfoundation/pgrx#1511. We did not document how we compile Postgres, which results in some confusion when people expect to need to have to go to additional trouble to test against a Postgres with debug symbols and assertions. Let's write that down.\r\n\r\nAs a matter of spring cleaning, this includes some tangential fixups that crossed my eyes as I rebuilt the docs, and some tangential clarification of the rationales for cargo-pgrx's behavior.\r\n\r\nAre there any other advisories regarding using cargo-pgrx (as it currently stands now) that I am missing? Perhaps I could explain the full \"override `${PGRX_HOME}` to switch which set of Postgreses you are using\" strategy, though I don't do that often enough, so my explanation might be confusing.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1513/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1512", "id": 2115838170, "node_id": "PR_kwDODaTcLs5l4Xuw", "number": 1512, "title": "Document detoasting reqs for RawArray", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-02T21:35:55Z", "updated_at": "2024-02-02T21:44:22Z", "closed_at": "2024-02-02T21:44:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1512", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1512", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1512.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1512.patch", "merged_at": "2024-02-02T21:44:19Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1512/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "id": 2108865504, "node_id": "PR_kwDODaTcLs5lgW_d", "number": 1504, "title": "Add license check", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-30T22:04:14Z", "updated_at": "2024-01-31T20:59:17Z", "closed_at": "2024-01-31T19:25:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.patch", "merged_at": "2024-01-31T19:25:15Z"}, "body": "This uses an allow list, mostly-duplicates the deny.toml, and runs a simple shell script instead of using the action, so that the pgrx library can have an independently tracked set of licenses. This is done because the dependencies of that are liable to be actually linked into extensions as dynamic libraries.\r\n\r\nIn order to let the deny.toml have accurate reporting, the example extension crates are marked as being unpublished. I also tweaked the version on them because I didn't care about the version field in my regex-replace.\r\n\r\nCloses #1502.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1503", "id": 2106492578, "node_id": "PR_kwDODaTcLs5lYSoa", "number": 1503, "title": "Remove flaky `serde_serialize_array` todo test", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-29T21:45:43Z", "updated_at": "2024-01-29T22:11:26Z", "closed_at": "2024-01-29T22:11:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1503", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1503", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1503.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1503.patch", "merged_at": "2024-01-29T22:11:23Z"}, "body": "This test emits a dependency's source code path in the snapshot, which makes it prone to breaking inaccurately because that is versioned. This complicates contributions unduly, so remove it.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1503/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1501", "id": 2103865294, "node_id": "PR_kwDODaTcLs5lPblV", "number": 1501, "title": "Simplify color-eyre initialization", "user": {"login": "thomcc", "id": 860665, "node_id": "MDQ6VXNlcjg2MDY2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/860665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomcc", "html_url": "https://github.com/thomcc", "followers_url": "https://api.github.com/users/thomcc/followers", "following_url": "https://api.github.com/users/thomcc/following{/other_user}", "gists_url": "https://api.github.com/users/thomcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomcc/subscriptions", "organizations_url": "https://api.github.com/users/thomcc/orgs", "repos_url": "https://api.github.com/users/thomcc/repos", "events_url": "https://api.github.com/users/thomcc/events{/privacy}", "received_events_url": "https://api.github.com/users/thomcc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-27T23:35:44Z", "updated_at": "2024-01-28T00:58:28Z", "closed_at": "2024-01-28T00:58:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1501", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1501", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1501.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1501.patch", "merged_at": "2024-01-28T00:58:28Z"}, "body": "I mentioned that the bool was flipped here: https://github.com/pgcentralfoundation/pgrx/pull/1494#discussion_r1468206496\r\n\r\nBut it turns out Theme::new() and Theme::default() are the same anyway https://docs.rs/color-eyre/latest/src/color_eyre/config.rs.html#84-86, so the branch can be removed.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1501/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499", "id": 2103026944, "node_id": "PR_kwDODaTcLs5lM9tT", "number": 1499, "title": "cargo-pgrx: reduce trivial dep usages", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-01-26T22:55:32Z", "updated_at": "2024-02-12T04:16:40Z", "closed_at": "2024-02-07T22:58:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1499", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499.patch", "merged_at": "2024-02-07T22:58:29Z"}, "body": "I noticed #1468 would allow us to also remove a dependency or two from cargo-pgrx, so I started work by removing `once_cell` from it and a few other spots in our tree, although we use it so pervasively it's not realistic to remove it entirely. It was actually secretly in our public API, behind a `#[doc(hidden)]`, for some reason.\r\n\r\nI then noticed a bunch of other easy removals from cargo-pgrx. In particular:\r\n- `serde_derive` should not be used directly\r\n- flate2, prettyplease, syn, and unescape are not directly used anymore\r\n- the nix crate maintenance has gotten better, but it feels like a big dep for a bool\r\n", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498", "id": 2102967239, "node_id": "PR_kwDODaTcLs5lMwW_", "number": 1498, "title": "Use workspace dependencies", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-26T22:06:25Z", "updated_at": "2024-01-27T01:08:08Z", "closed_at": "2024-01-27T01:06:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1498", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498.patch", "merged_at": "2024-01-27T01:06:32Z"}, "body": "This converts a number of dependencies to workspace dependencies so that they share a version, and does a bit of spring cleaning on the way things are organized. Some things that have complications due to features + default-features, or that I wish to remove without replacement, were not hoisted.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497", "id": 2099435294, "node_id": "PR_kwDODaTcLs5lA893", "number": 1497, "title": "Update pgrx to 0.12.0-alpha.0", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T02:16:47Z", "updated_at": "2024-01-25T20:54:36Z", "closed_at": "2024-01-25T20:54:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1497", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497.patch", "merged_at": "2024-01-25T20:54:30Z"}, "body": "Hello and welcome to The Beginning of The End!\r\n\r\nYou may have seen some largely-inscrutable rambling about \"object lifetimes\" and \"memory contexts\" from me in various comments, logs, and issues. You may have also heard that this has effectively stalled all forward feature work. You may have noticed this has been the case for months now.\r\n\r\nThe long and short of it is that pgrx never actually fully built-in the actual lifetimes of objects in Postgres into its various types. As more and more interlocking parts grew, between things like the type unboxing in `trait FromDatum`, or the bounded memory context of `Spi::connect`, eventually many supposedly-safe interfaces arose which proved wildly unsafe in reality due to this mesh of interactions. Internal portions of pgrx relied on expeditious hacks to ignore the growing problems, until this rotten foundation yielded an enormous crop of soundness issues over the year of 2023. Even when not exploitable, they prevent otherwise-trivial enhancements in terms of speed or memory usage.\r\n\r\nKey elements of a new foundation have landed in pgrx, which allow ascribing lifetimes to every datum and every memory context that a Postgres extension will encounter. There is much more work to be done to actually make it so all Rust code has to flow through these new interfaces. This alpha release is an extremely \"preview\" release to allow assessing some of the damage from the first set of breaking changes, so that some initial feedback and triage can occur. There will, unfortunately, be more breaking changes on the horizon.\r\n\r\n## Many Macros Expand Subtly Differently\r\n\r\nIf your extension now breaks in some inscrutable way that you cannot otherwise discern, the problem is probably hidden in macro expansion. This cannot really be diagnosed except using `cargo expand` diffed against previous expansions. A most likely issue is that something that previously hid a lifetime during expansion or writes it as 'static now propagates it by name or as the anonymous '_ lifetime.\r\n\r\n## `Datum<'src>`\r\n\r\nThere are now lifetime-bound Datums. Expect to see them in more places.\r\n\r\n## `UnboxDatum<As<'src> = Type<'src>>`\r\n\r\nExpect to see this or a similar signature a lot: there are new conversion traits which use a generic associated type or similar sneaky tactics to allow \"clamping down\" the lifetime to a bound, unless the produced type is always 'static by being a simple value like `i32`.\r\n\r\n## `&'mcx MemCx<'_>`\r\n\r\nYou will see more and more references to this type, which is a memory context that encodes an inner invariant lifetime, in signatures. If one of these is currently in-scope, then please remember it is always `unsafe` to manipulate the `static mut CurrentMemoryContext` in Postgres, but it is doubly so then. In general, when designing your own types using pgrx, you should prefer designing code that uses a signature like that of `MemoryContextAlloc` instead of `palloc` if you are at all uncertain.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496", "id": 2099434656, "node_id": "PR_kwDODaTcLs5lA81S", "number": 1496, "title": "Prepare pgrx 0.11.3", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T02:15:55Z", "updated_at": "2024-01-26T18:39:02Z", "closed_at": "2024-01-25T20:45:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1496", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496.patch", "merged_at": "2024-01-25T20:45:47Z"}, "body": "The pgrx 0.11.3 release addresses a few UB risks in pgrx, updates its dependencies on many points, and includes many additional headers. It should also now be easier to use cargo-pgrx on more-complicated network configurations.\r\n\r\n## New Bindings!\r\n\r\nNew bindings added thanks to\r\n- @burmecia in https://github.com/pgcentralfoundation/pgrx/pull/1432\r\n- @daamien in\r\n  - https://github.com/pgcentralfoundation/pgrx/pull/1431\r\n  - https://github.com/pgcentralfoundation/pgrx/pull/1485\r\n- @rebasedming in https://github.com/pgcentralfoundation/pgrx/pull/1486\r\n- @usamoi in https://github.com/pgcentralfoundation/pgrx/pull/1436\r\n- @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1453\r\n\r\n## \"...wait, that's UB?\"\r\n\r\nTwo UB fixes!\r\n- Thanks to @Lokathor in https://github.com/pgcentralfoundation/pgrx/pull/1443\r\n- Thanks to @usamoi in https://github.com/pgcentralfoundation/pgrx/pull/1466\r\n\r\n## Ergonomics\r\n\r\n- A better `ereport!` macro in https://github.com/pgcentralfoundation/pgrx/pull/1472\r\n\r\n## Less transport-level security problems in cargo-pgrx\r\n\r\n- We no longer secretly require rustls! Thanks to @jirutka in https://github.com/pgcentralfoundation/pgrx/pull/1448\r\n- We now use native certs if possible, even with rustls, since https://github.com/pgcentralfoundation/pgrx/pull/1449\r\n\r\nTogether these should mean it's possible to actually use cargo-pgrx on whatever your network configuration is, but you might have to use `cargo install --no-default-features --features native-tls` to install with native-tls (which, on Linux, means OpenSSL). By default, you will use rustls.\r\n\r\n## Many dependency updates\r\n\r\nThese address some largely-hypothetical security risks, but one is particularly important: the bindgen update means we now should be compatible with some aarch64 builds that might have failed.\r\n\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1492\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1493\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1494", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495", "id": 2099397282, "node_id": "PR_kwDODaTcLs5lA1AG", "number": 1495, "title": "Use heapless 0.8", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-25T01:26:42Z", "updated_at": "2024-01-25T18:43:22Z", "closed_at": "2024-01-25T01:57:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1495", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495.patch", "merged_at": "2024-01-25T01:57:56Z"}, "body": "Note this is an API break for users of heapless because we expose this in our own public API and they need to match the types and such. We should probably constrain this problem more by reexporting the relevant crates, so pgrx's users can simply use the reexported types and traits.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494", "id": 2099363318, "node_id": "PR_kwDODaTcLs5lAtyn", "number": 1494, "title": "Remove atty", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T00:43:18Z", "updated_at": "2024-01-28T00:46:10Z", "closed_at": "2024-01-25T01:10:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1494", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494.patch", "merged_at": "2024-01-25T01:10:21Z"}, "body": "Requires tweaking owo-color features to reduce exposure via transitive deps.\r\n\r\nAddresses a security alert that essentially doesn't apply to pgrx due to being Windows-only, but still annoys me to have on my dashboard.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493", "id": 2099319664, "node_id": "PR_kwDODaTcLs5lAkXN", "number": 1493, "title": "Bump shlex 1.3 to reduce escaping concerns", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-24T23:54:31Z", "updated_at": "2024-01-25T00:27:58Z", "closed_at": "2024-01-25T00:27:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1493", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493.patch", "merged_at": "2024-01-25T00:27:58Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492", "id": 2099277115, "node_id": "PR_kwDODaTcLs5lAbMR", "number": 1492, "title": "Use bindgen 0.69", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-24T23:09:26Z", "updated_at": "2024-01-24T23:18:00Z", "closed_at": "2024-01-24T23:17:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1492", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492.patch", "merged_at": "2024-01-24T23:17:56Z"}, "body": "Nice.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1491", "id": 2099225712, "node_id": "PR_kwDODaTcLs5lAPuI", "number": 1491, "title": "Fixup docs for cargo-pgrx", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-24T22:32:57Z", "updated_at": "2024-01-24T23:21:50Z", "closed_at": "2024-01-24T23:21:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1491", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1491", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1491.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1491.patch", "merged_at": "2024-01-24T23:21:46Z"}, "body": "Remove mentions of commands that do not exist, versions that we do not support, and contradictory or confusing statements that, at best, rely on remembering what overrides what. The last are in most cases edited into simply treating variables as variables, or simply deleted to avoid disagreeing with the detailed explanation that naturally arises with further reading.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1491/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490", "id": 2097833546, "node_id": "PR_kwDODaTcLs5k7eZa", "number": 1490, "title": "Replace dependency on `dirs` with `home`", "user": {"login": "the-kenny", "id": 31167, "node_id": "MDQ6VXNlcjMxMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/31167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the-kenny", "html_url": "https://github.com/the-kenny", "followers_url": "https://api.github.com/users/the-kenny/followers", "following_url": "https://api.github.com/users/the-kenny/following{/other_user}", "gists_url": "https://api.github.com/users/the-kenny/gists{/gist_id}", "starred_url": "https://api.github.com/users/the-kenny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the-kenny/subscriptions", "organizations_url": "https://api.github.com/users/the-kenny/orgs", "repos_url": "https://api.github.com/users/the-kenny/repos", "events_url": "https://api.github.com/users/the-kenny/events{/privacy}", "received_events_url": "https://api.github.com/users/the-kenny/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-01-24T09:34:08Z", "updated_at": "2024-01-30T23:42:20Z", "closed_at": "2024-01-29T21:36:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1490", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490.patch", "merged_at": "2024-01-29T21:36:45Z"}, "body": "\r\nThe `dirs` crate recently [started depending](https://github.com/dirs-dev/dirs-sys-rs/commit/e169da7af901eb621e5d244efe960f4da8ed150d) on the `options-ext` crate\r\nwhich uses copyleft license (MPL). This (unnecessary) dependency causes\r\nlicensing issues for various users by possibly poisoning the dependency\r\ntree of their projects.\r\n\r\nThis change replaces the `dirs` crate with `home`. The `home` crate is\r\nmaintained by the cargo team and offers the same functionality.\r\n\r\nAs a bonus, this change also results in a slightly smaller dependency\r\ntree.\r\n\r\n- https://github.com/artichoke/artichoke/pull/2564\r\n- https://github.com/pyrossh/rust-embed/issues/231\r\n- https://github.com/juhaku/utoipa/issues/834\r\n- https://github.com/harryfei/which-rs/pull/78", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1487", "id": 2095117216, "node_id": "PR_kwDODaTcLs5kySck", "number": 1487, "title": "Filter `all` to both config && Cargo .tomls", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-23T02:25:16Z", "updated_at": "2024-01-24T19:47:51Z", "closed_at": "2024-01-23T20:27:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1487", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1487", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1487.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1487.patch", "merged_at": "2024-01-23T20:27:26Z"}, "body": "Our support for a given Postgres version, for an extension crate, is informed by two things:\r\n- The setting to find `pg_config`s, defaulting to `\"${PGRX_HOME}/config.toml\"`\r\n- The crate's Cargo.toml for a given pgrx `\"pg{major}\"` feature.\r\n\r\nInterpret `cargo-pgrx {start,stop,test} all` to act only on versions for which both of these are present. We will simply filter silently without note because there are some nuances for when we should (not) emit errors that I am not entirely settled on how to decide, but ultimately this allows e.g. an extension like PL/Rust that never supported the same version minimum as pgrx to still use `cargo pgrx test all`, and causes less confusing errors when `config.toml` includes out-of-date versions unless those are also in Cargo.toml.\r\n\r\nNote this doesn't prevent us from emitting errors: instead the error moves to when building the pgrx library. Currently it is first caught by cargo when the extension's Cargo.toml doesn't include the features to for the request from cargo-pgrx, but this is a hidden behavior of cargo-pgrx. The failed build of the library is easier to diagnose.\r\n\r\nCloses https://github.com/pgcentralfoundation/pgrx/issues/1421", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1487/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1486", "id": 2094548952, "node_id": "PR_kwDODaTcLs5kwV_w", "number": 1486, "title": "Add bindings for `include/multixact.h`", "user": {"login": "rebasedming", "id": 21964054, "node_id": "MDQ6VXNlcjIxOTY0MDU0", "avatar_url": "https://avatars.githubusercontent.com/u/21964054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rebasedming", "html_url": "https://github.com/rebasedming", "followers_url": "https://api.github.com/users/rebasedming/followers", "following_url": "https://api.github.com/users/rebasedming/following{/other_user}", "gists_url": "https://api.github.com/users/rebasedming/gists{/gist_id}", "starred_url": "https://api.github.com/users/rebasedming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rebasedming/subscriptions", "organizations_url": "https://api.github.com/users/rebasedming/orgs", "repos_url": "https://api.github.com/users/rebasedming/repos", "events_url": "https://api.github.com/users/rebasedming/events{/privacy}", "received_events_url": "https://api.github.com/users/rebasedming/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421023142, "node_id": "LA_kwDODaTcLs8AAAABB4N1pg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/ffi-bindgen", "name": "ffi-bindgen", "color": "cc9999", "default": false, "description": ""}, {"id": 6472672038, "node_id": "LA_kwDODaTcLs8AAAABgc0jJg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/%23include", "name": "#include", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-01-22T18:58:13Z", "updated_at": "2024-01-24T21:16:21Z", "closed_at": "2024-01-24T20:51:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1486", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1486", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1486.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1486.patch", "merged_at": "2024-01-24T20:51:15Z"}, "body": "Adds header files for `multixact.h`", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1486/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1485", "id": 2091933558, "node_id": "PR_kwDODaTcLs5knqzw", "number": 1485, "title": "Include varlena functions", "user": {"login": "daamien", "id": 165646, "node_id": "MDQ6VXNlcjE2NTY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/165646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daamien", "html_url": "https://github.com/daamien", "followers_url": "https://api.github.com/users/daamien/followers", "following_url": "https://api.github.com/users/daamien/following{/other_user}", "gists_url": "https://api.github.com/users/daamien/gists{/gist_id}", "starred_url": "https://api.github.com/users/daamien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daamien/subscriptions", "organizations_url": "https://api.github.com/users/daamien/orgs", "repos_url": "https://api.github.com/users/daamien/repos", "events_url": "https://api.github.com/users/daamien/events{/privacy}", "received_events_url": "https://api.github.com/users/daamien/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421023142, "node_id": "LA_kwDODaTcLs8AAAABB4N1pg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/ffi-bindgen", "name": "ffi-bindgen", "color": "cc9999", "default": false, "description": ""}, {"id": 6472672038, "node_id": "LA_kwDODaTcLs8AAAABgc0jJg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/%23include", "name": "#include", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-01-20T06:43:16Z", "updated_at": "2025-12-16T06:16:57Z", "closed_at": "2024-01-24T23:14:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1485", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1485", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1485.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1485.patch", "merged_at": "2024-01-24T23:14:02Z"}, "body": "There's already a pgrx::varlena module but this header brings utility fonctions to manipulate GUC variables and identifiers.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1485/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1480", "id": 2086930178, "node_id": "PR_kwDODaTcLs5kWjUr", "number": 1480, "title": "Document CPU and OS support expectations", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-17T20:31:11Z", "updated_at": "2024-01-24T23:19:01Z", "closed_at": "2024-01-24T23:18:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1480", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1480", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1480.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1480.patch", "merged_at": "2024-01-24T23:18:57Z"}, "body": "This documents our current state of support, and adds a note for people hoping for 32-bit support: it unfortunately would not be cheap, neither in terms of the incurred technical debt, nor in terms of running the additional build and test infra to test on 32-bit CPUs, which is not something GitHub Actions helps with.\r\n\r\nThis closes https://github.com/pgcentralfoundation/pgrx/issues/1478", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1480/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1476", "id": 2079964305, "node_id": "PR_kwDODaTcLs5j_DEo", "number": 1476, "title": "Unbox types properly from arrays", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-01-13T01:28:25Z", "updated_at": "2024-01-17T22:12:22Z", "closed_at": "2024-01-17T22:12:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1476", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1476", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1476.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1476.patch", "merged_at": "2024-01-17T22:12:15Z"}, "body": "Introducing `Datum<'src>` allows using it with HRTB fns in schema generation to persist lifetimes all the way through `#[pg_extern]`'s wrapper-fn infrastructure without compromising the integrity of lifetime annotations. This is immediately implemented to prevent many types from exceeding the lifetime of the Array they are unboxed from, unless they are already \"self-owned\" and thus 'static.\r\n\r\nUnfortunately, this does not fix all instances using `pg_getarg`, and those simply are left unsolved for now in some cases. I reorganized the UI tests to make it easier to notice these problems and when they get solved.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1476/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1472", "id": 2072941233, "node_id": "PR_kwDODaTcLs5jm847", "number": 1472, "title": "Allow `detail` argument and trailing commas in `ereport!`", "user": {"login": "hoodiecollin", "id": 5888427, "node_id": "MDQ6VXNlcjU4ODg0Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5888427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoodiecollin", "html_url": "https://github.com/hoodiecollin", "followers_url": "https://api.github.com/users/hoodiecollin/followers", "following_url": "https://api.github.com/users/hoodiecollin/following{/other_user}", "gists_url": "https://api.github.com/users/hoodiecollin/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoodiecollin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoodiecollin/subscriptions", "organizations_url": "https://api.github.com/users/hoodiecollin/orgs", "repos_url": "https://api.github.com/users/hoodiecollin/repos", "events_url": "https://api.github.com/users/hoodiecollin/events{/privacy}", "received_events_url": "https://api.github.com/users/hoodiecollin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-09T18:35:04Z", "updated_at": "2024-01-09T20:08:38Z", "closed_at": "2024-01-09T20:08:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1472", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1472", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1472.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1472.patch", "merged_at": "2024-01-09T20:08:32Z"}, "body": "I use `ereport!` because I like to include a `detail` entry but it comes with some inconveniences. When I would write the following snippet in my `Err` match arms, compiler would complain about mismatch types being output from the match arms thus requiring the inclusion of `unreachable!` in my code.\r\n\r\n```rust\r\npgrx::ereport!(\r\n    PgLogLevel::ERROR,\r\n    PgSqlErrorCode::ERRCODE_INTERNAL_ERROR,\r\n    format!(\"{} failed\", stringify!(snowflake_pool_stats)),\r\n    err.to_string()\r\n);\r\n\r\n// necessary to satisfy the compiler\r\nunreachable!()\r\n```\r\n\r\nAfter looking at the macro src for `ereport!` I realized why I started writing `PgLogLevel::ERROR` rather than simply `ERROR`; the `ERROR` case didn't support a `detail` argument.\r\n\r\nGoing forward, I would like to use the dedicated macros for the common use cases of logging/aborting so hopefully someone will find these proposed changes to be a worthwhile improvement.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1472/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1469", "id": 2071469500, "node_id": "PR_kwDODaTcLs5jh8ml", "number": 1469, "title": "Remove `impl Display for pg_sys::Oid`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-09T01:20:29Z", "updated_at": "2024-01-09T02:11:34Z", "closed_at": "2024-01-09T02:11:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1469", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1469", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1469.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1469.patch", "merged_at": "2024-01-09T02:11:31Z"}, "body": "In conversations with @eeeebbbbrrrr, this proved confusing, so yeet it. It was only really there for error messages, so fix the error messaging sites instead.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1469/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468", "id": 2070766845, "node_id": "PR_kwDODaTcLs5jfinn", "number": 1468, "title": "remove dlopen hack", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2024-01-08T16:04:44Z", "updated_at": "2024-02-07T20:58:51Z", "closed_at": "2024-02-07T20:54:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1468", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468.patch", "merged_at": "2024-02-07T20:54:13Z"}, "body": "Resolves https://github.com/pgcentralfoundation/pgrx/issues/1369\r\n\r\nMotivation of this PR:\r\n* no need to compile `cargo-pgrx` after upgrading compiler\r\n* make it possible to support `binstall`\r\n\r\nThis PR:\r\n* recompilation occurs even if we use a nightly toolchain.\r\n* schema is generated by `cargo run --bin pgrx_embed_${ext_name}` , instead of using `libloading` crate (unused symbols are removed by linker, so it compiles)\r\n* removes compiler version check\r\n* removes codes about stub\r\n* removes unnecessary metadata traits\r\n\r\nThis is a breaking change: users need to write `pgrx::pgrx_embed!();` to `src/pgrx_embed.rs` and add that `[[bin]]` to the `Cargo.toml`, otherwise schema generation will report an error.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1466", "id": 2069470835, "node_id": "PR_kwDODaTcLs5jbDRP", "number": 1466, "title": "fix undefined behaviour when loading control file", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-01-08T02:16:02Z", "updated_at": "2024-01-08T22:48:17Z", "closed_at": "2024-01-08T22:48:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1466", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1466", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1466.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1466.patch", "merged_at": "2024-01-08T22:48:17Z"}, "body": "It is introduced in https://github.com/pgcentralfoundation/pgrx/pull/911 and it should be a mistake.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1466/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1463", "id": 2068203603, "node_id": "PR_kwDODaTcLs5jW8Zz", "number": 1463, "title": "Use `composite_type!` lifetimes in pgrx-sql-entity-graph", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-05T23:57:38Z", "updated_at": "2024-01-06T00:15:17Z", "closed_at": "2024-01-06T00:15:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1463", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1463", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1463.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1463.patch", "merged_at": "2024-01-06T00:15:14Z"}, "body": "I was working on fixing the auto-staticizing lifetime issues and noticed this likely would be landable on its own. This moves out `struct CompositeTypeMacro` into its own file and starts to actually modularize the code around it a little, to start actually preserving the lifetimes in their usage during macro expansion. Because we need to also generate wrapping types, it doesn't count as much of a cleanup on its own, but that's why I'm landing it separately.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1463/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1462", "id": 2066623468, "node_id": "PR_kwDODaTcLs5jRk3U", "number": 1462, "title": "Demand lifetimes for `pgrx::composite_type!`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-05T02:14:17Z", "updated_at": "2024-01-05T20:01:01Z", "closed_at": "2024-01-05T18:17:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1462", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1462", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1462.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1462.patch", "merged_at": "2024-01-05T18:17:03Z"}, "body": "The `pgrx::composite_type!` macro currently assigns the `'static` lifetime if you do not give one. This is a decision of dubious soundness. Instead, demand a lifetime, or assign the anonymous lifetime. Both cases match the behavior of attempting to elide lifetimes in your usual Rust code, though with slightly worse error messages in some cases. This may require people to write `'static` in more places (and that is what the typical error suggests), but it allows noticing and fixing problems that currently are not visible, easy to understand, or easy to check.\r\n\r\nThis is the latest in this series:\r\n- https://github.com/pgcentralfoundation/pgrx/issues/1383\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1457\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1461", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1462/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1461", "id": 2064843095, "node_id": "PR_kwDODaTcLs5jLmJm", "number": 1461, "title": "Manually staticize lifetimes in pgrx tests", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-04T01:05:50Z", "updated_at": "2024-01-04T18:45:46Z", "closed_at": "2024-01-04T01:52:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1461", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1461", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1461.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1461.patch", "merged_at": "2024-01-04T01:52:02Z"}, "body": "These all are actually lifetimes bound by their invocation site, which means that they return any lifetime which is named, instead of a lifetime that is bound by the input types in a logical way. This means that these lifetimes might as well be `'static`, for all it would (not) matter.\r\n\r\nAn important detail is that while this pattern is normally acceptable _and useful_ in Rust code, in pgrx it should be rejected for now because the lifetimes on the actually-called-by-Postgres function are defined, essentially, by a function _pointer_. These lifetimes cannot be coherently described to a function pointer. Thus, they form a sort of impedance mismatch: when you call this function from Rust code, you get a constraint that doesn't actually exist in the code that will run in Postgres. The difference is confusing, allowing you to write code relying on the compiler's lifetime checks and even fail to call it in certain ways, seemingly satisfying the soundness requirements. Then suddenly the assumption those compiler checks are founded on evaporates in the actual runtime execution, leading to undefined behavior.\r\n\r\nI hope to fix a number of these problems relatively soon, but first thing's first: The removal of illusions. If this code is unsound now, then in truth it already was.\r\n\r\nThis effectively serves as a followup to https://github.com/pgcentralfoundation/pgrx/pull/1457 and it is part of what enables solving https://github.com/pgcentralfoundation/pgrx/issues/1383 by not requiring the pervasive use of that hack.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1461/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1460", "id": 2063437862, "node_id": "PR_kwDODaTcLs5jGyLP", "number": 1460, "title": "Remove unused attrs on `Pg_magic_func`", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-03T07:55:58Z", "updated_at": "2024-01-03T20:40:52Z", "closed_at": "2024-01-03T20:40:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1460", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1460", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1460.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1460.patch", "merged_at": "2024-01-03T20:40:42Z"}, "body": "- `allow(unused)` is redundant with `pub`\r\n- `link_name` is redundant with `no_mangle`", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1460/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1457", "id": 2060631931, "node_id": "PR_kwDODaTcLs5i9q3N", "number": 1457, "title": "Adjust StringInfo wrapper impl to match actual definition", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-12-30T04:48:44Z", "updated_at": "2024-01-02T22:59:23Z", "closed_at": "2024-01-02T22:58:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1457", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1457", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1457.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1457.patch", "merged_at": "2024-01-02T22:58:36Z"}, "body": "A commit that alters the definition of StringInfo was introduced about 2 months ago to Postgres: https://github.com/postgres/postgres/commit/f0efa5aec19358e2282d4968a03db1db56f0ac3f\r\n\r\nIt contains the following comment:\r\n```\r\n  * As a special case, a StringInfoData can be initialized with a read-only\r\n  * string buffer.  In this case \"data\" does not necessarily point at a\r\n  * palloc'd chunk, and management of the buffer storage is the caller's\r\n  * responsibility.  maxlen is set to zero to indicate that this is the case.\r\n  * Read-only StringInfoDatas cannot be appended to or reset.\r\n  * Also, it is caller's option whether a read-only string buffer has a\r\n  * terminating '\\0' or not.  This depends on the intended usage.\r\n```\r\n\r\nThis will make the following sequence of Rust code completely unsound **by mere invocation** as of Postgres 17, even assuming the lifetime constraint is correct:\r\n```rust\r\nlet stringinfo: *mut pg_sys::StringInfoData = something_that_returns_ptr_to_stringinfodata();\r\nlet stringinfo: StringInfo<AllocatedByPostgres> = unsafe { StringInfoData::from_pg(stringinfo) };\r\nlet cstr_from_stringinfo: &'static CStr = stringinfo.into();\r\n```\r\n\r\nHowever, that commit has its own remarks:\r\n```\r\nThere were various places in our codebase which conjured up a StringInfo\r\nby manually assigning the StringInfo fields and setting the data field\r\nto point to some existing buffer.  There wasn't much consistency here as\r\nto what fields like maxlen got set to and in one location we didn't\r\ncorrectly ensure that the buffer was correctly NUL terminated at len\r\nbytes, as per what was documented as required in stringinfo.h\r\n```\r\n\r\n...\"In one location we didn't correctly ensure that the buffer was correctly NUL terminated\"?\r\n\r\nOn actually reviewing the commit, in multiple places, the maximum len was previously set to -1 or other incorrect values to indicate similar sorts of \"borrow-like\" usages. In other words, the `max_len > len` invariant was not preserved either, so it was not impossible for the pointee buffer to actually end at exactly len N, instead of also having another byte available.\r\n\r\nWhile the only constructor for the StringInfoData wrapper is its `unsafe fn from_pg`, we were most certainly relying on this being true, and making comments as if we expected Postgres to not randomly pass us bogus data. In actuality, we find now that Postgres passes us bogus data all the time. As this guarantee has never actually been enforced, we should remove the implementation of `impl From<StringInfo<_>> for &'static CStr` immediately. This also means our Drop implementation has to go.\r\n\r\nA more direct API is offered instead via `StringInfo::leak_cstr`.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1457/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1453", "id": 2058856833, "node_id": "PR_kwDODaTcLs5i6Dvr", "number": 1453, "title": "Add regproc.h", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6472672038, "node_id": "LA_kwDODaTcLs8AAAABgc0jJg", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/%23include", "name": "#include", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-28T22:02:12Z", "updated_at": "2024-01-24T21:20:33Z", "closed_at": "2023-12-28T23:27:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1453", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1453", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1453.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1453.patch", "merged_at": "2023-12-28T23:27:25Z"}, "body": "Closes https://github.com/pgcentralfoundation/pgrx/issues/164", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1453/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1450", "id": 2057932212, "node_id": "PR_kwDODaTcLs5i28iX", "number": 1450, "title": "Alpine should not need tar", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-28T02:58:58Z", "updated_at": "2023-12-28T03:22:31Z", "closed_at": "2023-12-28T03:22:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1450", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1450", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1450.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1450.patch", "merged_at": "2023-12-28T03:22:27Z"}, "body": "Closes #1360 ", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1450/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449", "id": 2057823717, "node_id": "PR_kwDODaTcLs5i2mcM", "number": 1449, "title": "Use native-certs with ureq", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-27T22:41:54Z", "updated_at": "2023-12-27T23:01:35Z", "closed_at": "2023-12-27T23:01:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1449", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449.patch", "merged_at": "2023-12-27T23:01:28Z"}, "body": "I at first had settled down to write up something using `rustls_native_certs` but then I actually noticed ureq simply enables this with a feature.\r\n\r\nThis should fully solve #1430 for both features now (rustls and native-tls).", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448", "id": 2057789051, "node_id": "PR_kwDODaTcLs5i2fIE", "number": 1448, "title": "Allow to build cargo-pgrx either with rustls (default) or native-tls", "user": {"login": "jirutka", "id": 949228, "node_id": "MDQ6VXNlcjk0OTIyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/949228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jirutka", "html_url": "https://github.com/jirutka", "followers_url": "https://api.github.com/users/jirutka/followers", "following_url": "https://api.github.com/users/jirutka/following{/other_user}", "gists_url": "https://api.github.com/users/jirutka/gists{/gist_id}", "starred_url": "https://api.github.com/users/jirutka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jirutka/subscriptions", "organizations_url": "https://api.github.com/users/jirutka/orgs", "repos_url": "https://api.github.com/users/jirutka/repos", "events_url": "https://api.github.com/users/jirutka/events{/privacy}", "received_events_url": "https://api.github.com/users/jirutka/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-27T21:33:56Z", "updated_at": "2023-12-27T23:52:18Z", "closed_at": "2023-12-27T22:31:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1448", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448.patch", "merged_at": "2023-12-27T22:31:08Z"}, "body": "ureq defines `default = [\"tls\", \"gzip\"]`, so \"tls\" feature (rustls) is currently always enabled even when native-tls is preferred, i.e. both rustls and native-tls is built if openssl headers are available and the user cannot opt-out from using rustls. This also disallows building cargo-pgrx on platforms not supported by the ring crate (dependency of rustls).\r\n\r\nThis should also solve #1430 if `cargo-pgrx` is built with `--no-default-features --features native-tls`.\r\n\r\nSupersedes #1442", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1445", "id": 2055197763, "node_id": "PR_kwDODaTcLs5it4iD", "number": 1445, "title": "Add a macro `pg_cast` for constructing PG casts from Rust functions.", "user": {"login": "xwkuang5", "id": 12459119, "node_id": "MDQ6VXNlcjEyNDU5MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/12459119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xwkuang5", "html_url": "https://github.com/xwkuang5", "followers_url": "https://api.github.com/users/xwkuang5/followers", "following_url": "https://api.github.com/users/xwkuang5/following{/other_user}", "gists_url": "https://api.github.com/users/xwkuang5/gists{/gist_id}", "starred_url": "https://api.github.com/users/xwkuang5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xwkuang5/subscriptions", "organizations_url": "https://api.github.com/users/xwkuang5/orgs", "repos_url": "https://api.github.com/users/xwkuang5/repos", "events_url": "https://api.github.com/users/xwkuang5/events{/privacy}", "received_events_url": "https://api.github.com/users/xwkuang5/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-12-24T19:42:24Z", "updated_at": "2024-02-03T01:25:50Z", "closed_at": "2024-02-02T18:11:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1445", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1445", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1445.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1445.patch", "merged_at": "2024-02-02T18:11:48Z"}, "body": "To use the new macro, add the `pg_cast` macro on a single-argument single-return value Rust function:\r\n\r\n```rust\r\n#[pg_cast]\r\nfn test_cast(_value: Json) -> i32 {\r\n    0\r\n}\r\n```\r\n\r\nIt is possible to modify the cast by adding either `assignment` or `implicit` to the `pg_cast` macro as argument:\r\n\r\n```\r\n#[pg_cast(assignment)] /* creates a PG cast that may implicitly be used in assignment */\r\n\r\n#[pg_cast(implicit)] /* creates a PG cast that may implicitly be used in any situation */\r\n```\r\n\r\nTESTED=\"cargo test\"", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1445/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1443", "id": 2047311844, "node_id": "PR_kwDODaTcLs5iTGP1", "number": 1443, "title": "use the full `cargo` version string in the version match check.", "user": {"login": "Lokathor", "id": 5456384, "node_id": "MDQ6VXNlcjU0NTYzODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5456384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lokathor", "html_url": "https://github.com/Lokathor", "followers_url": "https://api.github.com/users/Lokathor/followers", "following_url": "https://api.github.com/users/Lokathor/following{/other_user}", "gists_url": "https://api.github.com/users/Lokathor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lokathor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lokathor/subscriptions", "organizations_url": "https://api.github.com/users/Lokathor/orgs", "repos_url": "https://api.github.com/users/Lokathor/repos", "events_url": "https://api.github.com/users/Lokathor/events{/privacy}", "received_events_url": "https://api.github.com/users/Lokathor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-18T19:27:48Z", "updated_at": "2023-12-29T20:23:50Z", "closed_at": "2023-12-29T19:15:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1443", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1443", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1443.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1443.patch", "merged_at": "2023-12-29T19:15:23Z"}, "body": "Rather than `cargo-pgrx` using just the `rustc` minor version when checking for a toolchain version mismatch, this now uses the full `cargo` version string. `cargo` uses the same version number as `rustc`, so it's a sufficient stand in for checking the version of `rustc`.\r\n\r\nBy checking the full version string instead of only the minor version, we can now detect a mismatch between two nightly versions of rust issued in the same 6 week period.\r\n\r\nExample:\r\n`cargo 1.76.0-nightly (9b13310ca 2023-11-24)`\r\nvs\r\n`cargo 1.76.0-nightly (1aa9df1a5 2023-12-12)`\r\n\r\nThese detect as the same minor version, but using the new full string check they will correctly show up as different and flag the mismatch error.\r\n\r\nAlso: the error message now alerts people how they can override the version check when necessary.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1443/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1441", "id": 2046748600, "node_id": "PR_kwDODaTcLs5iRKdN", "number": 1441, "title": "Handle RUSTFLAGS better", "user": {"login": "eeeebbbbrrrr", "id": 5117238, "node_id": "MDQ6VXNlcjUxMTcyMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5117238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eeeebbbbrrrr", "html_url": "https://github.com/eeeebbbbrrrr", "followers_url": "https://api.github.com/users/eeeebbbbrrrr/followers", "following_url": "https://api.github.com/users/eeeebbbbrrrr/following{/other_user}", "gists_url": "https://api.github.com/users/eeeebbbbrrrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/eeeebbbbrrrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eeeebbbbrrrr/subscriptions", "organizations_url": "https://api.github.com/users/eeeebbbbrrrr/orgs", "repos_url": "https://api.github.com/users/eeeebbbbrrrr/repos", "events_url": "https://api.github.com/users/eeeebbbbrrrr/events{/privacy}", "received_events_url": "https://api.github.com/users/eeeebbbbrrrr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-18T14:09:00Z", "updated_at": "2023-12-27T20:10:06Z", "closed_at": "2023-12-18T14:28:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1441", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1441", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1441.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1441.patch", "merged_at": "2023-12-18T14:28:40Z"}, "body": "This cleans up PR #1435 as per\r\n(https://github.com/pgcentralfoundation/pgrx/pull/1435#issuecomment-1859360044).\r\n\r\nWhat we probably really want is a legit \"RUSTFLAGS\" parser.  I don't feel like writing and testing one and a quick search didn't find anything on crates.io.  So splitting on whitespace will have to be Good Enough.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1441/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]