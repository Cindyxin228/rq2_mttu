[{"url": "https://api.github.com/repos/Relm4/Relm4/issues/61", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/61/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/61/events", "html_url": "https://github.com/Relm4/Relm4/pull/61", "id": 1085016088, "node_id": "PR_kwDOFlBjIM4wF025", "number": 61, "title": "wrap tokens from `manual_view` in an IIFE", "user": {"login": "euclio", "id": 1372438, "node_id": "MDQ6VXNlcjEzNzI0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1372438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euclio", "html_url": "https://github.com/euclio", "followers_url": "https://api.github.com/users/euclio/followers", "following_url": "https://api.github.com/users/euclio/following{/other_user}", "gists_url": "https://api.github.com/users/euclio/gists{/gist_id}", "starred_url": "https://api.github.com/users/euclio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euclio/subscriptions", "organizations_url": "https://api.github.com/users/euclio/orgs", "repos_url": "https://api.github.com/users/euclio/repos", "events_url": "https://api.github.com/users/euclio/events{/privacy}", "received_events_url": "https://api.github.com/users/euclio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-20T17:05:26Z", "updated_at": "2021-12-20T18:53:47Z", "closed_at": "2021-12-20T17:20:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/61", "html_url": "https://github.com/Relm4/Relm4/pull/61", "diff_url": "https://github.com/Relm4/Relm4/pull/61.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/61.patch", "merged_at": "2021-12-20T17:20:02Z"}, "body": "I tried writing a `manual_view` function in my `view!` macro like this:\r\n\r\n```rust\r\n    fn manual_view(&self) {\r\n        let file = match &model.file {\r\n            Some(file) => file,\r\n            None => return,\r\n        };\r\n\r\n        match &file.preview {\r\n            FilePreview::Image(path) => {\r\n                self.image.set_file(Some(&path.to_string_lossy()));\r\n            }\r\n            FilePreview::Icon(icon) => {\r\n                self.image.set_gicon(Some(icon));\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThis led to some strange behavior in my application, where certain widgets were containing stale data. Expanding the macro revealed the problem:\r\n\r\n```rust\r\n        /// Update the view to represent the updated model.\r\n        fn view(\r\n            &mut self,\r\n            model: &FilePreviewModel,\r\n            sender: ::relm4::Sender<<FilePreviewModel as ::relm4::Model>::Msg>,\r\n        ) {\r\n            let file = match &model.file {\r\n                Some(file) => file,\r\n                None => return,\r\n            };\r\n\r\n            match &file.preview {\r\n                FilePreview::Image(path) => {\r\n                    self.image.set_file(Some(&path.to_string_lossy()));\r\n                }\r\n                FilePreview::Icon(icon) => {\r\n                    self.image.set_gicon(Some(icon));\r\n                }\r\n            }\r\n\r\n            // code generated from view macro...\r\n        }\r\n```\r\n\r\nThe early return was causing the generated view code to be skipped. This PR fixes the issue by wrapping the tokens from `manual_view` in an IIFE. This causes early returns in `manual_view` to only return from the manual code, instead of skipping the rest of the view code.", "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Relm4/Relm4/issues/60", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/60/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/60/events", "html_url": "https://github.com/Relm4/Relm4/pull/60", "id": 1084140805, "node_id": "PR_kwDOFlBjIM4wDArE", "number": 60, "title": "do not pass CLI arguments to GTK by default", "user": {"login": "euclio", "id": 1372438, "node_id": "MDQ6VXNlcjEzNzI0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1372438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euclio", "html_url": "https://github.com/euclio", "followers_url": "https://api.github.com/users/euclio/followers", "following_url": "https://api.github.com/users/euclio/following{/other_user}", "gists_url": "https://api.github.com/users/euclio/gists{/gist_id}", "starred_url": "https://api.github.com/users/euclio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euclio/subscriptions", "organizations_url": "https://api.github.com/users/euclio/orgs", "repos_url": "https://api.github.com/users/euclio/repos", "events_url": "https://api.github.com/users/euclio/events{/privacy}", "received_events_url": "https://api.github.com/users/euclio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-19T16:44:33Z", "updated_at": "2021-12-19T18:08:14Z", "closed_at": "2021-12-19T17:01:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/60", "html_url": "https://github.com/Relm4/Relm4/pull/60", "diff_url": "https://github.com/Relm4/Relm4/pull/60.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/60.patch", "merged_at": "2021-12-19T17:01:34Z"}, "body": "Fixes #59.", "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/60/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Relm4/Relm4/issues/54", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/54/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/54/events", "html_url": "https://github.com/Relm4/Relm4/pull/54", "id": 1058942677, "node_id": "PR_kwDOFlBjIM4uyu3Z", "number": 54, "title": "Rework core", "user": {"login": "AaronErhardt", "id": 22240637, "node_id": "MDQ6VXNlcjIyMjQwNjM3", "avatar_url": "https://avatars.githubusercontent.com/u/22240637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AaronErhardt", "html_url": "https://github.com/AaronErhardt", "followers_url": "https://api.github.com/users/AaronErhardt/followers", "following_url": "https://api.github.com/users/AaronErhardt/following{/other_user}", "gists_url": "https://api.github.com/users/AaronErhardt/gists{/gist_id}", "starred_url": "https://api.github.com/users/AaronErhardt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AaronErhardt/subscriptions", "organizations_url": "https://api.github.com/users/AaronErhardt/orgs", "repos_url": "https://api.github.com/users/AaronErhardt/repos", "events_url": "https://api.github.com/users/AaronErhardt/events{/privacy}", "received_events_url": "https://api.github.com/users/AaronErhardt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-19T21:50:13Z", "updated_at": "2022-04-06T17:50:08Z", "closed_at": "2021-11-20T09:18:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/54", "html_url": "https://github.com/Relm4/Relm4/pull/54", "diff_url": "https://github.com/Relm4/Relm4/pull/54.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/54.patch", "merged_at": "2021-11-20T09:18:16Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Relm4/Relm4/issues/50", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/50/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/50/events", "html_url": "https://github.com/Relm4/Relm4/pull/50", "id": 1045428098, "node_id": "PR_kwDOFlBjIM4uIJN5", "number": 50, "title": "Micro components", "user": {"login": "mskorkowski", "id": 90662755, "node_id": "MDQ6VXNlcjkwNjYyNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/90662755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mskorkowski", "html_url": "https://github.com/mskorkowski", "followers_url": "https://api.github.com/users/mskorkowski/followers", "following_url": "https://api.github.com/users/mskorkowski/following{/other_user}", "gists_url": "https://api.github.com/users/mskorkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/mskorkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mskorkowski/subscriptions", "organizations_url": "https://api.github.com/users/mskorkowski/orgs", "repos_url": "https://api.github.com/users/mskorkowski/repos", "events_url": "https://api.github.com/users/mskorkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/mskorkowski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-05T03:50:19Z", "updated_at": "2021-11-20T09:19:26Z", "closed_at": "2021-11-20T09:19:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/50", "html_url": "https://github.com/Relm4/Relm4/pull/50", "diff_url": "https://github.com/Relm4/Relm4/pull/50.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/50.patch", "merged_at": "2021-11-20T09:19:26Z"}, "body": "Implementation of #49 \r\n\r\nIt's required to make #46 go forward", "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Relm4/Relm4/issues/47", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/47/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/47/events", "html_url": "https://github.com/Relm4/Relm4/pull/47", "id": 1040913672, "node_id": "PR_kwDOFlBjIM4t6dtu", "number": 47, "title": "New Adwaita View-Switcher Example", "user": {"login": "tronta", "id": 5135577, "node_id": "MDQ6VXNlcjUxMzU1Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5135577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tronta", "html_url": "https://github.com/tronta", "followers_url": "https://api.github.com/users/tronta/followers", "following_url": "https://api.github.com/users/tronta/following{/other_user}", "gists_url": "https://api.github.com/users/tronta/gists{/gist_id}", "starred_url": "https://api.github.com/users/tronta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tronta/subscriptions", "organizations_url": "https://api.github.com/users/tronta/orgs", "repos_url": "https://api.github.com/users/tronta/repos", "events_url": "https://api.github.com/users/tronta/events{/privacy}", "received_events_url": "https://api.github.com/users/tronta/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2021-11-01T08:33:44Z", "updated_at": "2021-12-02T17:11:08Z", "closed_at": "2021-12-02T16:54:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/47", "html_url": "https://github.com/Relm4/Relm4/pull/47", "diff_url": "https://github.com/Relm4/Relm4/pull/47.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/47.patch", "merged_at": "2021-12-02T16:54:51Z"}, "body": "I'm trying to create a new example for using a view switcher in adwaita.", "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/47/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Relm4/Relm4/issues/38", "repository_url": "https://api.github.com/repos/Relm4/Relm4", "labels_url": "https://api.github.com/repos/Relm4/Relm4/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/Relm4/Relm4/issues/38/comments", "events_url": "https://api.github.com/repos/Relm4/Relm4/issues/38/events", "html_url": "https://github.com/Relm4/Relm4/pull/38", "id": 1022090217, "node_id": "PR_kwDOFlBjIM4s_Qhb", "number": 38, "title": "Add type safe actions", "user": {"login": "AaronErhardt", "id": 22240637, "node_id": "MDQ6VXNlcjIyMjQwNjM3", "avatar_url": "https://avatars.githubusercontent.com/u/22240637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AaronErhardt", "html_url": "https://github.com/AaronErhardt", "followers_url": "https://api.github.com/users/AaronErhardt/followers", "following_url": "https://api.github.com/users/AaronErhardt/following{/other_user}", "gists_url": "https://api.github.com/users/AaronErhardt/gists{/gist_id}", "starred_url": "https://api.github.com/users/AaronErhardt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AaronErhardt/subscriptions", "organizations_url": "https://api.github.com/users/AaronErhardt/orgs", "repos_url": "https://api.github.com/users/AaronErhardt/repos", "events_url": "https://api.github.com/users/AaronErhardt/events{/privacy}", "received_events_url": "https://api.github.com/users/AaronErhardt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-10T20:58:32Z", "updated_at": "2022-04-06T17:50:08Z", "closed_at": "2021-11-21T17:16:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Relm4/Relm4/pulls/38", "html_url": "https://github.com/Relm4/Relm4/pull/38", "diff_url": "https://github.com/Relm4/Relm4/pull/38.diff", "patch_url": "https://github.com/Relm4/Relm4/pull/38.patch", "merged_at": "2021-11-21T17:16:59Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/Relm4/Relm4/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Relm4/Relm4/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]