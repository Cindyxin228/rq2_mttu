[{"url": "https://api.github.com/repos/apache/datafusion/issues/5263", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5263/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5263/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5263/events", "html_url": "https://github.com/apache/datafusion/pull/5263", "id": 1582191914, "node_id": "PR_kwDOFWSkxs5J13ED", "number": 5263, "title": "minor: Fix cargo fmt", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-13T11:41:25Z", "updated_at": "2024-07-26T10:46:10Z", "closed_at": "2023-02-13T11:48:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5263", "html_url": "https://github.com/apache/datafusion/pull/5263", "diff_url": "https://github.com/apache/datafusion/pull/5263.diff", "patch_url": "https://github.com/apache/datafusion/pull/5263.patch", "merged_at": "2023-02-13T11:48:13Z"}, "body": "# Which issue does this PR close?\r\n\r\nN/A\r\n# Rationale for this change\r\n\r\nI accidentally merged https://github.com/apache/arrow-datafusion/pull/5260 when it had a fmt breakage\r\n\r\n# What changes are included in this PR?\r\n`cargo fmt` and check in the result\r\n\r\n# Are these changes tested?\r\nexisting CI\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5262", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5262/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5262/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5262/events", "html_url": "https://github.com/apache/datafusion/pull/5262", "id": 1581636516, "node_id": "PR_kwDOFWSkxs5Jz-nU", "number": 5262, "title": "minor: replace `unwrap()` with `?`", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-13T04:25:39Z", "updated_at": "2023-02-13T07:35:46Z", "closed_at": "2023-02-13T07:29:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5262", "html_url": "https://github.com/apache/datafusion/pull/5262", "diff_url": "https://github.com/apache/datafusion/pull/5262.diff", "patch_url": "https://github.com/apache/datafusion/pull/5262.patch", "merged_at": "2023-02-13T07:29:30Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nreplace `unwrap()` with `?`\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5260", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5260/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5260/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5260/events", "html_url": "https://github.com/apache/datafusion/pull/5260", "id": 1581228150, "node_id": "PR_kwDOFWSkxs5JysNz", "number": 5260, "title": "Minor: refactor ParquetExec roundtrip tests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-12T11:50:08Z", "updated_at": "2023-02-13T11:41:31Z", "closed_at": "2023-02-13T11:38:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5260", "html_url": "https://github.com/apache/datafusion/pull/5260", "diff_url": "https://github.com/apache/datafusion/pull/5260.diff", "patch_url": "https://github.com/apache/datafusion/pull/5260.patch", "merged_at": "2023-02-13T11:38:53Z"}, "body": "# Which issue does this PR close?\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/5104\r\n\r\n\r\n# Rationale for this change\r\nI am trying to write a test for https://github.com/apache/arrow-datafusion/issues/5104 and getting lost in the maze of parameters passed to `round_trip` and `round_trip_to_parquet`\r\n\r\nIt is also hard for me to evaluate which combinations of tests are covered\r\n\r\n# What changes are included in this PR?\r\n\r\nMove the parameters to run the roundtrip test into a structure, with better documentation\r\n\r\n# Are these changes tested?\r\nYes\r\n\r\n# Are there any user-facing changes?\r\n\r\nno", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5257", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5257/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5257/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5257/events", "html_url": "https://github.com/apache/datafusion/pull/5257", "id": 1581106356, "node_id": "PR_kwDOFWSkxs5JyUoT", "number": 5257, "title": "enhance the checking of type errors in the test `window_frame_creation`", "user": {"login": "HaoYang670", "id": 59198230, "node_id": "MDQ6VXNlcjU5MTk4MjMw", "avatar_url": "https://avatars.githubusercontent.com/u/59198230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HaoYang670", "html_url": "https://github.com/HaoYang670", "followers_url": "https://api.github.com/users/HaoYang670/followers", "following_url": "https://api.github.com/users/HaoYang670/following{/other_user}", "gists_url": "https://api.github.com/users/HaoYang670/gists{/gist_id}", "starred_url": "https://api.github.com/users/HaoYang670/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HaoYang670/subscriptions", "organizations_url": "https://api.github.com/users/HaoYang670/orgs", "repos_url": "https://api.github.com/users/HaoYang670/repos", "events_url": "https://api.github.com/users/HaoYang670/events{/privacy}", "received_events_url": "https://api.github.com/users/HaoYang670/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-12T03:39:04Z", "updated_at": "2023-02-13T12:17:19Z", "closed_at": "2023-02-13T12:01:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5257", "html_url": "https://github.com/apache/datafusion/pull/5257", "diff_url": "https://github.com/apache/datafusion/pull/5257.diff", "patch_url": "https://github.com/apache/datafusion/pull/5257.patch", "merged_at": "2023-02-13T12:01:50Z"}, "body": "Signed-off-by: remzi <13716567376yh@gmail.com>\r\n\r\n# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nNone.\r\nRelated to #4685.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\nWe should test the type errors in a query could be detected from either the logical plan (skip_failed_rules = false) or the physical plan (skip_failed_rules = true).\r\n\r\n# What changes are included in this PR?\r\nOnly update the test.\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5254", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5254/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5254/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5254/events", "html_url": "https://github.com/apache/datafusion/pull/5254", "id": 1580840616, "node_id": "PR_kwDOFWSkxs5Jxf1l", "number": 5254, "title": "Minor: Add negative test for SORT BY", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-11T13:24:18Z", "updated_at": "2024-07-26T10:46:11Z", "closed_at": "2023-02-12T00:18:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5254", "html_url": "https://github.com/apache/datafusion/pull/5254", "diff_url": "https://github.com/apache/datafusion/pull/5254.diff", "patch_url": "https://github.com/apache/datafusion/pull/5254.patch", "merged_at": "2023-02-12T00:18:19Z"}, "body": "# Which issue does this PR close?\r\n\r\nrelated to https://github.com/apache/arrow-datafusion/issues/5247\r\n\r\n# Rationale for this change\r\n\r\nAdd a small test for https://github.com/apache/arrow-datafusion/pull/5249\r\n\r\n# What changes are included in this PR?\r\nMore tests more better\r\n\r\n# Are these changes tested?\r\nYes\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5252", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5252/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5252/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5252/events", "html_url": "https://github.com/apache/datafusion/pull/5252", "id": 1580802066, "node_id": "PR_kwDOFWSkxs5JxYAt", "number": 5252, "title": "Minor: port some explain test to sqllogictest, add filename normalization", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-11T11:42:46Z", "updated_at": "2023-02-12T21:06:48Z", "closed_at": "2023-02-12T16:36:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5252", "html_url": "https://github.com/apache/datafusion/pull/5252", "diff_url": "https://github.com/apache/datafusion/pull/5252.diff", "patch_url": "https://github.com/apache/datafusion/pull/5252.patch", "merged_at": "2023-02-12T16:36:48Z"}, "body": "# Which issue does this PR close?\r\n\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/4495\r\n\r\n\r\n# Rationale for this change\r\n\r\nAs part of porting window functions tests in https://github.com/apache/arrow-datafusion/pull/5199 I found there was additional work to do for normalizing explain plans. \r\n\r\n# What changes are included in this PR?\r\n\r\n1. This PR ports an explain test to sqllogictest and updates the display normalization to handle it\r\n\r\n\r\n# Are these changes tested?\r\nYes\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5249", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5249/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5249/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5249/events", "html_url": "https://github.com/apache/datafusion/pull/5249", "id": 1580765555, "node_id": "PR_kwDOFWSkxs5JxQv-", "number": 5249, "title": "Disallow SORT BY in SQL", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-11T09:53:04Z", "updated_at": "2023-02-11T20:40:36Z", "closed_at": "2023-02-11T13:23:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5249", "html_url": "https://github.com/apache/datafusion/pull/5249", "diff_url": "https://github.com/apache/datafusion/pull/5249.diff", "patch_url": "https://github.com/apache/datafusion/pull/5249.patch", "merged_at": "2023-02-11T13:23:19Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5247\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nNo tests added. Adding tests for invalid SQL might not be desirable (considering potential surface area of invalid SQL)\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5246", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5246/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5246/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5246/events", "html_url": "https://github.com/apache/datafusion/pull/5246", "id": 1580530273, "node_id": "PR_kwDOFWSkxs5Jwe4X", "number": 5246, "title": "[SQLLogicTest] Make schema validation ignore nullable and metadata attributes", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-02-11T00:29:30Z", "updated_at": "2023-02-12T11:11:49Z", "closed_at": "2023-02-12T11:08:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5246", "html_url": "https://github.com/apache/datafusion/pull/5246", "diff_url": "https://github.com/apache/datafusion/pull/5246.diff", "patch_url": "https://github.com/apache/datafusion/pull/5246.patch", "merged_at": "2023-02-12T11:08:28Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5231 .\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\nRemove IMHO unnecessary schema check for SLT, this check prevents to run test cases having mixed nulls and non null values\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nIts tested, since all SLT tests running fine\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5245", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5245/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5245/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5245/events", "html_url": "https://github.com/apache/datafusion/pull/5245", "id": 1580364337, "node_id": "PR_kwDOFWSkxs5Jv67f", "number": 5245, "title": "Add SQL function overload LOG(base, x) for logarithm of x to base", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-02-10T21:33:24Z", "updated_at": "2023-02-12T14:01:51Z", "closed_at": "2023-02-12T13:59:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5245", "html_url": "https://github.com/apache/datafusion/pull/5245", "diff_url": "https://github.com/apache/datafusion/pull/5245.diff", "patch_url": "https://github.com/apache/datafusion/pull/5245.patch", "merged_at": "2023-02-12T13:59:55Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5206 .\r\n\r\n# Rationale for this change\r\nAdd SQL function overload LOG(base, x) for logarithm of x to base\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nTest included\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5244", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5244/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5244/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5244/events", "html_url": "https://github.com/apache/datafusion/pull/5244", "id": 1580202197, "node_id": "PR_kwDOFWSkxs5JvXfq", "number": 5244, "title": "Update sqllogictest requirement from 0.11.1 to 0.12.0 #5237", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3679349472, "node_id": "LA_kwDOFWSkxs7bTmrg", "url": "https://api.github.com/repos/apache/datafusion/labels/auto-dependencies", "name": "auto-dependencies", "color": "45A736", "default": false, "description": ""}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-10T19:21:36Z", "updated_at": "2024-07-26T10:46:11Z", "closed_at": "2023-02-11T11:47:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5244", "html_url": "https://github.com/apache/datafusion/pull/5244", "diff_url": "https://github.com/apache/datafusion/pull/5244.diff", "patch_url": "https://github.com/apache/datafusion/pull/5244.patch", "merged_at": "2023-02-11T11:47:21Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses https://github.com/apache/arrow-datafusion/pull/5237\r\n\r\n# Rationale for this change\r\nKeep up with upstream libraries (thanks @xxchan !)\r\n\r\n# What changes are included in this PR?\r\n\r\n1. Update version from dependabot https://github.com/apache/arrow-datafusion/pull/5237 \r\n2. Update driver logic due to sqllogictest's API change\r\n\r\n# Are these changes tested?\r\nin CI\r\n\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5243", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5243/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5243/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5243/events", "html_url": "https://github.com/apache/datafusion/pull/5243", "id": 1580193137, "node_id": "PR_kwDOFWSkxs5JvViC", "number": 5243, "title": "Test case for NDJsonExec with randomly ordered projection", "user": {"login": "korowa", "id": 13005055, "node_id": "MDQ6VXNlcjEzMDA1MDU1", "avatar_url": "https://avatars.githubusercontent.com/u/13005055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/korowa", "html_url": "https://github.com/korowa", "followers_url": "https://api.github.com/users/korowa/followers", "following_url": "https://api.github.com/users/korowa/following{/other_user}", "gists_url": "https://api.github.com/users/korowa/gists{/gist_id}", "starred_url": "https://api.github.com/users/korowa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/korowa/subscriptions", "organizations_url": "https://api.github.com/users/korowa/orgs", "repos_url": "https://api.github.com/users/korowa/repos", "events_url": "https://api.github.com/users/korowa/events{/privacy}", "received_events_url": "https://api.github.com/users/korowa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-10T19:13:10Z", "updated_at": "2023-02-11T12:52:03Z", "closed_at": "2023-02-11T12:49:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5243", "html_url": "https://github.com/apache/datafusion/pull/5243", "diff_url": "https://github.com/apache/datafusion/pull/5243.diff", "patch_url": "https://github.com/apache/datafusion/pull/5243.patch", "merged_at": "2023-02-11T12:49:09Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4832 .\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nThe bug itself has already been fixed in current master, adding test case for this feature could help to avoid future regressions.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nThe only change - is the new test.\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5243/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5243/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5240", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5240/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5240/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5240/events", "html_url": "https://github.com/apache/datafusion/pull/5240", "id": 1579761349, "node_id": "PR_kwDOFWSkxs5Jt35_", "number": 5240, "title": "DataFusion 18.0.0 Release", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-10T14:21:55Z", "updated_at": "2023-02-10T17:12:29Z", "closed_at": "2023-02-10T17:09:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5240", "html_url": "https://github.com/apache/datafusion/pull/5240", "diff_url": "https://github.com/apache/datafusion/pull/5240.diff", "patch_url": "https://github.com/apache/datafusion/pull/5240.patch", "merged_at": "2023-02-10T17:09:52Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nN/A\r\n\r\n**NOTE**: I am testing out a new release process for this release, where I will create the rc tag directly on the `branch-18` branch and release from there.\r\n\r\nAdvantages:\r\n\r\n- The change log will match the release contents (no more race conditions during the release process)\r\n- We keep this branch around indefinitely and can merge bug fixes here and release 18.x.x patch releases\r\n- No risk of release activities slowing down any development on master branch\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nRegularly scheduled bi-weekly release\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n- [x] Update version\r\n- [x] Update changelog ([rendered version](https://github.com/apache/arrow-datafusion/blob/branch-18/datafusion/CHANGELOG.md))\r\n- [x] Update release process instructions\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5238", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5238/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5238/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5238/events", "html_url": "https://github.com/apache/datafusion/pull/5238", "id": 1579405447, "node_id": "PR_kwDOFWSkxs5Jsqil", "number": 5238, "title": "fix clippy in nightly", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-10T10:14:48Z", "updated_at": "2023-02-12T07:55:48Z", "closed_at": "2023-02-10T18:50:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5238", "html_url": "https://github.com/apache/datafusion/pull/5238", "diff_url": "https://github.com/apache/datafusion/pull/5238.diff", "patch_url": "https://github.com/apache/datafusion/pull/5238.patch", "merged_at": "2023-02-10T18:50:22Z"}, "body": "# Which issue does this PR close?\r\n\r\nN/A\r\n\r\n# Rationale for this change\r\n\r\nN/A\r\n\r\n# What changes are included in this PR?\r\n\r\nfix clippy when use rust-nightly\r\n\r\n# Are these changes tested?\r\n\r\n\r\n# Are there any user-facing changes?\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5236", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5236/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5236/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5236/events", "html_url": "https://github.com/apache/datafusion/pull/5236", "id": 1579182454, "node_id": "PR_kwDOFWSkxs5Jr50n", "number": 5236, "title": "refactor: correct the implementation of `all_schemas()`", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-10T07:53:09Z", "updated_at": "2023-02-12T14:45:01Z", "closed_at": "2023-02-12T13:57:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5236", "html_url": "https://github.com/apache/datafusion/pull/5236", "diff_url": "https://github.com/apache/datafusion/pull/5236.diff", "patch_url": "https://github.com/apache/datafusion/pull/5236.patch", "merged_at": "2023-02-12T13:57:16Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5192.\r\n\r\n# Rationale for this change\r\n\r\nCurrently, all_schema() can return schema of child of child. (due to recursively call `all_schema()`)\r\nBut, plan shouldn't get schema of child of child (or child of child of child of child ......).\r\nIt should just get info of itself and children.\r\n\r\nFor example\r\n```sql\r\nA join (Project (B.id = 3) -- B)\r\n```\r\n\r\njoin shouldn't get schema of `B`.\r\n\r\nSo, I refactor this implementation, remove recursion.\r\n\r\n# What changes are included in this PR?\r\n\r\nJust return children schema and itself schema\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5234", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5234/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5234/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5234/events", "html_url": "https://github.com/apache/datafusion/pull/5234", "id": 1579024964, "node_id": "PR_kwDOFWSkxs5JrYMD", "number": 5234, "title": "bugfix: fix error when `get_coerced_window_frame` meet `utf8`", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-10T05:49:03Z", "updated_at": "2023-02-11T01:31:52Z", "closed_at": "2023-02-10T18:39:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5234", "html_url": "https://github.com/apache/datafusion/pull/5234", "diff_url": "https://github.com/apache/datafusion/pull/5234.diff", "patch_url": "https://github.com/apache/datafusion/pull/5234.patch", "merged_at": "2023-02-10T18:39:26Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses  #5233.\r\nPart of #4685\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n \r\n\r\n# Are these changes tested?\r\n\r\nNo need, current tests can cover this problem, but it was hidden by skip_failed_rules.\r\n\r\nset `pub skip_failed_rules: bool, default = false`\r\n\r\nBefore this PR, `sort_on_window_null_string` will fail.\r\nAfter this PR, they will success.\r\n\r\n# Are there any user-facing changes?\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5232", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5232/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5232/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5232/events", "html_url": "https://github.com/apache/datafusion/pull/5232", "id": 1578954662, "node_id": "PR_kwDOFWSkxs5JrJW1", "number": 5232, "title": "Update README.md fix [welcoming community] links", "user": {"login": "jiangzhx", "id": 494507, "node_id": "MDQ6VXNlcjQ5NDUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/494507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiangzhx", "html_url": "https://github.com/jiangzhx", "followers_url": "https://api.github.com/users/jiangzhx/followers", "following_url": "https://api.github.com/users/jiangzhx/following{/other_user}", "gists_url": "https://api.github.com/users/jiangzhx/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiangzhx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiangzhx/subscriptions", "organizations_url": "https://api.github.com/users/jiangzhx/orgs", "repos_url": "https://api.github.com/users/jiangzhx/repos", "events_url": "https://api.github.com/users/jiangzhx/events{/privacy}", "received_events_url": "https://api.github.com/users/jiangzhx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2923018882, "node_id": "MDU6TGFiZWwyOTIzMDE4ODgy", "url": "https://api.github.com/repos/apache/datafusion/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-10T04:11:06Z", "updated_at": "2023-02-10T04:42:08Z", "closed_at": "2023-02-10T04:40:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5232", "html_url": "https://github.com/apache/datafusion/pull/5232", "diff_url": "https://github.com/apache/datafusion/pull/5232.diff", "patch_url": "https://github.com/apache/datafusion/pull/5232.patch", "merged_at": "2023-02-10T04:40:37Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5225", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5225/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5225/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5225/events", "html_url": "https://github.com/apache/datafusion/pull/5225", "id": 1577844230, "node_id": "PR_kwDOFWSkxs5JnbMt", "number": 5225, "title": "Minor: Fix doc links and typos", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-09T12:53:52Z", "updated_at": "2023-02-10T20:53:09Z", "closed_at": "2023-02-10T18:53:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5225", "html_url": "https://github.com/apache/datafusion/pull/5225", "diff_url": "https://github.com/apache/datafusion/pull/5225.diff", "patch_url": "https://github.com/apache/datafusion/pull/5225.patch", "merged_at": "2023-02-10T18:53:14Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nn/a\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFixing broken links that caused warnings when running `cargo doc`. Also fix some typos\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n`cargo doc` no longer generates warnings\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5224", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5224/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5224/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5224/events", "html_url": "https://github.com/apache/datafusion/pull/5224", "id": 1577583406, "node_id": "PR_kwDOFWSkxs5JmiVS", "number": 5224, "title": "fix: correct expected error in test", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-09T10:00:23Z", "updated_at": "2023-02-10T08:52:17Z", "closed_at": "2023-02-10T08:47:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5224", "html_url": "https://github.com/apache/datafusion/pull/5224", "diff_url": "https://github.com/apache/datafusion/pull/5224.diff", "patch_url": "https://github.com/apache/datafusion/pull/5224.patch", "merged_at": "2023-02-10T08:47:12Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5217.\r\nPart of #4685\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nNo need, current tests can cover this problem, but it was hidden by skip_failed_rules.\r\n\r\nset `pub skip_failed_rules: bool, default = false`\r\n\r\nBefore this PR, `cast_string_to_time` and `in_list_types_struct_literal` will fail.\r\nAfter this PR, they will success.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5219", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5219/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5219/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5219/events", "html_url": "https://github.com/apache/datafusion/pull/5219", "id": 1575503055, "node_id": "PR_kwDOFWSkxs5Jfjxq", "number": 5219, "title": "bugfix: fix propagating empty_relation generates an illegal plan", "user": {"login": "yukkit", "id": 28214641, "node_id": "MDQ6VXNlcjI4MjE0NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/28214641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yukkit", "html_url": "https://github.com/yukkit", "followers_url": "https://api.github.com/users/yukkit/followers", "following_url": "https://api.github.com/users/yukkit/following{/other_user}", "gists_url": "https://api.github.com/users/yukkit/gists{/gist_id}", "starred_url": "https://api.github.com/users/yukkit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yukkit/subscriptions", "organizations_url": "https://api.github.com/users/yukkit/orgs", "repos_url": "https://api.github.com/users/yukkit/repos", "events_url": "https://api.github.com/users/yukkit/events{/privacy}", "received_events_url": "https://api.github.com/users/yukkit/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-08T05:24:45Z", "updated_at": "2023-02-08T18:53:18Z", "closed_at": "2023-02-08T18:43:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5219", "html_url": "https://github.com/apache/datafusion/pull/5219", "diff_url": "https://github.com/apache/datafusion/pull/5219.diff", "patch_url": "https://github.com/apache/datafusion/pull/5219.patch", "merged_at": "2023-02-08T18:43:16Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5218 .\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5216", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5216/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5216/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5216/events", "html_url": "https://github.com/apache/datafusion/pull/5216", "id": 1574835499, "node_id": "PR_kwDOFWSkxs5JdV7V", "number": 5216, "title": "Replace placeholders in ScalarSubqueries", "user": {"login": "avantgardnerio", "id": 3855243, "node_id": "MDQ6VXNlcjM4NTUyNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3855243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avantgardnerio", "html_url": "https://github.com/avantgardnerio", "followers_url": "https://api.github.com/users/avantgardnerio/followers", "following_url": "https://api.github.com/users/avantgardnerio/following{/other_user}", "gists_url": "https://api.github.com/users/avantgardnerio/gists{/gist_id}", "starred_url": "https://api.github.com/users/avantgardnerio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avantgardnerio/subscriptions", "organizations_url": "https://api.github.com/users/avantgardnerio/orgs", "repos_url": "https://api.github.com/users/avantgardnerio/repos", "events_url": "https://api.github.com/users/avantgardnerio/events{/privacy}", "received_events_url": "https://api.github.com/users/avantgardnerio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-07T18:30:20Z", "updated_at": "2023-02-08T18:15:29Z", "closed_at": "2023-02-08T15:42:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5216", "html_url": "https://github.com/apache/datafusion/pull/5216", "diff_url": "https://github.com/apache/datafusion/pull/5216.diff", "patch_url": "https://github.com/apache/datafusion/pull/5216.patch", "merged_at": "2023-02-08T15:42:38Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5215.\r\n\r\n# Rationale for this change\r\n\r\nDescribed in issue.\r\n\r\n# What changes are included in this PR?\r\n\r\nReplace parameters in scalar subqueries.\r\n\r\n# Are these changes tested?\r\n\r\nWith an integration test, yes.\r\n\r\n# Are there any user-facing changes?\r\n\r\nScalar subqueries with parameters should work.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5210", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5210/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5210/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5210/events", "html_url": "https://github.com/apache/datafusion/pull/5210", "id": 1574129481, "node_id": "PR_kwDOFWSkxs5Ja9la", "number": 5210, "title": "Dataframe join_on method", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-07T11:08:00Z", "updated_at": "2023-02-09T11:23:40Z", "closed_at": "2023-02-09T10:59:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5210", "html_url": "https://github.com/apache/datafusion/pull/5210", "diff_url": "https://github.com/apache/datafusion/pull/5210.diff", "patch_url": "https://github.com/apache/datafusion/pull/5210.patch", "merged_at": "2023-02-09T10:59:59Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #1254\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nNew method for DataFrame `join_on` allowing user to pass in arbitrary `Expr`'s which are AND'ed together to form the `ON` condition.\r\n\r\nAlso fix to DataFrame join to enforce ambiguity check, like how was done by SQL planner\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nNew unit test\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\nNew method in DataFrame, doc updated\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5208", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5208/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5208/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5208/events", "html_url": "https://github.com/apache/datafusion/pull/5208", "id": 1573621663, "node_id": "PR_kwDOFWSkxs5JZRIv", "number": 5208, "title": "bugfix: fix eval `nullalbe()` in `simplify_exprs`", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-07T03:34:40Z", "updated_at": "2023-02-10T03:52:10Z", "closed_at": "2023-02-07T21:21:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5208", "html_url": "https://github.com/apache/datafusion/pull/5208", "diff_url": "https://github.com/apache/datafusion/pull/5208.diff", "patch_url": "https://github.com/apache/datafusion/pull/5208.patch", "merged_at": "2023-02-07T21:21:12Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5191.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nRemove use `all_schemas()`  but use the plan schema + children_merge_schema().\r\n\r\nset `pub skip_failed_rules: bool, default = false`\r\n\r\nBefore this PR, `right_anti_filter_push_down` and `right_semi_with_alias_filter` will fail.\r\nAfter this PR, they will success.\r\n\r\n# Are these changes tested?\r\n\r\nCurrent test can cover it (we just need to disable skip_fail)\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5207", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5207/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5207/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5207/events", "html_url": "https://github.com/apache/datafusion/pull/5207", "id": 1573590605, "node_id": "PR_kwDOFWSkxs5JZKsP", "number": 5207, "title": "minor: remove unnecessary clone", "user": {"login": "Ted-Jiang", "id": 37145547, "node_id": "MDQ6VXNlcjM3MTQ1NTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/37145547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ted-Jiang", "html_url": "https://github.com/Ted-Jiang", "followers_url": "https://api.github.com/users/Ted-Jiang/followers", "following_url": "https://api.github.com/users/Ted-Jiang/following{/other_user}", "gists_url": "https://api.github.com/users/Ted-Jiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ted-Jiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ted-Jiang/subscriptions", "organizations_url": "https://api.github.com/users/Ted-Jiang/orgs", "repos_url": "https://api.github.com/users/Ted-Jiang/repos", "events_url": "https://api.github.com/users/Ted-Jiang/events{/privacy}", "received_events_url": "https://api.github.com/users/Ted-Jiang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-07T02:50:43Z", "updated_at": "2023-02-07T12:52:41Z", "closed_at": "2023-02-07T12:45:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5207", "html_url": "https://github.com/apache/datafusion/pull/5207", "diff_url": "https://github.com/apache/datafusion/pull/5207.diff", "patch_url": "https://github.com/apache/datafusion/pull/5207.patch", "merged_at": "2023-02-07T12:45:08Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\nextract clone outsite.\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5207/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5203", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5203/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5203/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5203/events", "html_url": "https://github.com/apache/datafusion/pull/5203", "id": 1572926544, "node_id": "PR_kwDOFWSkxs5JW7Rk", "number": 5203, "title": "minor: extract `merge_schema()` function.", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-06T16:52:50Z", "updated_at": "2023-02-07T03:22:19Z", "closed_at": "2023-02-07T03:20:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5203", "html_url": "https://github.com/apache/datafusion/pull/5203", "diff_url": "https://github.com/apache/datafusion/pull/5203.diff", "patch_url": "https://github.com/apache/datafusion/pull/5203.patch", "merged_at": "2023-02-07T03:20:14Z"}, "body": "# Which issue does this PR close?\r\n\r\nrefactor code.\r\n\r\n# Rationale for this change\r\n\r\nN/A\r\n\r\n# What changes are included in this PR?\r\n\r\nN/A\r\n\r\n\r\n# Are these changes tested?\r\n\r\nN/A\r\n\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5200", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5200/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5200/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5200/events", "html_url": "https://github.com/apache/datafusion/pull/5200", "id": 1572741277, "node_id": "PR_kwDOFWSkxs5JWTky", "number": 5200, "title": "minor: remove unnecessary `continue`", "user": {"login": "xiaoyong-z", "id": 31178013, "node_id": "MDQ6VXNlcjMxMTc4MDEz", "avatar_url": "https://avatars.githubusercontent.com/u/31178013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyong-z", "html_url": "https://github.com/xiaoyong-z", "followers_url": "https://api.github.com/users/xiaoyong-z/followers", "following_url": "https://api.github.com/users/xiaoyong-z/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyong-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyong-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyong-z/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyong-z/orgs", "repos_url": "https://api.github.com/users/xiaoyong-z/repos", "events_url": "https://api.github.com/users/xiaoyong-z/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyong-z/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-06T15:05:10Z", "updated_at": "2023-02-06T17:02:20Z", "closed_at": "2023-02-06T16:54:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5200", "html_url": "https://github.com/apache/datafusion/pull/5200", "diff_url": "https://github.com/apache/datafusion/pull/5200.diff", "patch_url": "https://github.com/apache/datafusion/pull/5200.patch", "merged_at": "2023-02-06T16:54:55Z"}, "body": "Signed-off-by: xyz <a997647204@gmail.com>\r\n\r\n# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5197", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5197/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5197/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5197/events", "html_url": "https://github.com/apache/datafusion/pull/5197", "id": 1572364706, "node_id": "PR_kwDOFWSkxs5JVBw_", "number": 5197, "title": "fix(MemTable): make it cancel-safe and fix parallelism", "user": {"login": "DDtKey", "id": 26835520, "node_id": "MDQ6VXNlcjI2ODM1NTIw", "avatar_url": "https://avatars.githubusercontent.com/u/26835520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DDtKey", "html_url": "https://github.com/DDtKey", "followers_url": "https://api.github.com/users/DDtKey/followers", "following_url": "https://api.github.com/users/DDtKey/following{/other_user}", "gists_url": "https://api.github.com/users/DDtKey/gists{/gist_id}", "starred_url": "https://api.github.com/users/DDtKey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DDtKey/subscriptions", "organizations_url": "https://api.github.com/users/DDtKey/orgs", "repos_url": "https://api.github.com/users/DDtKey/repos", "events_url": "https://api.github.com/users/DDtKey/events{/privacy}", "received_events_url": "https://api.github.com/users/DDtKey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-06T11:06:08Z", "updated_at": "2023-02-07T11:02:43Z", "closed_at": "2023-02-07T10:54:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5197", "html_url": "https://github.com/apache/datafusion/pull/5197", "diff_url": "https://github.com/apache/datafusion/pull/5197.diff", "patch_url": "https://github.com/apache/datafusion/pull/5197.patch", "merged_at": "2023-02-07T10:54:44Z"}, "body": "# Which issue does this PR close?\r\n\r\nThe issue is close to #5178, but for `MemTable`.\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\n# Rationale for this change\r\n\r\n1. It should be cancel-safe\r\n2. There was an issue with join - `await` was sequential\r\n3. There was possible to get a panic instead of Error\r\n \r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nExisted tests are passing\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5196", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5196/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5196/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5196/events", "html_url": "https://github.com/apache/datafusion/pull/5196", "id": 1572286619, "node_id": "PR_kwDOFWSkxs5JUw-0", "number": 5196, "title": "fix: make `write_csv/json/parquet` cancel-safe", "user": {"login": "DDtKey", "id": 26835520, "node_id": "MDQ6VXNlcjI2ODM1NTIw", "avatar_url": "https://avatars.githubusercontent.com/u/26835520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DDtKey", "html_url": "https://github.com/DDtKey", "followers_url": "https://api.github.com/users/DDtKey/followers", "following_url": "https://api.github.com/users/DDtKey/following{/other_user}", "gists_url": "https://api.github.com/users/DDtKey/gists{/gist_id}", "starred_url": "https://api.github.com/users/DDtKey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DDtKey/subscriptions", "organizations_url": "https://api.github.com/users/DDtKey/orgs", "repos_url": "https://api.github.com/users/DDtKey/repos", "events_url": "https://api.github.com/users/DDtKey/events{/privacy}", "received_events_url": "https://api.github.com/users/DDtKey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-06T10:14:15Z", "updated_at": "2023-02-07T11:02:44Z", "closed_at": "2023-02-07T10:59:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5196", "html_url": "https://github.com/apache/datafusion/pull/5196", "diff_url": "https://github.com/apache/datafusion/pull/5196.diff", "patch_url": "https://github.com/apache/datafusion/pull/5196.patch", "merged_at": "2023-02-07T10:59:51Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5178\r\n\r\n# Rationale for this change\r\n\r\nCurrently interruption from outside of datafusion don't stop spawned tasks and it continue to execute query.\r\nIt's very helpful to be able to restrict these methods by `timeout` or `select` for example.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nIt's quite hard to cover with union-tests and such test could be too flaky (any ideas are welcome). \r\nHowever all existed tests are passing successfully. \r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5194", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5194/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5194/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5194/events", "html_url": "https://github.com/apache/datafusion/pull/5194", "id": 1572103254, "node_id": "PR_kwDOFWSkxs5JUKaN", "number": 5194, "title": "Support arithmetic operation on DictionaryArray", "user": {"login": "viirya", "id": 68855, "node_id": "MDQ6VXNlcjY4ODU1", "avatar_url": "https://avatars.githubusercontent.com/u/68855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viirya", "html_url": "https://github.com/viirya", "followers_url": "https://api.github.com/users/viirya/followers", "following_url": "https://api.github.com/users/viirya/following{/other_user}", "gists_url": "https://api.github.com/users/viirya/gists{/gist_id}", "starred_url": "https://api.github.com/users/viirya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viirya/subscriptions", "organizations_url": "https://api.github.com/users/viirya/orgs", "repos_url": "https://api.github.com/users/viirya/repos", "events_url": "https://api.github.com/users/viirya/events{/privacy}", "received_events_url": "https://api.github.com/users/viirya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-06T08:06:15Z", "updated_at": "2023-02-07T04:52:54Z", "closed_at": "2023-02-07T04:43:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5194", "html_url": "https://github.com/apache/datafusion/pull/5194", "diff_url": "https://github.com/apache/datafusion/pull/5194.diff", "patch_url": "https://github.com/apache/datafusion/pull/5194.patch", "merged_at": "2023-02-07T04:43:26Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5193.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5190", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5190/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5190/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5190/events", "html_url": "https://github.com/apache/datafusion/pull/5190", "id": 1571943998, "node_id": "PR_kwDOFWSkxs5JTn_h", "number": 5190, "title": "Update README.md update blaze-rs link to https://github.com/blaze-init/blaze", "user": {"login": "jiangzhx", "id": 494507, "node_id": "MDQ6VXNlcjQ5NDUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/494507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiangzhx", "html_url": "https://github.com/jiangzhx", "followers_url": "https://api.github.com/users/jiangzhx/followers", "following_url": "https://api.github.com/users/jiangzhx/following{/other_user}", "gists_url": "https://api.github.com/users/jiangzhx/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiangzhx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiangzhx/subscriptions", "organizations_url": "https://api.github.com/users/jiangzhx/orgs", "repos_url": "https://api.github.com/users/jiangzhx/repos", "events_url": "https://api.github.com/users/jiangzhx/events{/privacy}", "received_events_url": "https://api.github.com/users/jiangzhx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2923018882, "node_id": "MDU6TGFiZWwyOTIzMDE4ODgy", "url": "https://api.github.com/repos/apache/datafusion/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-06T05:27:13Z", "updated_at": "2023-02-06T10:11:44Z", "closed_at": "2023-02-06T10:08:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5190", "html_url": "https://github.com/apache/datafusion/pull/5190", "diff_url": "https://github.com/apache/datafusion/pull/5190.diff", "patch_url": "https://github.com/apache/datafusion/pull/5190.patch", "merged_at": "2023-02-06T10:08:50Z"}, "body": "# Which issue does this PR close?\r\nUpdate README.md link blaze-rs to https://github.com/blaze-init/blaze", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5189", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5189/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5189/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5189/events", "html_url": "https://github.com/apache/datafusion/pull/5189", "id": 1571854365, "node_id": "PR_kwDOFWSkxs5JTUSn", "number": 5189, "title": "sqllogicaltest: add cleanup and use rowsort.", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-06T03:47:04Z", "updated_at": "2023-02-06T11:41:56Z", "closed_at": "2023-02-06T11:30:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5189", "html_url": "https://github.com/apache/datafusion/pull/5189", "diff_url": "https://github.com/apache/datafusion/pull/5189.diff", "patch_url": "https://github.com/apache/datafusion/pull/5189.patch", "merged_at": "2023-02-06T11:30:57Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5188", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5188/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5188/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5188/events", "html_url": "https://github.com/apache/datafusion/pull/5188", "id": 1571850695, "node_id": "PR_kwDOFWSkxs5JTTip", "number": 5188, "title": "bugfix: fix `TableScan` may contain fields not included in `schema`", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-06T03:40:53Z", "updated_at": "2023-02-07T14:53:00Z", "closed_at": "2023-02-07T14:49:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5188", "html_url": "https://github.com/apache/datafusion/pull/5188", "diff_url": "https://github.com/apache/datafusion/pull/5188.diff", "patch_url": "https://github.com/apache/datafusion/pull/5188.patch", "merged_at": "2023-02-07T14:49:30Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4793.\r\n\r\n# Rationale for this change\r\n\r\n\r\n# What changes are included in this PR?\r\n\r\nWhen tablescan projection don't contain field in scan-projection, we should push them into scan-projection\r\n\r\n# Are these changes tested?\r\n\r\nDon't need more test.\r\n\r\nIn the future, we will disable skipfail in optimizer. This PR will be test by `filter_pushdown_view` \r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5185", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5185/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5185/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5185/events", "html_url": "https://github.com/apache/datafusion/pull/5185", "id": 1571559626, "node_id": "PR_kwDOFWSkxs5JSYLI", "number": 5185, "title": "Create disk manager spill folder if doesn't exist", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-05T18:25:16Z", "updated_at": "2023-02-06T12:31:43Z", "closed_at": "2023-02-06T12:23:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5185", "html_url": "https://github.com/apache/datafusion/pull/5185", "diff_url": "https://github.com/apache/datafusion/pull/5185.diff", "patch_url": "https://github.com/apache/datafusion/pull/5185.patch", "merged_at": "2023-02-06T12:23:58Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5186 .\r\n\r\n# Rationale for this change\r\nDiskManager fails if the spill folder doesn't exist, that is bit annoying.\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n\r\n# What changes are included in this PR?\r\nCreate disk manager spill folder if doesn't exist\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nTest attached\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5183", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5183/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5183/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5183/events", "html_url": "https://github.com/apache/datafusion/pull/5183", "id": 1571180088, "node_id": "PR_kwDOFWSkxs5JRaxs", "number": 5183, "title": "Parse identifiers properly for TableReferences", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-05T00:21:49Z", "updated_at": "2023-02-06T21:12:25Z", "closed_at": "2023-02-06T21:08:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5183", "html_url": "https://github.com/apache/datafusion/pull/5183", "diff_url": "https://github.com/apache/datafusion/pull/5183.diff", "patch_url": "https://github.com/apache/datafusion/pull/5183.patch", "merged_at": "2023-02-06T21:08:43Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4532\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nBe able to parse identifiers properly for TableReference:\r\n\r\n- normalize unquoted identifiers\r\n- able to parse quoted identifiers with special characters (e.g. period)\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nChange TableReference to hold Cows of its str's since need to allocate new String due to parsing (not to mention for normalization as well)\r\n- need to fix usages since can't derive Copy anymore\r\n\r\nUse SQL parser to parse the possible multipart identifier, which handles quoted identifiers correctly\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nNew unit test added\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->\r\n\r\nTableReference public API is changed (`Cow<str>` instead of raw `&str`)\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5179", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5179/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5179/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5179/events", "html_url": "https://github.com/apache/datafusion/pull/5179", "id": 1571136150, "node_id": "PR_kwDOFWSkxs5JRSSx", "number": 5179, "title": "Fix decimal scalar dyn kernels", "user": {"login": "viirya", "id": 68855, "node_id": "MDQ6VXNlcjY4ODU1", "avatar_url": "https://avatars.githubusercontent.com/u/68855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viirya", "html_url": "https://github.com/viirya", "followers_url": "https://api.github.com/users/viirya/followers", "following_url": "https://api.github.com/users/viirya/following{/other_user}", "gists_url": "https://api.github.com/users/viirya/gists{/gist_id}", "starred_url": "https://api.github.com/users/viirya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viirya/subscriptions", "organizations_url": "https://api.github.com/users/viirya/orgs", "repos_url": "https://api.github.com/users/viirya/repos", "events_url": "https://api.github.com/users/viirya/events{/privacy}", "received_events_url": "https://api.github.com/users/viirya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-04T21:38:21Z", "updated_at": "2023-02-06T08:12:17Z", "closed_at": "2023-02-06T08:02:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5179", "html_url": "https://github.com/apache/datafusion/pull/5179", "diff_url": "https://github.com/apache/datafusion/pull/5179.diff", "patch_url": "https://github.com/apache/datafusion/pull/5179.patch", "merged_at": "2023-02-06T08:02:29Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nFollow of #5151.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFor `add_decimal_dyn_scalar` and `subtract_decimal_dyn_scalar`, it should call `get_precision_scale` and `decimal_array_with_precision_scale` like `multiply_decimal_dyn_scalar` and `divide_decimal_dyn_scalar` as the input/output could be DictionaryArray.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5177", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5177/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5177/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5177/events", "html_url": "https://github.com/apache/datafusion/pull/5177", "id": 1571001659, "node_id": "PR_kwDOFWSkxs5JQ3Ei", "number": 5177, "title": "Patch git Safe Paths in CI", "user": {"login": "tustvold", "id": 1781103, "node_id": "MDQ6VXNlcjE3ODExMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1781103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tustvold", "html_url": "https://github.com/tustvold", "followers_url": "https://api.github.com/users/tustvold/followers", "following_url": "https://api.github.com/users/tustvold/following{/other_user}", "gists_url": "https://api.github.com/users/tustvold/gists{/gist_id}", "starred_url": "https://api.github.com/users/tustvold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tustvold/subscriptions", "organizations_url": "https://api.github.com/users/tustvold/orgs", "repos_url": "https://api.github.com/users/tustvold/repos", "events_url": "https://api.github.com/users/tustvold/events{/privacy}", "received_events_url": "https://api.github.com/users/tustvold/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-04T15:54:06Z", "updated_at": "2023-02-05T10:31:27Z", "closed_at": "2023-02-05T10:23:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5177", "html_url": "https://github.com/apache/datafusion/pull/5177", "diff_url": "https://github.com/apache/datafusion/pull/5177.diff", "patch_url": "https://github.com/apache/datafusion/pull/5177.patch", "merged_at": "2023-02-05T10:23:49Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nRecently ran into this in https://github.com/apache/arrow-rs/pull/3661 so thought I would add the fix here also, as this repo will likely run into the same issue.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5176", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5176/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5176/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5176/events", "html_url": "https://github.com/apache/datafusion/pull/5176", "id": 1570949783, "node_id": "PR_kwDOFWSkxs5JQs9f", "number": 5176, "title": "Add initial support for serializing physical plans with Substrait", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-04T13:45:27Z", "updated_at": "2023-02-07T12:13:54Z", "closed_at": "2023-02-07T12:05:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5176", "html_url": "https://github.com/apache/datafusion/pull/5176", "diff_url": "https://github.com/apache/datafusion/pull/5176.diff", "patch_url": "https://github.com/apache/datafusion/pull/5176.patch", "merged_at": "2023-02-07T12:05:13Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/5173\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nI would like to be able to use Substrait with physical plans.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n- Move existing consumer and producer into `substrait::logical_plan` namespace.\r\n- Create new consumer and producer in `substrait::physical_plan` namespace.\r\n- Implement very basic support for serializing `ParquetExec` (really, not enough to be actually useful, but gets the structure in place).\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nNew test added\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\nNo\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5172", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5172/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5172/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5172/events", "html_url": "https://github.com/apache/datafusion/pull/5172", "id": 1570678238, "node_id": "PR_kwDOFWSkxs5JP08Q", "number": 5172, "title": "Bump tokio from 1.24.1 to 1.24.2 in /datafusion-cli", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3679349472, "node_id": "LA_kwDOFWSkxs7bTmrg", "url": "https://api.github.com/repos/apache/datafusion/labels/auto-dependencies", "name": "auto-dependencies", "color": "45A736", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-04T00:57:48Z", "updated_at": "2023-02-04T16:02:23Z", "closed_at": "2023-02-04T15:59:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5172", "html_url": "https://github.com/apache/datafusion/pull/5172", "diff_url": "https://github.com/apache/datafusion/pull/5172.diff", "patch_url": "https://github.com/apache/datafusion/pull/5172.patch", "merged_at": "2023-02-04T15:59:27Z"}, "body": "Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.24.1 to 1.24.2.\n<details>\n<summary>Commits</summary>\n<ul>\n<li>See full diff in <a href=\"https://github.com/tokio-rs/tokio/commits\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=tokio&package-manager=cargo&previous-version=1.24.1&new-version=1.24.2)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/apache/arrow-datafusion/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5171", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5171/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5171/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5171/events", "html_url": "https://github.com/apache/datafusion/pull/5171", "id": 1569531987, "node_id": "PR_kwDOFWSkxs5JL7aJ", "number": 5171, "title": "Make EnforceSorting global sort aware, fix sort mis-optimizations involving unions, support parallel sort + merge transformations", "user": {"login": "mustafasrepo", "id": 106137913, "node_id": "U_kgDOBlOJOQ", "avatar_url": "https://avatars.githubusercontent.com/u/106137913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mustafasrepo", "html_url": "https://github.com/mustafasrepo", "followers_url": "https://api.github.com/users/mustafasrepo/followers", "following_url": "https://api.github.com/users/mustafasrepo/following{/other_user}", "gists_url": "https://api.github.com/users/mustafasrepo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mustafasrepo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mustafasrepo/subscriptions", "organizations_url": "https://api.github.com/users/mustafasrepo/orgs", "repos_url": "https://api.github.com/users/mustafasrepo/repos", "events_url": "https://api.github.com/users/mustafasrepo/events{/privacy}", "received_events_url": "https://api.github.com/users/mustafasrepo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2023-02-03T09:37:22Z", "updated_at": "2023-02-10T06:51:34Z", "closed_at": "2023-02-08T22:14:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5171", "html_url": "https://github.com/apache/datafusion/pull/5171", "diff_url": "https://github.com/apache/datafusion/pull/5171.diff", "patch_url": "https://github.com/apache/datafusion/pull/5171.patch", "merged_at": "2023-02-08T22:14:29Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses [#5100](https://github.com/apache/arrow-datafusion/issues/5100).\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\nWhy are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\nExplaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.\r\n-->\r\nWe want to have the ability to leverage parallelism in sorts when appropriate, which requires `EnforceSorting` to be partition aware. We also want to further decouple `EnforceSorting` and `EnforceDistribution` rules, with the end goal being complete orthogonality. Currently, there is coupling in both directions: In order to produce valid plans, one needs to apply the `EnforceDistribution` rule before applying `EnforceSorting`, and the `EnforceDistribution` breaks sorting requirements and produces invalid plans on its own.\r\n\r\nWith this PR, coupling is broken in one direction (`EnforceSorting` does not require `EnforceDistribution` to work correctly anymore), but not the other way yet (`EnforceDistribution` may still invalidate sort correctness, so one still needs to call `EnforceSorting` after that). Note that it is on our TODO list to fix the other direction too.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nThis PR adds a couple of functionalities to the `EnforceSorting` rule. \r\n\r\n- Adds parallelize option to the`EnforceSorting` rule. If this flag is enabled. Physical plans of the form\r\n    \r\n    ```rust\r\n    \"SortExec: [t1_id@0 ASC NULLS LAST]\",\r\n    \"  CoalescePartitionsExec\",\r\n    \"    RepartitionExec: partitioning=RoundRobinBatch(2), input_partitions=1\",\r\n    ```\r\n    \r\n    will turn into the plan below:\r\n    \r\n    ```rust\r\n    \"SortPreservingMergeExec: [t1_id@0 ASC NULLS LAST]\",\r\n    \"  SortExec: [t1_id@0 ASC NULLS LAST]\",\r\n    \"    RepartitionExec: partitioning=RoundRobinBatch(2), input_partitions=1\",\r\n    ```\r\n    \r\n    This increases speed in multi-threaded environments. You can see time comparisons below:\r\n    \r\n    | n_row | distinct | batch_size | Repartition Mode(8) | Rule On (mean) | Rule On(Median) | Rule Off (mean) | Rule Off(Median) |\r\n    | --- | --- | --- | --- | --- | --- | --- | --- |\r\n    | 1000 | 100 | 100 | RoundRobin | 3.015032ms | 2.988125ms | 5.213412ms | 4.515166ms |\r\n    | 1000 | 100 | 100 | Hash | 6.00907ms | 5.895166ms | 10.636287ms | 10.3025ms |\r\n    | 10_000 | 100 | 100 | RoundRobin | 24.429487ms | 24.042291ms | 84.282599ms | 84.117083ms |\r\n    | 10_000 | 100 | 100 | Hash | 48.779278ms | 48.970708ms | 517.195637ms | 520.449625ms |\r\n    | 20_000 | 100 | 100 | RoundRobin | 47.297341ms | 47.141041ms | 289.02502ms | 290.58625ms |\r\n    | 20_000 | 100 | 100 | Hash | 114.230287ms | 107.842291ms | 1.992879062s | 2.002725333s |\r\n    | 50_000 | 100 | 100 | RoundRobin | 117.185937ms | 115.300583ms | 1.604551912s | 1.609479958s |\r\n    | 50_000 | 100 | 100 | Hash | 425.755595ms | 430.346625ms | 12.683566324s | 12.502681458s |\r\n- Issue [#5100](https://github.com/apache/arrow-datafusion/issues/5100) is closed, fixing the limit bug.\r\n- The `EnforceSorting` rule now also considers `SortPreservingMergeExec`s when performing optimizations. This enables us to optimize more queries.\r\n- We handle cases where a `UnionExec` partially maintains the ordering of some of its children, such as the case below:\r\n    \r\n    ```rust\r\n    \"  UnionExec\",\r\n    \"    SortExec: [nullable_col@0 ASC,non_nullable_col@1 ASC]\",\r\n    \"      ParquetExec: limit=None, partitions={1 group: [[x]]}, projection=[nullable_col, non_nullable_col]\",\r\n    \"    ParquetExec: limit=None, partitions={1 group: [[x]]}, output_ordering=[nullable_col@0 ASC], projection=[nullable_col, non_nullable_col]\",\r\n    ```\r\n    \r\n    In this case, output ordering of `UnionExec` is `nullable_col@0 ASC`. It maintains the ordering of its second child and partially maintains the ordering of its first child. The `EnforceSorting` rule now considers such partially-order-maintaining paths during optimization. \r\n    \r\n- In order to handle multi-children operators like `UnionExec`s properly, the assumption that ordering only comes from a single path in the physical plan tree is removed. Now ordering can come from multiple paths.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nWe have added multiple tests to cover above mentioned functionalities. Approximately 550 lines of the changes come from test or test utils.\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo.\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5171/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5171/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5168", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5168/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5168/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5168/events", "html_url": "https://github.com/apache/datafusion/pull/5168", "id": 1569266111, "node_id": "PR_kwDOFWSkxs5JLBzE", "number": 5168, "title": "Update substrait  README.md", "user": {"login": "jiangzhx", "id": 494507, "node_id": "MDQ6VXNlcjQ5NDUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/494507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiangzhx", "html_url": "https://github.com/jiangzhx", "followers_url": "https://api.github.com/users/jiangzhx/followers", "following_url": "https://api.github.com/users/jiangzhx/following{/other_user}", "gists_url": "https://api.github.com/users/jiangzhx/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiangzhx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiangzhx/subscriptions", "organizations_url": "https://api.github.com/users/jiangzhx/orgs", "repos_url": "https://api.github.com/users/jiangzhx/repos", "events_url": "https://api.github.com/users/jiangzhx/events{/privacy}", "received_events_url": "https://api.github.com/users/jiangzhx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-03T05:55:47Z", "updated_at": "2023-02-03T12:03:46Z", "closed_at": "2023-02-03T12:02:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5168", "html_url": "https://github.com/apache/datafusion/pull/5168", "diff_url": "https://github.com/apache/datafusion/pull/5168.diff", "patch_url": "https://github.com/apache/datafusion/pull/5168.patch", "merged_at": "2023-02-03T12:02:03Z"}, "body": "update\"DataFusion protobuf definition\" link to right place", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5167", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5167/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5167/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5167/events", "html_url": "https://github.com/apache/datafusion/pull/5167", "id": 1568939280, "node_id": "PR_kwDOFWSkxs5JKC8L", "number": 5167, "title": "Switch to use sum kernel from arrow-rs for Decimal128", "user": {"login": "sunchao", "id": 506679, "node_id": "MDQ6VXNlcjUwNjY3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/506679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunchao", "html_url": "https://github.com/sunchao", "followers_url": "https://api.github.com/users/sunchao/followers", "following_url": "https://api.github.com/users/sunchao/following{/other_user}", "gists_url": "https://api.github.com/users/sunchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunchao/subscriptions", "organizations_url": "https://api.github.com/users/sunchao/orgs", "repos_url": "https://api.github.com/users/sunchao/repos", "events_url": "https://api.github.com/users/sunchao/events{/privacy}", "received_events_url": "https://api.github.com/users/sunchao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-02T23:38:04Z", "updated_at": "2023-02-03T08:32:59Z", "closed_at": "2023-02-03T08:21:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5167", "html_url": "https://github.com/apache/datafusion/pull/5167", "diff_url": "https://github.com/apache/datafusion/pull/5167.diff", "patch_url": "https://github.com/apache/datafusion/pull/5167.patch", "merged_at": "2023-02-03T08:21:39Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFixes a TODO item in the codebase.\r\n\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nFixes a TODO item in `sum` aggregation: replace the sum logic for `Decimal128` with the usage of `sum` kernel provided by `arrow-rs`, which also uses SIMD and potentially can give better performance.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nYes, with existing tests.\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\nNo\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5161", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5161/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5161/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5161/events", "html_url": "https://github.com/apache/datafusion/pull/5161", "id": 1568155745, "node_id": "PR_kwDOFWSkxs5JHZTw", "number": 5161, "title": "FileStream: Open next file in parallel while decoding", "user": {"login": "thinkharderdev", "id": 1327726, "node_id": "MDQ6VXNlcjEzMjc3MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1327726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thinkharderdev", "html_url": "https://github.com/thinkharderdev", "followers_url": "https://api.github.com/users/thinkharderdev/followers", "following_url": "https://api.github.com/users/thinkharderdev/following{/other_user}", "gists_url": "https://api.github.com/users/thinkharderdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/thinkharderdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thinkharderdev/subscriptions", "organizations_url": "https://api.github.com/users/thinkharderdev/orgs", "repos_url": "https://api.github.com/users/thinkharderdev/repos", "events_url": "https://api.github.com/users/thinkharderdev/events{/privacy}", "received_events_url": "https://api.github.com/users/thinkharderdev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-02T14:24:44Z", "updated_at": "2023-02-07T11:02:47Z", "closed_at": "2023-02-07T10:54:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5161", "html_url": "https://github.com/apache/datafusion/pull/5161", "diff_url": "https://github.com/apache/datafusion/pull/5161.diff", "patch_url": "https://github.com/apache/datafusion/pull/5161.patch", "merged_at": "2023-02-07T10:54:06Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5129 \r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFile opening is mostly IO (and may involve a bunch of sequential IO) so it can probably be parallelized well with decoding. So we should open the next file in parallel while decoding the current file in `FileStream`\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nI think this should be covered by existing tests\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n`FileStreamMetrics.time_opening` is a slightly different metric now as it won't capture time spent opening but rather time spent opening while also not concurrently decoding. \r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5160", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5160/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5160/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5160/events", "html_url": "https://github.com/apache/datafusion/pull/5160", "id": 1567922212, "node_id": "PR_kwDOFWSkxs5JGmsj", "number": 5160, "title": "Fix FairSpillPool try_grow for non-spillable consumers", "user": {"login": "tustvold", "id": 1781103, "node_id": "MDQ6VXNlcjE3ODExMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1781103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tustvold", "html_url": "https://github.com/tustvold", "followers_url": "https://api.github.com/users/tustvold/followers", "following_url": "https://api.github.com/users/tustvold/following{/other_user}", "gists_url": "https://api.github.com/users/tustvold/gists{/gist_id}", "starred_url": "https://api.github.com/users/tustvold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tustvold/subscriptions", "organizations_url": "https://api.github.com/users/tustvold/orgs", "repos_url": "https://api.github.com/users/tustvold/repos", "events_url": "https://api.github.com/users/tustvold/events{/privacy}", "received_events_url": "https://api.github.com/users/tustvold/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-02T12:05:25Z", "updated_at": "2023-02-02T12:51:45Z", "closed_at": "2023-02-02T12:46:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5160", "html_url": "https://github.com/apache/datafusion/pull/5160", "diff_url": "https://github.com/apache/datafusion/pull/5160.diff", "patch_url": "https://github.com/apache/datafusion/pull/5160.patch", "merged_at": "2023-02-02T12:46:37Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nSpotted by @xiaoyong-z on https://github.com/apache/arrow-datafusion/pull/4522#discussion_r1094187143\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5159", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5159/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5159/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5159/events", "html_url": "https://github.com/apache/datafusion/pull/5159", "id": 1567861275, "node_id": "PR_kwDOFWSkxs5JGZVy", "number": 5159, "title": "fix: treat unsupported SQL plans as \"not implemented\"", "user": {"login": "crepererum", "id": 1529400, "node_id": "MDQ6VXNlcjE1Mjk0MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1529400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crepererum", "html_url": "https://github.com/crepererum", "followers_url": "https://api.github.com/users/crepererum/followers", "following_url": "https://api.github.com/users/crepererum/following{/other_user}", "gists_url": "https://api.github.com/users/crepererum/gists{/gist_id}", "starred_url": "https://api.github.com/users/crepererum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crepererum/subscriptions", "organizations_url": "https://api.github.com/users/crepererum/orgs", "repos_url": "https://api.github.com/users/crepererum/repos", "events_url": "https://api.github.com/users/crepererum/events{/privacy}", "received_events_url": "https://api.github.com/users/crepererum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-02T11:26:10Z", "updated_at": "2023-02-03T11:13:00Z", "closed_at": "2023-02-03T11:05:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5159", "html_url": "https://github.com/apache/datafusion/pull/5159", "diff_url": "https://github.com/apache/datafusion/pull/5159.diff", "patch_url": "https://github.com/apache/datafusion/pull/5159.patch", "merged_at": "2023-02-03T11:05:22Z"}, "body": "# Which issue does this PR close?\r\n\\--\r\n\r\n# Rationale for this change\r\nUse the correct error type because API users may rely on that (e.g. to generate appropriate HTTP error codes).\r\n\r\n# What changes are included in this PR?\r\nChange some errors from `Internal` to `NotImplemented`.\r\n\r\n# Are these changes tested?\r\nSQL test, see changed test.\r\n\r\n# Are there any user-facing changes?\r\nImproved error types.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5159/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5158", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5158/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5158/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5158/events", "html_url": "https://github.com/apache/datafusion/pull/5158", "id": 1567685237, "node_id": "PR_kwDOFWSkxs5JFzIU", "number": 5158, "title": "Compare NULL types", "user": {"login": "melgenek", "id": 3802287, "node_id": "MDQ6VXNlcjM4MDIyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3802287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melgenek", "html_url": "https://github.com/melgenek", "followers_url": "https://api.github.com/users/melgenek/followers", "following_url": "https://api.github.com/users/melgenek/following{/other_user}", "gists_url": "https://api.github.com/users/melgenek/gists{/gist_id}", "starred_url": "https://api.github.com/users/melgenek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melgenek/subscriptions", "organizations_url": "https://api.github.com/users/melgenek/orgs", "repos_url": "https://api.github.com/users/melgenek/repos", "events_url": "https://api.github.com/users/melgenek/events{/privacy}", "received_events_url": "https://api.github.com/users/melgenek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-02T09:45:55Z", "updated_at": "2023-02-02T19:02:50Z", "closed_at": "2023-02-02T17:43:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5158", "html_url": "https://github.com/apache/datafusion/pull/5158", "diff_url": "https://github.com/apache/datafusion/pull/5158.diff", "patch_url": "https://github.com/apache/datafusion/pull/5158.patch", "merged_at": "2023-02-02T17:43:55Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #4335.\r\n\r\n# Rationale for this change\r\n\r\nThese queries should produce a value instead of an error\r\n```\r\n\u276f select null and null;\r\n\u276f select null or null;\r\n```\r\n\r\n# What changes are included in this PR?\r\n\r\nNull comparison coercion and tests.\r\n\r\nI made the null logical comparison produce booleans. This is the Postgres does it, and DataFusion seems to be compatible with Postgres.\r\n\r\n# Are these changes tested?\r\nSqllogictests and unit tests\r\n\r\n# Are there any user-facing changes?\r\n\r\n`null and null` and `null or null` would produce Boolean null value instead of an error.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5156", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5156/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5156/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5156/events", "html_url": "https://github.com/apache/datafusion/pull/5156", "id": 1567505044, "node_id": "PR_kwDOFWSkxs5JFNRx", "number": 5156, "title": "Always wrapping OnceAsync for the inner table side in NestedLoopJoinExec", "user": {"login": "ygf11", "id": 3428089, "node_id": "MDQ6VXNlcjM0MjgwODk=", "avatar_url": "https://avatars.githubusercontent.com/u/3428089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ygf11", "html_url": "https://github.com/ygf11", "followers_url": "https://api.github.com/users/ygf11/followers", "following_url": "https://api.github.com/users/ygf11/following{/other_user}", "gists_url": "https://api.github.com/users/ygf11/gists{/gist_id}", "starred_url": "https://api.github.com/users/ygf11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ygf11/subscriptions", "organizations_url": "https://api.github.com/users/ygf11/orgs", "repos_url": "https://api.github.com/users/ygf11/repos", "events_url": "https://api.github.com/users/ygf11/events{/privacy}", "received_events_url": "https://api.github.com/users/ygf11/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-02T07:46:42Z", "updated_at": "2023-02-14T01:14:15Z", "closed_at": "2023-02-12T13:10:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5156", "html_url": "https://github.com/apache/datafusion/pull/5156", "diff_url": "https://github.com/apache/datafusion/pull/5156.diff", "patch_url": "https://github.com/apache/datafusion/pull/5156.patch", "merged_at": "2023-02-12T13:10:31Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5022.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFor the nested loop join, the algorithm will be like:\r\n```\r\n  for out-row in outer-table\r\n    for inner-row in inner-table\r\n       check-join\r\n```\r\nWe can see, the inner table will be visited many time.\r\nIn the current implemetion of `NestedLoopJoin`, the relationship between `inner/outer table` and `left/right table` is not fixed, it is decided by the required distribution:\r\n* For (UnspecifiedDistribution, SinglePartition), right is the inner table side.\r\n* For (SinglePartition, UnspecifiedDistribution), left table is the inner table side.\r\n\r\nIf the table is the inner side, we should wrap `OnceAsync` for it. There are two reasons:\r\n* It is better to cache the result of a physical plan that has to be executed many times.\r\n* Some physical plan can not be executed many time, like `RepartitionExec`.\r\n\r\nThe `NestedLoopJoinExec` always only load/cache(`OnceAsync`) the left table now, it is not correct(right table may be the inner table side), some queries(#5022) will panic for this reason. we should always load/cache the inner table data. \r\n\r\n# What changes are included in this PR?\r\n1. Always load/cache(`OnceAsync`) the inner table data of nested loop join.\r\n2. Use the separated logic to handle difference distributions(build-left and build-right). \r\n3. Remove redundant usage of `bitmap`, Left/LeftAnti/LeftSemi joins do not need it now.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes.\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n5. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5156/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5155", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5155/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5155/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5155/events", "html_url": "https://github.com/apache/datafusion/pull/5155", "id": 1567289865, "node_id": "PR_kwDOFWSkxs5JEeaQ", "number": 5155, "title": "chore: add object_name_to_table_reference in SqlToRel", "user": {"login": "jiacai2050", "id": 3848910, "node_id": "MDQ6VXNlcjM4NDg5MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3848910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiacai2050", "html_url": "https://github.com/jiacai2050", "followers_url": "https://api.github.com/users/jiacai2050/followers", "following_url": "https://api.github.com/users/jiacai2050/following{/other_user}", "gists_url": "https://api.github.com/users/jiacai2050/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiacai2050/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiacai2050/subscriptions", "organizations_url": "https://api.github.com/users/jiacai2050/orgs", "repos_url": "https://api.github.com/users/jiacai2050/repos", "events_url": "https://api.github.com/users/jiacai2050/events{/privacy}", "received_events_url": "https://api.github.com/users/jiacai2050/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-02T04:11:53Z", "updated_at": "2023-02-04T05:30:40Z", "closed_at": "2023-02-03T20:33:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5155", "html_url": "https://github.com/apache/datafusion/pull/5155", "diff_url": "https://github.com/apache/datafusion/pull/5155.diff", "patch_url": "https://github.com/apache/datafusion/pull/5155.patch", "merged_at": "2023-02-03T20:33:45Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\nThis is a followup PR for #5124, which add add method in SqlToRel to simplify calls to `object_name_to_table_reference`.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n- Add method: `object_name_to_table_reference`\r\n- Update docs to include `sql_parser` options\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nCI itself.\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo \r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5155/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5153", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5153/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5153/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5153/events", "html_url": "https://github.com/apache/datafusion/pull/5153", "id": 1566838529, "node_id": "PR_kwDOFWSkxs5JC9yr", "number": 5153, "title": "Ambiguity check for where selection", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-01T21:12:38Z", "updated_at": "2023-02-06T21:21:46Z", "closed_at": "2023-02-06T21:14:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5153", "html_url": "https://github.com/apache/datafusion/pull/5153", "diff_url": "https://github.com/apache/datafusion/pull/5153.diff", "patch_url": "https://github.com/apache/datafusion/pull/5153.patch", "merged_at": "2023-02-06T21:14:35Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4196\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nCheck during sql where selection planning that columns aren't ambiguous. Also account for allowing outer query fields (if in an inner subquery)\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5153/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5152", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5152/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5152/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5152/events", "html_url": "https://github.com/apache/datafusion/pull/5152", "id": 1566801192, "node_id": "PR_kwDOFWSkxs5JC1gv", "number": 5152, "title": "feat: Type coercion for Dictionary(_, _) to Utf8 for regex conditions", "user": {"login": "stuartcarnie", "id": 52852, "node_id": "MDQ6VXNlcjUyODUy", "avatar_url": "https://avatars.githubusercontent.com/u/52852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartcarnie", "html_url": "https://github.com/stuartcarnie", "followers_url": "https://api.github.com/users/stuartcarnie/followers", "following_url": "https://api.github.com/users/stuartcarnie/following{/other_user}", "gists_url": "https://api.github.com/users/stuartcarnie/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartcarnie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartcarnie/subscriptions", "organizations_url": "https://api.github.com/users/stuartcarnie/orgs", "repos_url": "https://api.github.com/users/stuartcarnie/repos", "events_url": "https://api.github.com/users/stuartcarnie/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartcarnie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2923018889, "node_id": "MDU6TGFiZWwyOTIzMDE4ODg5", "url": "https://api.github.com/repos/apache/datafusion/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-01T20:45:53Z", "updated_at": "2023-03-12T19:05:18Z", "closed_at": "2023-02-03T20:33:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5152", "html_url": "https://github.com/apache/datafusion/pull/5152", "diff_url": "https://github.com/apache/datafusion/pull/5152.diff", "patch_url": "https://github.com/apache/datafusion/pull/5152.patch", "merged_at": "2023-02-03T20:33:12Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5154\r\n\r\n# Rationale for this change\r\n\r\nThis change teaches DataFusion how to coerce Dictionary(_, string-like-type) to a string-like type for regex conditional expressions, so the comparison may succeed.\r\n\r\n# What changes are included in this PR?\r\n\r\nUpdated the type coercion rules when encountering one of the regular expression operators.\r\n\r\n# Are these changes tested?\r\n\r\nYes, new tests were added to validate the changes.\r\n\r\n# Are there any user-facing changes?\r\n\r\nQueries that previously would fail with an error that the Dictionary type is incompatible with a regular expression condition will now succeed. IOx uses `Dictionary(Int32, Utf8)` columns for tags.\r\n\r\nIn some cases, regular expression queries succeed, such as:\r\n\r\n```sql\r\nSELECT usage_idle FROM cpu WHERE cpu ~ '9'\r\n```\r\n\r\nAs the optimiser changes the filter plan from a regex conditional to a `LIKE '%9%'`, and the `LIKE` operator has additional code to coerce dictionary types:\r\n\r\nhttps://github.com/apache/arrow-datafusion/blob/031534d94efb305eb26a7c16fd7e06ae3bcd88bb/datafusion/expr/src/type_coercion/binary.rs#L522\r\n\r\nhowever, other cases unexpectedly fail:\r\n\r\n```sql\r\nSELECT usage_idle FROM cpu WHERE cpu ~ '9$'\r\n```\r\n\r\nas the optimiser does not rewrite this to a `LIKE` expression[^1]\r\n\r\n[^1]: Incidentally, the optimiser could also rewrite this to `LIKE '%9'`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5152/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5151", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5151/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5151/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5151/events", "html_url": "https://github.com/apache/datafusion/pull/5151", "id": 1566696009, "node_id": "PR_kwDOFWSkxs5JCesq", "number": 5151, "title": "Support arithmetic scalar operation with DictionaryArray", "user": {"login": "viirya", "id": 68855, "node_id": "MDQ6VXNlcjY4ODU1", "avatar_url": "https://avatars.githubusercontent.com/u/68855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viirya", "html_url": "https://github.com/viirya", "followers_url": "https://api.github.com/users/viirya/followers", "following_url": "https://api.github.com/users/viirya/following{/other_user}", "gists_url": "https://api.github.com/users/viirya/gists{/gist_id}", "starred_url": "https://api.github.com/users/viirya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viirya/subscriptions", "organizations_url": "https://api.github.com/users/viirya/orgs", "repos_url": "https://api.github.com/users/viirya/repos", "events_url": "https://api.github.com/users/viirya/events{/privacy}", "received_events_url": "https://api.github.com/users/viirya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-01T19:34:29Z", "updated_at": "2023-02-03T08:02:40Z", "closed_at": "2023-02-03T08:00:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5151", "html_url": "https://github.com/apache/datafusion/pull/5151", "diff_url": "https://github.com/apache/datafusion/pull/5151.diff", "patch_url": "https://github.com/apache/datafusion/pull/5151.patch", "merged_at": "2023-02-03T08:00:59Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5150.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5148", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5148/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5148/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5148/events", "html_url": "https://github.com/apache/datafusion/pull/5148", "id": 1566430240, "node_id": "PR_kwDOFWSkxs5JBl_d", "number": 5148, "title": "[sqllogictest] Support `pg_typeof`", "user": {"login": "melgenek", "id": 3802287, "node_id": "MDQ6VXNlcjM4MDIyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3802287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melgenek", "html_url": "https://github.com/melgenek", "followers_url": "https://api.github.com/users/melgenek/followers", "following_url": "https://api.github.com/users/melgenek/following{/other_user}", "gists_url": "https://api.github.com/users/melgenek/gists{/gist_id}", "starred_url": "https://api.github.com/users/melgenek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melgenek/subscriptions", "organizations_url": "https://api.github.com/users/melgenek/orgs", "repos_url": "https://api.github.com/users/melgenek/repos", "events_url": "https://api.github.com/users/melgenek/events{/privacy}", "received_events_url": "https://api.github.com/users/melgenek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-01T16:31:25Z", "updated_at": "2023-02-01T22:44:38Z", "closed_at": "2023-02-01T22:16:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5148", "html_url": "https://github.com/apache/datafusion/pull/5148", "diff_url": "https://github.com/apache/datafusion/pull/5148.diff", "patch_url": "https://github.com/apache/datafusion/pull/5148.patch", "merged_at": "2023-02-01T22:16:39Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5147.\r\n\r\n# Rationale for this change\r\n\r\nIn sqllogictest tests I could write a query for Datafusion like this one\r\n```\r\nselect arrow_typeof(null and null), arrow_typeof(null or null);\r\n```\r\nI would like to write the same query for Postgres, so that not only values are checked for compatibility but also types\r\n```\r\nselect pg_typeof(null and null), pg_typeof(null or null);\r\n```\r\n# What changes are included in this PR?\r\n\r\nThis pr includes handling of `regtype` results in Postgres sqllogictest client.\r\n\r\n# Are these changes tested?\r\n\r\nGithub actions\r\n\r\n# Are there any user-facing changes?\r\n\r\nSqllogictest only", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5148/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5140", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5140/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5140/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5140/events", "html_url": "https://github.com/apache/datafusion/pull/5140", "id": 1565224741, "node_id": "PR_kwDOFWSkxs5I9i2_", "number": 5140, "title": "Date to Timestamp cast", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-02-01T00:55:37Z", "updated_at": "2023-02-02T18:20:14Z", "closed_at": "2023-02-02T17:12:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5140", "html_url": "https://github.com/apache/datafusion/pull/5140", "diff_url": "https://github.com/apache/datafusion/pull/5140.diff", "patch_url": "https://github.com/apache/datafusion/pull/5140.patch", "merged_at": "2023-02-02T17:12:50Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4761 \r\nCloses #4644 .\r\n\r\n# Rationale for this change\r\nIntroduce casting between dates and timestamps datatypes. Currently DF just panics on such kind of queries\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\nThis PR includes planner changes to support date to timestamp cast. \r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes. Tests enclosed\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5140/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5138", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5138/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5138/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5138/events", "html_url": "https://github.com/apache/datafusion/pull/5138", "id": 1565127662, "node_id": "PR_kwDOFWSkxs5I9N4q", "number": 5138, "title": "add example for Flight SQL server that supports JDBC driver", "user": {"login": "kmitchener", "id": 692497, "node_id": "MDQ6VXNlcjY5MjQ5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/692497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmitchener", "html_url": "https://github.com/kmitchener", "followers_url": "https://api.github.com/users/kmitchener/followers", "following_url": "https://api.github.com/users/kmitchener/following{/other_user}", "gists_url": "https://api.github.com/users/kmitchener/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmitchener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmitchener/subscriptions", "organizations_url": "https://api.github.com/users/kmitchener/orgs", "repos_url": "https://api.github.com/users/kmitchener/repos", "events_url": "https://api.github.com/users/kmitchener/events{/privacy}", "received_events_url": "https://api.github.com/users/kmitchener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-01-31T23:04:57Z", "updated_at": "2023-02-10T18:16:25Z", "closed_at": "2023-02-03T20:33:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5138", "html_url": "https://github.com/apache/datafusion/pull/5138", "diff_url": "https://github.com/apache/datafusion/pull/5138.diff", "patch_url": "https://github.com/apache/datafusion/pull/5138.patch", "merged_at": "2023-02-03T20:33:20Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5139 .\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nAdds an example for a standalone DataFusion server that can execute queries from tools like DBeaver or DataGrid via the JDBC Driver for Arrow Flight SQL.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nJust an example, and more dependencies in the datafusion-example module.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\nNo.\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5138/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5135", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5135/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5135/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5135/events", "html_url": "https://github.com/apache/datafusion/pull/5135", "id": 1564798569, "node_id": "PR_kwDOFWSkxs5I8ICp", "number": 5135, "title": "Add in-list test", "user": {"login": "nseekhao", "id": 37189615, "node_id": "MDQ6VXNlcjM3MTg5NjE1", "avatar_url": "https://avatars.githubusercontent.com/u/37189615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nseekhao", "html_url": "https://github.com/nseekhao", "followers_url": "https://api.github.com/users/nseekhao/followers", "following_url": "https://api.github.com/users/nseekhao/following{/other_user}", "gists_url": "https://api.github.com/users/nseekhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/nseekhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nseekhao/subscriptions", "organizations_url": "https://api.github.com/users/nseekhao/orgs", "repos_url": "https://api.github.com/users/nseekhao/repos", "events_url": "https://api.github.com/users/nseekhao/events{/privacy}", "received_events_url": "https://api.github.com/users/nseekhao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-31T18:18:48Z", "updated_at": "2023-02-01T00:07:34Z", "closed_at": "2023-02-01T00:00:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5135", "html_url": "https://github.com/apache/datafusion/pull/5135", "diff_url": "https://github.com/apache/datafusion/pull/5135.diff", "patch_url": "https://github.com/apache/datafusion/pull/5135.patch", "merged_at": "2023-02-01T00:00:01Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/5134\r\n# Rationale for this change\r\n\r\nDataFusion already turns `Expr::InList` into a series of `Eq` joined by `Or` (in an optimized plan). So explicit implementation is NOT needed to support `Expr::InList` (as of DataFusion version 17.0). Thus, only a test is added to confirm the validity of the support.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\nSimple `SELECT ... FROM ... WHERE c1 IN (<list>);` test.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5135/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5132", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5132/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5132/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5132/events", "html_url": "https://github.com/apache/datafusion/pull/5132", "id": 1564560032, "node_id": "PR_kwDOFWSkxs5I7VB3", "number": 5132, "title": "[BugFix] abort plan if order by column not in select list", "user": {"login": "xiaoyong-z", "id": 31178013, "node_id": "MDQ6VXNlcjMxMTc4MDEz", "avatar_url": "https://avatars.githubusercontent.com/u/31178013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyong-z", "html_url": "https://github.com/xiaoyong-z", "followers_url": "https://api.github.com/users/xiaoyong-z/followers", "following_url": "https://api.github.com/users/xiaoyong-z/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyong-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyong-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyong-z/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyong-z/orgs", "repos_url": "https://api.github.com/users/xiaoyong-z/repos", "events_url": "https://api.github.com/users/xiaoyong-z/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyong-z/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-31T15:40:03Z", "updated_at": "2023-02-11T13:41:47Z", "closed_at": "2023-02-11T13:38:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5132", "html_url": "https://github.com/apache/datafusion/pull/5132", "diff_url": "https://github.com/apache/datafusion/pull/5132.diff", "patch_url": "https://github.com/apache/datafusion/pull/5132.patch", "merged_at": "2023-02-11T13:38:31Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5065\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\nCurrently, if the order by column is not in select list, we will add_missing_columns to the select list.  This will lead to the bug in issue #5065.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nIn this pr, we modify the behaviour, for select distinct, we will throw error msg if order by expressions are not int select list.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\nyes \r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->\r\nno", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5131", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5131/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5131/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5131/events", "html_url": "https://github.com/apache/datafusion/pull/5131", "id": 1564550534, "node_id": "PR_kwDOFWSkxs5I7S-P", "number": 5131, "title": "Bug fix: Empty Record Batch handling", "user": {"login": "mustafasrepo", "id": 106137913, "node_id": "U_kgDOBlOJOQ", "avatar_url": "https://avatars.githubusercontent.com/u/106137913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mustafasrepo", "html_url": "https://github.com/mustafasrepo", "followers_url": "https://api.github.com/users/mustafasrepo/followers", "following_url": "https://api.github.com/users/mustafasrepo/following{/other_user}", "gists_url": "https://api.github.com/users/mustafasrepo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mustafasrepo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mustafasrepo/subscriptions", "organizations_url": "https://api.github.com/users/mustafasrepo/orgs", "repos_url": "https://api.github.com/users/mustafasrepo/repos", "events_url": "https://api.github.com/users/mustafasrepo/events{/privacy}", "received_events_url": "https://api.github.com/users/mustafasrepo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-31T15:34:14Z", "updated_at": "2023-02-10T06:51:41Z", "closed_at": "2023-01-31T21:58:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5131", "html_url": "https://github.com/apache/datafusion/pull/5131", "diff_url": "https://github.com/apache/datafusion/pull/5131.diff", "patch_url": "https://github.com/apache/datafusion/pull/5131.patch", "merged_at": "2023-01-31T21:58:43Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses [#5090](https://github.com/apache/arrow-datafusion/issues/5090).\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\nWhen cardinality of column is low, and target partition is high, we may get empty record batches in `WindowAggExec`. In these cases we receive an error as described in the [#5090](https://github.com/apache/arrow-datafusion/issues/5090). This PR adds handling for empty batches to fix the bug.\r\n\r\n# What changes are included in this PR?\r\n\r\nA simple change to fix the bug.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nYes, new tests are added.\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo.\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5124", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5124/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5124/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5124/events", "html_url": "https://github.com/apache/datafusion/pull/5124", "id": 1563928281, "node_id": "PR_kwDOFWSkxs5I5M_F", "number": 5124, "title": "Add option to control whether to normalize ident", "user": {"login": "jiacai2050", "id": 3848910, "node_id": "MDQ6VXNlcjM4NDg5MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3848910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiacai2050", "html_url": "https://github.com/jiacai2050", "followers_url": "https://api.github.com/users/jiacai2050/followers", "following_url": "https://api.github.com/users/jiacai2050/following{/other_user}", "gists_url": "https://api.github.com/users/jiacai2050/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiacai2050/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiacai2050/subscriptions", "organizations_url": "https://api.github.com/users/jiacai2050/orgs", "repos_url": "https://api.github.com/users/jiacai2050/repos", "events_url": "https://api.github.com/users/jiacai2050/events{/privacy}", "received_events_url": "https://api.github.com/users/jiacai2050/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-31T09:11:25Z", "updated_at": "2023-02-02T00:34:36Z", "closed_at": "2023-02-01T17:05:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5124", "html_url": "https://github.com/apache/datafusion/pull/5124", "diff_url": "https://github.com/apache/datafusion/pull/5124.diff", "patch_url": "https://github.com/apache/datafusion/pull/5124.patch", "merged_at": "2023-02-01T17:05:10Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4551.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\nSee issue above.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n- Add new field `enable_ident_normalization` in ParserOptions\r\n- Add SqlParserOptions in ConfigOptions\r\n# Are these changes tested?\r\n\r\nAdd new UT: parse_ident_normalization\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\nYes, users can configure this new option when parse SQL\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5118", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5118/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5118/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5118/events", "html_url": "https://github.com/apache/datafusion/pull/5118", "id": 1563378238, "node_id": "PR_kwDOFWSkxs5I3WvM", "number": 5118, "title": "Make `parse_physical_expr` public", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-30T23:38:56Z", "updated_at": "2023-01-31T17:20:18Z", "closed_at": "2023-01-31T17:17:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5118", "html_url": "https://github.com/apache/datafusion/pull/5118", "diff_url": "https://github.com/apache/datafusion/pull/5118.diff", "patch_url": "https://github.com/apache/datafusion/pull/5118.patch", "merged_at": "2023-01-31T17:17:26Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5107 .\r\n\r\n# Rationale for this change\r\nSee #5107 \r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\nMake `parse_physical_expr` public\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nNo need to test\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n`parse_physical_expr` method goes public\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5117", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5117/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5117/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5117/events", "html_url": "https://github.com/apache/datafusion/pull/5117", "id": 1563253490, "node_id": "PR_kwDOFWSkxs5I27WE", "number": 5117, "title": "Support coercing `utf8` to `interval` and `timestamp` (including arguments to `date_bin`)", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-30T21:41:32Z", "updated_at": "2023-02-02T18:27:48Z", "closed_at": "2023-02-02T18:23:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5117", "html_url": "https://github.com/apache/datafusion/pull/5117", "diff_url": "https://github.com/apache/datafusion/pull/5117.diff", "patch_url": "https://github.com/apache/datafusion/pull/5117.patch", "merged_at": "2023-02-02T18:23:04Z"}, "body": "~Draft as it~\r\n- [x] builds on https://github.com/apache/arrow-datafusion/pull/5115\r\n\r\n\r\n# Which issue does this PR close?\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/4853\r\n\r\n\r\n# Rationale for this change\r\n\r\n\r\n\r\nRationale:\r\n\r\n`date_bin` with a string value does not work and gives a hard to understand message:\r\n\r\n\r\n```sql\r\n\u276f  select date_bin('1 hour', column1, TIMESTAMP '2001-01-01 00:00:00Z')\r\nfrom (values\r\n  (timestamp '2022-01-01 00:00:00'),\r\n  (timestamp '2022-01-01 01:00:00'),\r\n(timestamp '2022-01-02 00:00:00')\r\n) as sq;\r\nPlan(\"Coercion from [Utf8, Timestamp(Nanosecond, None), Timestamp(Nanosecond, None)] to the signature Exact([Interval(DayTime), Timestamp(Nanosecond, None), Timestamp(Nanosecond, None)]) failed.\")\r\n```\r\n\r\n# What changes are included in this PR?\r\n1. Add coercion so that `Utf8` constants can be automatically coerced into Intervals (same as today)\r\n2. Add coercion so that `Utf8` can be automatically coerced into Timestamps\r\n3. Tests\r\n\r\n\r\n# Are these changes tested?\r\nYes\r\n\r\n# Are there any user-facing changes?\r\n\r\nYes, strings are now automatically coerced into `Timetamp`s and `Intervals`\r\n\r\nNote this behavior is consistent with Postgres:\r\n\r\n```sql\r\npostgres=# SELECT DATE_BIN(INTERVAL '15 minutes', TIMESTAMP '2022-08-03 14:38:50Z', TIMESTAMP '1970-01-01T00:00:00Z') AS res;\r\n         res\r\n---------------------\r\n 2022-08-03 14:30:00\r\n(1 row)\r\n\r\npostgres=# SELECT DATE_BIN('15 minutes', TIMESTAMP '2022-08-03 14:38:50Z', TIMESTAMP '1970-01-01T00:00:00Z') AS res;\r\n         res\r\n---------------------\r\n 2022-08-03 14:30:00\r\n(1 row)\r\n\r\npostgres=# SELECT DATE_BIN('15 minutes', '2022-08-03 14:38:50Z', '1970-01-01T00:00:00Z') AS res;\r\n          res\r\n------------------------\r\n 2022-08-03 14:30:00+00\r\n(1 row)\r\n```", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5116", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5116/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5116/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5116/events", "html_url": "https://github.com/apache/datafusion/pull/5116", "id": 1563248589, "node_id": "PR_kwDOFWSkxs5I26QF", "number": 5116, "title": "Fix release issues", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-30T21:37:57Z", "updated_at": "2023-01-31T19:24:23Z", "closed_at": "2023-01-31T19:14:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5116", "html_url": "https://github.com/apache/datafusion/pull/5116", "diff_url": "https://github.com/apache/datafusion/pull/5116.diff", "patch_url": "https://github.com/apache/datafusion/pull/5116.patch", "merged_at": "2023-01-31T19:14:49Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nN/A\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nFixing a couple small issues that came up during the release\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5116/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5115", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5115/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5115/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5115/events", "html_url": "https://github.com/apache/datafusion/pull/5115", "id": 1563173668, "node_id": "PR_kwDOFWSkxs5I2pn5", "number": 5115, "title": "minor: port date_bin tests to sqllogictests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-30T20:43:24Z", "updated_at": "2024-07-26T10:46:12Z", "closed_at": "2023-02-01T14:59:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5115", "html_url": "https://github.com/apache/datafusion/pull/5115", "diff_url": "https://github.com/apache/datafusion/pull/5115.diff", "patch_url": "https://github.com/apache/datafusion/pull/5115.patch", "merged_at": "2023-02-01T14:59:11Z"}, "body": "# Which issue does this PR close?\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/4853\r\n\r\n# Rationale for this change\r\n\r\nI plan to add some additional coercion for date_bin and I want to write the tests using sqllogictest. This PR moves the test. I will build on this PR for https://github.com/apache/arrow-datafusion/issues/4853\r\n\r\n# What changes are included in this PR?\r\n\r\nport `date_bin` test to use sqllogictest framework \r\n\r\n# Are these changes tested?\r\nyes (they are tests)\r\n\r\n# Are there any user-facing changes?\r\nno", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5115/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5114", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5114/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5114/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5114/events", "html_url": "https://github.com/apache/datafusion/pull/5114", "id": 1563135335, "node_id": "PR_kwDOFWSkxs5I2hL8", "number": 5114, "title": "Minor: reduce code duplication using `rewrite_expr`", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-30T20:15:11Z", "updated_at": "2024-07-26T10:46:13Z", "closed_at": "2023-02-01T12:08:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5114", "html_url": "https://github.com/apache/datafusion/pull/5114", "diff_url": "https://github.com/apache/datafusion/pull/5114.diff", "patch_url": "https://github.com/apache/datafusion/pull/5114.patch", "merged_at": "2023-02-01T12:08:42Z"}, "body": "~Draft as it builds on https://github.com/apache/arrow-datafusion/pull/5092~\r\n\r\n# Which issue does this PR close?\r\n\r\nFollow on to https://github.com/apache/arrow-datafusion/pull/5092\r\n\r\n# Rationale for this change\r\n\r\nif it is easier to rewrite expressions in DataFusion, this will lower the barrier to entry to new contributors\r\n\r\n\r\n# What changes are included in this PR?\r\n\r\nReduces code for the common case of rewriting an expression by letting the Rust compiler capture parameters via a closure. Some rewrites (like constant folding) still need the full generality of the `ExprRewriter` and I did not \r\n\r\n\r\n# Are these changes tested?\r\ncovered by existing tests\r\n\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5114/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5113", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5113/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5113/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5113/events", "html_url": "https://github.com/apache/datafusion/pull/5113", "id": 1562073423, "node_id": "PR_kwDOFWSkxs5Iy7Zz", "number": 5113, "title": "Replace &Option<T> with Option<&T>", "user": {"login": "gaoxinge", "id": 16648345, "node_id": "MDQ6VXNlcjE2NjQ4MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16648345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaoxinge", "html_url": "https://github.com/gaoxinge", "followers_url": "https://api.github.com/users/gaoxinge/followers", "following_url": "https://api.github.com/users/gaoxinge/following{/other_user}", "gists_url": "https://api.github.com/users/gaoxinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaoxinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaoxinge/subscriptions", "organizations_url": "https://api.github.com/users/gaoxinge/orgs", "repos_url": "https://api.github.com/users/gaoxinge/repos", "events_url": "https://api.github.com/users/gaoxinge/events{/privacy}", "received_events_url": "https://api.github.com/users/gaoxinge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-30T09:35:12Z", "updated_at": "2023-01-31T09:55:54Z", "closed_at": "2023-01-31T09:10:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5113", "html_url": "https://github.com/apache/datafusion/pull/5113", "diff_url": "https://github.com/apache/datafusion/pull/5113.diff", "patch_url": "https://github.com/apache/datafusion/pull/5113.patch", "merged_at": "2023-01-31T09:10:03Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/4424.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nThis pr is following: https://github.com/apache/arrow-datafusion/pull/4446, https://github.com/apache/arrow-datafusion/pull/4458 and https://github.com/apache/arrow-datafusion/pull/5102. And I think this is the last pr for closing the issue https://github.com/apache/arrow-datafusion/issues/4424, because it clears all remaining `&Option<T>` type.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nReplace `&Option<T>` with `Option<&T>`.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nPass the original test.\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->\r\n\r\nMay change the api.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5113/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5111", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5111/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5111/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5111/events", "html_url": "https://github.com/apache/datafusion/pull/5111", "id": 1561639959, "node_id": "PR_kwDOFWSkxs5Ixdgz", "number": 5111, "title": "Improve `get_meet_of_orderings` to check for common prefixes", "user": {"login": "ozankabak", "id": 2006258, "node_id": "MDQ6VXNlcjIwMDYyNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2006258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozankabak", "html_url": "https://github.com/ozankabak", "followers_url": "https://api.github.com/users/ozankabak/followers", "following_url": "https://api.github.com/users/ozankabak/following{/other_user}", "gists_url": "https://api.github.com/users/ozankabak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozankabak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozankabak/subscriptions", "organizations_url": "https://api.github.com/users/ozankabak/orgs", "repos_url": "https://api.github.com/users/ozankabak/repos", "events_url": "https://api.github.com/users/ozankabak/events{/privacy}", "received_events_url": "https://api.github.com/users/ozankabak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-30T02:40:09Z", "updated_at": "2023-01-31T14:51:57Z", "closed_at": "2023-01-31T14:47:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5111", "html_url": "https://github.com/apache/datafusion/pull/5111", "diff_url": "https://github.com/apache/datafusion/pull/5111.diff", "patch_url": "https://github.com/apache/datafusion/pull/5111.patch", "merged_at": "2023-01-31T14:47:36Z"}, "body": "# Which issue does this PR close?\r\n\r\nThis PR addresses a concern raised by @mingmwang in his review of #5035.\r\n\r\n# Rationale for this change\r\n\r\nAs discussed [here](https://github.com/apache/arrow-datafusion/pull/5035#discussion_r1089919867), we want to get the longest common prefix when finding the meet of the given orderings. If we don't do that, we may lose some coarse ordering information.\r\n\r\n# What changes are included in this PR?\r\n\r\nThis PR changes the internal logic of the `get_meet_of_orderings` function to add the desired functionality.\r\n\r\n# Are these changes tested?\r\n\r\nNew unit tests are added to verify the correct behavior in three relevant test cases.\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5111/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5110", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5110/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5110/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5110/events", "html_url": "https://github.com/apache/datafusion/pull/5110", "id": 1561395906, "node_id": "PR_kwDOFWSkxs5Iwq0z", "number": 5110, "title": "[sqllogictest] Apply rowsort when there is no explicit order by", "user": {"login": "melgenek", "id": 3802287, "node_id": "MDQ6VXNlcjM4MDIyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3802287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melgenek", "html_url": "https://github.com/melgenek", "followers_url": "https://api.github.com/users/melgenek/followers", "following_url": "https://api.github.com/users/melgenek/following{/other_user}", "gists_url": "https://api.github.com/users/melgenek/gists{/gist_id}", "starred_url": "https://api.github.com/users/melgenek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melgenek/subscriptions", "organizations_url": "https://api.github.com/users/melgenek/orgs", "repos_url": "https://api.github.com/users/melgenek/repos", "events_url": "https://api.github.com/users/melgenek/events{/privacy}", "received_events_url": "https://api.github.com/users/melgenek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-29T18:03:08Z", "updated_at": "2023-01-31T01:11:41Z", "closed_at": "2023-01-31T01:03:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5110", "html_url": "https://github.com/apache/datafusion/pull/5110", "diff_url": "https://github.com/apache/datafusion/pull/5110.diff", "patch_url": "https://github.com/apache/datafusion/pull/5110.patch", "merged_at": "2023-01-31T01:03:37Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of #4495.\r\n\r\n# Rationale for this change\r\n\r\nThe tests that don't define an explicit ordering for results could be flaky because the ordering of the result is not guaranteed.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nThis pr applies `rowsort` to the queries without explicit ordering.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nGithub actions.\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo, this pr only changes `.slt` test files.\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5106", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5106/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5106/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5106/events", "html_url": "https://github.com/apache/datafusion/pull/5106", "id": 1561289077, "node_id": "PR_kwDOFWSkxs5IwVLJ", "number": 5106, "title": "Add unnest_column to DataFrame", "user": {"login": "vincev", "id": 10183380, "node_id": "MDQ6VXNlcjEwMTgzMzgw", "avatar_url": "https://avatars.githubusercontent.com/u/10183380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincev", "html_url": "https://github.com/vincev", "followers_url": "https://api.github.com/users/vincev/followers", "following_url": "https://api.github.com/users/vincev/following{/other_user}", "gists_url": "https://api.github.com/users/vincev/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincev/subscriptions", "organizations_url": "https://api.github.com/users/vincev/orgs", "repos_url": "https://api.github.com/users/vincev/repos", "events_url": "https://api.github.com/users/vincev/events{/privacy}", "received_events_url": "https://api.github.com/users/vincev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-29T13:27:44Z", "updated_at": "2023-02-06T21:16:08Z", "closed_at": "2023-02-06T21:01:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5106", "html_url": "https://github.com/apache/datafusion/pull/5106", "diff_url": "https://github.com/apache/datafusion/pull/5106.diff", "patch_url": "https://github.com/apache/datafusion/pull/5106.patch", "merged_at": "2023-02-06T21:01:54Z"}, "body": "# Which issue does this PR close?\r\n\r\nThis PR introduces changes to `DataFrame` to add support for unnest/explode functionality as requested in #212.\r\n\r\nI would like to get feedback on these changes and then create another PR to try to add support to the SQL parser.\r\n\r\n# Rationale for this change\r\n\r\nThis PR add an `unnest_column` method to `DataFrame` to unnest list types columns (see [tests](https://github.com/vincev/arrow-datafusion/blob/e859023378994aa3a98222cb7d9097124f357d73/datafusion/core/tests/dataframe.rs#L507)), given the following data frame:\r\n\r\n```\r\n+----------+------------------------------------------------------------+--------------------+\r\n| shape_id | points                                                     | tags               |\r\n+----------+------------------------------------------------------------+--------------------+\r\n| 1        | [{\"x\": -3, \"y\": -4}, {\"x\": -3, \"y\": 6}, {\"x\": 2, \"y\": -2}] | [tag1]             |\r\n| 2        |                                                            | [tag1, tag2]       |\r\n| 3        | [{\"x\": -9, \"y\": 2}, {\"x\": -10, \"y\": -4}]                   |                    |\r\n| 4        | [{\"x\": -3, \"y\": 5}, {\"x\": 2, \"y\": -1}]                     | [tag1, tag2, tag3] |\r\n+----------+------------------------------------------------------------+--------------------+\r\n```\r\n\r\nThe call `df.unnest_column(\"tags\")` produces:\r\n\r\n```\r\n+----------+------------------------------------------------------------+------+\r\n| shape_id | points                                                     | tags |\r\n+----------+------------------------------------------------------------+------+\r\n| 1        | [{\"x\": -3, \"y\": -4}, {\"x\": -3, \"y\": 6}, {\"x\": 2, \"y\": -2}] | tag1 |\r\n| 2        |                                                            | tag1 |\r\n| 2        |                                                            | tag2 |\r\n| 3        | [{\"x\": -9, \"y\": 2}, {\"x\": -10, \"y\": -4}]                   |      |\r\n| 4        | [{\"x\": -3, \"y\": 5}, {\"x\": 2, \"y\": -1}]                     | tag1 |\r\n| 4        | [{\"x\": -3, \"y\": 5}, {\"x\": 2, \"y\": -1}]                     | tag2 |\r\n| 4        | [{\"x\": -3, \"y\": 5}, {\"x\": 2, \"y\": -1}]                     | tag3 |\r\n+----------+------------------------------------------------------------+------+\r\n```\r\n\r\ncalling `df.unnest_column(\"points\")` produces:\r\n\r\n```\r\n+----------+---------------------+--------------------+\r\n| shape_id | points              | tags               |\r\n+----------+---------------------+--------------------+\r\n| 1        | {\"x\": -3, \"y\": -4}  | [tag1]             |\r\n| 1        | {\"x\": -3, \"y\": 6}   | [tag1]             |\r\n| 1        | {\"x\": 2, \"y\": -2}   | [tag1]             |\r\n| 2        |                     | [tag1, tag2]       |\r\n| 3        | {\"x\": -9, \"y\": 2}   |                    |\r\n| 3        | {\"x\": -10, \"y\": -4} |                    |\r\n| 4        | {\"x\": -3, \"y\": 5}   | [tag1, tag2, tag3] |\r\n| 4        | {\"x\": 2, \"y\": -1}   | [tag1, tag2, tag3] |\r\n+----------+---------------------+--------------------+\r\n```\r\n\r\nand calling `df.unnest_column(\"points\").unnest_column(\"tags\")` produces:\r\n\r\n```\r\n+----------+---------------------+------+\r\n| shape_id | points              | tags |\r\n+----------+---------------------+------+\r\n| 1        | {\"x\": -3, \"y\": -4}  | tag1 |\r\n| 1        | {\"x\": -3, \"y\": 6}   | tag1 |\r\n| 1        | {\"x\": 2, \"y\": -2}   | tag1 |\r\n| 2        |                     | tag1 |\r\n| 2        |                     | tag2 |\r\n| 3        | {\"x\": -9, \"y\": 2}   |      |\r\n| 3        | {\"x\": -10, \"y\": -4} |      |\r\n| 4        | {\"x\": -3, \"y\": 5}   | tag1 |\r\n| 4        | {\"x\": -3, \"y\": 5}   | tag2 |\r\n| 4        | {\"x\": -3, \"y\": 5}   | tag3 |\r\n| 4        | {\"x\": 2, \"y\": -1}   | tag1 |\r\n| 4        | {\"x\": 2, \"y\": -1}   | tag2 |\r\n| 4        | {\"x\": 2, \"y\": -1}   | tag3 |\r\n+----------+---------------------+------+\r\n```\r\n\r\n# What changes are included in this PR?\r\n\r\nThis PR add the following changes:\r\n- Add `unnest_column` to `DataFrame`\r\n- Add an `Unnest` variant to `LogicalPlan` that produces a new schema for the unnested column\r\n- Add `UnnestExec` to the execution plan\r\n- Add tests for `DataFrame` for unnest operation and aggregate count on unnested column\r\n- Add test for `LogicalPlan` \r\n\r\n# Are these changes tested?\r\n\r\nAdded some initial tests for `DataFrame` [here](https://github.com/vincev/arrow-datafusion/blob/e859023378994aa3a98222cb7d9097124f357d73/datafusion/core/tests/dataframe.rs#L507), and for `LogicalPlan` [here](https://github.com/vincev/arrow-datafusion/blob/e859023378994aa3a98222cb7d9097124f357d73/datafusion/expr/src/logical_plan/builder.rs#L1615) I am happy to add more tests following feedback.\r\n\r\nI also run some test on parquet files with 1.9M rows that unnest to 15M:\r\n\r\n```\r\nData set rows: 1941258 elapsed: 0.443\r\nDataset unnested rows: 15939196 elapsed: 0.799\r\n``` \r\n\r\n# Are there any user-facing changes?\r\n\r\nAdd an `unnest_column` method to `DataFrame`.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5105", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5105/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5105/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5105/events", "html_url": "https://github.com/apache/datafusion/pull/5105", "id": 1561265744, "node_id": "PR_kwDOFWSkxs5IwQaS", "number": 5105, "title": "Minor: reduce indent level in page filter pruning code", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-29T12:25:54Z", "updated_at": "2023-02-01T17:47:34Z", "closed_at": "2023-02-01T17:35:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5105", "html_url": "https://github.com/apache/datafusion/pull/5105", "diff_url": "https://github.com/apache/datafusion/pull/5105.diff", "patch_url": "https://github.com/apache/datafusion/pull/5105.patch", "merged_at": "2023-02-01T17:35:21Z"}, "body": "# Which issue does this PR close?\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/5104\r\n\r\n\r\n# Rationale for this change\r\n\r\nI am working to fix the page pruning logic to handle schemas that are not the same across files. I find the nesting level of the page pruning code hard to work and I want to minimize the diff of the PR that will make actual logic changes to make it easier to review.  \r\n\r\n# What changes are included in this PR?\r\n\r\n1. Reduces the nesting level.\r\n\r\nNo functional changes are intended\r\n\r\n# Are these changes tested?\r\nCovered by existing tests\r\n\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5103", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5103/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5103/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5103/events", "html_url": "https://github.com/apache/datafusion/pull/5103", "id": 1561200591, "node_id": "PR_kwDOFWSkxs5IwDFc", "number": 5103, "title": "Typo of greptimedb", "user": {"login": "fengjiachun", "id": 3860496, "node_id": "MDQ6VXNlcjM4NjA0OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3860496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fengjiachun", "html_url": "https://github.com/fengjiachun", "followers_url": "https://api.github.com/users/fengjiachun/followers", "following_url": "https://api.github.com/users/fengjiachun/following{/other_user}", "gists_url": "https://api.github.com/users/fengjiachun/gists{/gist_id}", "starred_url": "https://api.github.com/users/fengjiachun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fengjiachun/subscriptions", "organizations_url": "https://api.github.com/users/fengjiachun/orgs", "repos_url": "https://api.github.com/users/fengjiachun/repos", "events_url": "https://api.github.com/users/fengjiachun/events{/privacy}", "received_events_url": "https://api.github.com/users/fengjiachun/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2923018882, "node_id": "MDU6TGFiZWwyOTIzMDE4ODgy", "url": "https://api.github.com/repos/apache/datafusion/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-29T09:22:00Z", "updated_at": "2023-01-29T10:32:51Z", "closed_at": "2023-01-29T10:22:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5103", "html_url": "https://github.com/apache/datafusion/pull/5103", "diff_url": "https://github.com/apache/datafusion/pull/5103.diff", "patch_url": "https://github.com/apache/datafusion/pull/5103.patch", "merged_at": "2023-01-29T10:22:05Z"}, "body": "Thanks a ton to @francis-du  for adding the info about [GreptimeDB](https://github.com/GreptimeTeam/greptimedb) in #4768 . We noticed that the name was written as Greptime DB, but the correct name is actually GreptimeDB. ", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5103/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5102", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5102/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5102/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5102/events", "html_url": "https://github.com/apache/datafusion/pull/5102", "id": 1561121959, "node_id": "PR_kwDOFWSkxs5Ivzae", "number": 5102, "title": "Replace &Option<T> with Option<&T>", "user": {"login": "gaoxinge", "id": 16648345, "node_id": "MDQ6VXNlcjE2NjQ4MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16648345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaoxinge", "html_url": "https://github.com/gaoxinge", "followers_url": "https://api.github.com/users/gaoxinge/followers", "following_url": "https://api.github.com/users/gaoxinge/following{/other_user}", "gists_url": "https://api.github.com/users/gaoxinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaoxinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaoxinge/subscriptions", "organizations_url": "https://api.github.com/users/gaoxinge/orgs", "repos_url": "https://api.github.com/users/gaoxinge/repos", "events_url": "https://api.github.com/users/gaoxinge/events{/privacy}", "received_events_url": "https://api.github.com/users/gaoxinge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-29T04:36:41Z", "updated_at": "2023-01-30T09:03:53Z", "closed_at": "2023-01-30T06:16:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5102", "html_url": "https://github.com/apache/datafusion/pull/5102", "diff_url": "https://github.com/apache/datafusion/pull/5102.diff", "patch_url": "https://github.com/apache/datafusion/pull/5102.patch", "merged_at": "2023-01-30T06:16:47Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nThis pr partly fix https://github.com/apache/arrow-datafusion/issues/4424.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nhttps://github.com/apache/arrow-datafusion/issues/4424\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nReplace `&Option<T>` with `Option<&T>`.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nPass the original test.\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->\r\n\r\nMay change the api.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5101", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5101/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5101/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5101/events", "html_url": "https://github.com/apache/datafusion/pull/5101", "id": 1560990020, "node_id": "PR_kwDOFWSkxs5IvZpp", "number": 5101, "title": "Use DataFusionError instead of ArrowError in SendableRecordBatchStream", "user": {"login": "comphead", "id": 10247224, "node_id": "MDQ6VXNlcjEwMjQ3MjI0", "avatar_url": "https://avatars.githubusercontent.com/u/10247224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comphead", "html_url": "https://github.com/comphead", "followers_url": "https://api.github.com/users/comphead/followers", "following_url": "https://api.github.com/users/comphead/following{/other_user}", "gists_url": "https://api.github.com/users/comphead/gists{/gist_id}", "starred_url": "https://api.github.com/users/comphead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comphead/subscriptions", "organizations_url": "https://api.github.com/users/comphead/orgs", "repos_url": "https://api.github.com/users/comphead/repos", "events_url": "https://api.github.com/users/comphead/events{/privacy}", "received_events_url": "https://api.github.com/users/comphead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2935904126, "node_id": "MDU6TGFiZWwyOTM1OTA0MTI2", "url": "https://api.github.com/repos/apache/datafusion/labels/api%20change", "name": "api change", "color": "FF0000", "default": false, "description": "Changes the API exposed to users of the crate"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-28T20:03:15Z", "updated_at": "2023-01-30T15:33:54Z", "closed_at": "2023-01-30T15:25:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5101", "html_url": "https://github.com/apache/datafusion/pull/5101", "diff_url": "https://github.com/apache/datafusion/pull/5101.diff", "patch_url": "https://github.com/apache/datafusion/pull/5101.patch", "merged_at": "2023-01-30T15:25:21Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5039.\r\n\r\n# Rationale for this change\r\nSee #5039 \r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\nReplace ArrowError with DataFusionError in DF context\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nUser will get `DatafusionError::ArrowError` instead `arrow::ArrowError` for datafusion contexts\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5101/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5098", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5098/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5098/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5098/events", "html_url": "https://github.com/apache/datafusion/pull/5098", "id": 1560824955, "node_id": "PR_kwDOFWSkxs5Iu5rI", "number": 5098, "title": "Minor: remove unused methods in datafusion/optimizer/src/utils.rs", "user": {"login": "ygf11", "id": 3428089, "node_id": "MDQ6VXNlcjM0MjgwODk=", "avatar_url": "https://avatars.githubusercontent.com/u/3428089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ygf11", "html_url": "https://github.com/ygf11", "followers_url": "https://api.github.com/users/ygf11/followers", "following_url": "https://api.github.com/users/ygf11/following{/other_user}", "gists_url": "https://api.github.com/users/ygf11/gists{/gist_id}", "starred_url": "https://api.github.com/users/ygf11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ygf11/subscriptions", "organizations_url": "https://api.github.com/users/ygf11/orgs", "repos_url": "https://api.github.com/users/ygf11/repos", "events_url": "https://api.github.com/users/ygf11/events{/privacy}", "received_events_url": "https://api.github.com/users/ygf11/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-28T11:27:36Z", "updated_at": "2023-02-14T01:14:29Z", "closed_at": "2023-01-28T13:11:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5098", "html_url": "https://github.com/apache/datafusion/pull/5098", "diff_url": "https://github.com/apache/datafusion/pull/5098.diff", "patch_url": "https://github.com/apache/datafusion/pull/5098.patch", "merged_at": "2023-01-28T13:11:09Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\nIn #4826, I forgot to remove some unused methods. Remove them now.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5098/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5097", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5097/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5097/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5097/events", "html_url": "https://github.com/apache/datafusion/pull/5097", "id": 1560792201, "node_id": "PR_kwDOFWSkxs5IuzZG", "number": 5097, "title": "ci: don't trigger rust ci for doc changes", "user": {"login": "xudong963", "id": 41979257, "node_id": "MDQ6VXNlcjQxOTc5MjU3", "avatar_url": "https://avatars.githubusercontent.com/u/41979257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xudong963", "html_url": "https://github.com/xudong963", "followers_url": "https://api.github.com/users/xudong963/followers", "following_url": "https://api.github.com/users/xudong963/following{/other_user}", "gists_url": "https://api.github.com/users/xudong963/gists{/gist_id}", "starred_url": "https://api.github.com/users/xudong963/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xudong963/subscriptions", "organizations_url": "https://api.github.com/users/xudong963/orgs", "repos_url": "https://api.github.com/users/xudong963/repos", "events_url": "https://api.github.com/users/xudong963/events{/privacy}", "received_events_url": "https://api.github.com/users/xudong963/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-28T09:45:17Z", "updated_at": "2023-01-29T11:02:59Z", "closed_at": "2023-01-29T10:58:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5097", "html_url": "https://github.com/apache/datafusion/pull/5097", "diff_url": "https://github.com/apache/datafusion/pull/5097.diff", "patch_url": "https://github.com/apache/datafusion/pull/5097.patch", "merged_at": "2023-01-29T10:58:22Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5097/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5096", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5096/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5096/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5096/events", "html_url": "https://github.com/apache/datafusion/pull/5096", "id": 1560764837, "node_id": "PR_kwDOFWSkxs5Iut7-", "number": 5096, "title": "chore: change `DataBend` to `Databend`", "user": {"login": "xudong963", "id": 41979257, "node_id": "MDQ6VXNlcjQxOTc5MjU3", "avatar_url": "https://avatars.githubusercontent.com/u/41979257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xudong963", "html_url": "https://github.com/xudong963", "followers_url": "https://api.github.com/users/xudong963/followers", "following_url": "https://api.github.com/users/xudong963/following{/other_user}", "gists_url": "https://api.github.com/users/xudong963/gists{/gist_id}", "starred_url": "https://api.github.com/users/xudong963/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xudong963/subscriptions", "organizations_url": "https://api.github.com/users/xudong963/orgs", "repos_url": "https://api.github.com/users/xudong963/repos", "events_url": "https://api.github.com/users/xudong963/events{/privacy}", "received_events_url": "https://api.github.com/users/xudong963/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2923018882, "node_id": "MDU6TGFiZWwyOTIzMDE4ODgy", "url": "https://api.github.com/repos/apache/datafusion/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-28T08:38:27Z", "updated_at": "2023-01-28T09:22:12Z", "closed_at": "2023-01-28T09:17:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5096", "html_url": "https://github.com/apache/datafusion/pull/5096", "diff_url": "https://github.com/apache/datafusion/pull/5096.diff", "patch_url": "https://github.com/apache/datafusion/pull/5096.patch", "merged_at": "2023-01-28T09:17:57Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5096/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5095", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5095/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5095/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5095/events", "html_url": "https://github.com/apache/datafusion/pull/5095", "id": 1560686070, "node_id": "PR_kwDOFWSkxs5IueAT", "number": 5095, "title": "sqllogicaltest: fix unstable slt case.", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-28T04:27:39Z", "updated_at": "2023-01-28T09:32:17Z", "closed_at": "2023-01-28T09:28:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5095", "html_url": "https://github.com/apache/datafusion/pull/5095", "diff_url": "https://github.com/apache/datafusion/pull/5095.diff", "patch_url": "https://github.com/apache/datafusion/pull/5095.patch", "merged_at": "2023-01-28T09:28:22Z"}, "body": "# Which issue does this PR close?\r\n\r\nN/A\r\n\r\n# Rationale for this change\r\n\r\n#5075\r\n\r\n# What changes are included in this PR?\r\n\r\nfix unstable slt case.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5095/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5094", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5094/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5094/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5094/events", "html_url": "https://github.com/apache/datafusion/pull/5094", "id": 1560680252, "node_id": "PR_kwDOFWSkxs5Iuc4o", "number": 5094, "title": "chore: update cranelift-module", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-28T04:03:57Z", "updated_at": "2023-01-28T13:11:29Z", "closed_at": "2023-01-28T13:10:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5094", "html_url": "https://github.com/apache/datafusion/pull/5094", "diff_url": "https://github.com/apache/datafusion/pull/5094.diff", "patch_url": "https://github.com/apache/datafusion/pull/5094.patch", "merged_at": "2023-01-28T13:10:05Z"}, "body": "# Which issue does this PR close?\r\n\r\nN/A\r\n\r\n# Rationale for this change\r\n\r\nN/A\r\n\r\n# What changes are included in this PR?\r\n\r\n- update cranelift-module\r\n- convert `ModuleError` to `DatafusionError`\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5094/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5092", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5092/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5092/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5092/events", "html_url": "https://github.com/apache/datafusion/pull/5092", "id": 1559994925, "node_id": "PR_kwDOFWSkxs5IsHXe", "number": 5092, "title": "refactor: Add `rewrite_expr` convenience method for rewriting `Expr`s", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-27T15:54:22Z", "updated_at": "2023-01-30T21:25:44Z", "closed_at": "2023-01-30T21:24:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5092", "html_url": "https://github.com/apache/datafusion/pull/5092", "diff_url": "https://github.com/apache/datafusion/pull/5092.diff", "patch_url": "https://github.com/apache/datafusion/pull/5092.patch", "merged_at": "2023-01-30T21:24:02Z"}, "body": "Note: this may look like a large change, but it is mostly comments.\r\n\r\n# Which issue does this PR close?\r\n\r\nrelated to https://github.com/apache/arrow-datafusion/issues/4854\r\n\r\n# Rationale for this change\r\n\r\nThere are some rewrites (like constant propagation) that require the full generality of `ExprRewriter` that saves state on a previst on down and then rewrite while walking back up. However, most rewrites simply call `mutate`.\r\n\r\n\r\nNow you have to define a Visitor struct to pass arguments down the tree. Letting rust do the work for you via a closure makes for less code\r\n\r\n\r\n\r\n\r\n# What changes are included in this PR?\r\n\r\nChanges:\r\n1. Add a `rewrite_expr` convenience function (like `inspect_expr_pre`) for the common case-fold-search\r\n2. Update docs\r\n3. Refactor a few uses of `ExprRewriter` to demonstrate how to use it\r\n\r\nIf this PR is approved, I'll spend some time porting over other uses of `ExprRewriter`s \r\n\r\n# Are these changes tested?\r\n\r\nYes, both a new doc tests and existing coverage\r\n\r\n# Are there any user-facing changes?\r\n\r\nDevelopers can hopefully write lest code", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5092/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5092/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5091", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5091/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5091/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5091/events", "html_url": "https://github.com/apache/datafusion/pull/5091", "id": 1559951529, "node_id": "PR_kwDOFWSkxs5Ir93W", "number": 5091, "title": "Changelog updates for 17.0.0-rc2", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-27T15:27:37Z", "updated_at": "2023-01-27T16:08:09Z", "closed_at": "2023-01-27T16:06:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5091", "html_url": "https://github.com/apache/datafusion/pull/5091", "diff_url": "https://github.com/apache/datafusion/pull/5091.diff", "patch_url": "https://github.com/apache/datafusion/pull/5091.patch", "merged_at": "2023-01-27T16:06:32Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5091/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5089", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5089/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5089/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5089/events", "html_url": "https://github.com/apache/datafusion/pull/5089", "id": 1559935121, "node_id": "PR_kwDOFWSkxs5Ir6Si", "number": 5089, "title": "Hard code target_partitions=4 in sqllogictests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-27T15:17:43Z", "updated_at": "2024-07-26T10:46:13Z", "closed_at": "2023-01-27T15:50:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5089", "html_url": "https://github.com/apache/datafusion/pull/5089", "diff_url": "https://github.com/apache/datafusion/pull/5089.diff", "patch_url": "https://github.com/apache/datafusion/pull/5089.patch", "merged_at": "2023-01-27T15:50:25Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/5082\r\n\r\n# Rationale for this change\r\n\r\nKeeping the test using the same number of cores will make for deterministic tests and avoid variance from system to system when running tests\r\n\r\nThe fact that there is an error when the target partitions are set to 32 is a separate bug tracked via https://github.com/apache/arrow-datafusion/issues/5090\r\n\r\n# What changes are included in this PR?\r\nHardcode target partitions to 4 for sqllogictest runner\r\n\r\n# Are these changes tested?\r\nyes by existing tests\r\n\r\n# Are there any user-facing changes?\r\nNo -- this is a test harness only issue", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5089/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5088", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5088/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5088/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5088/events", "html_url": "https://github.com/apache/datafusion/pull/5088", "id": 1559905740, "node_id": "PR_kwDOFWSkxs5Irz9L", "number": 5088, "title": "Minor: extract sort col rewrite into its own module, add unit tests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-27T14:59:10Z", "updated_at": "2023-01-28T16:22:39Z", "closed_at": "2023-01-28T04:06:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5088", "html_url": "https://github.com/apache/datafusion/pull/5088", "diff_url": "https://github.com/apache/datafusion/pull/5088.diff", "patch_url": "https://github.com/apache/datafusion/pull/5088.patch", "merged_at": "2023-01-28T04:06:51Z"}, "body": "# Which issue does this PR close?\r\n\r\n Related to https://github.com/apache/arrow-datafusion/issues/4854\r\n\r\n\r\n# Rationale for this change\r\n\r\nI want to make the code easier to work with as part of the fix and breaking the PR into smaller parts will help with review\r\n\r\n# What changes are included in this PR?\r\n\r\n1.  Move the code into its own module\r\n2. Add unit tests\r\n\r\nNo functional change is intended \r\n\r\n# Are these changes tested?\r\n\r\nYes\r\n# Are there any user-facing changes?\r\nNo\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5088/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5086", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5086/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5086/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5086/events", "html_url": "https://github.com/apache/datafusion/pull/5086", "id": 1559435345, "node_id": "PR_kwDOFWSkxs5IqNdO", "number": 5086, "title": "[sqllogictest] Move `decimal.rs` tests", "user": {"login": "melgenek", "id": 3802287, "node_id": "MDQ6VXNlcjM4MDIyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3802287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melgenek", "html_url": "https://github.com/melgenek", "followers_url": "https://api.github.com/users/melgenek/followers", "following_url": "https://api.github.com/users/melgenek/following{/other_user}", "gists_url": "https://api.github.com/users/melgenek/gists{/gist_id}", "starred_url": "https://api.github.com/users/melgenek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melgenek/subscriptions", "organizations_url": "https://api.github.com/users/melgenek/orgs", "repos_url": "https://api.github.com/users/melgenek/repos", "events_url": "https://api.github.com/users/melgenek/events{/privacy}", "received_events_url": "https://api.github.com/users/melgenek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-27T09:27:57Z", "updated_at": "2023-01-28T13:22:09Z", "closed_at": "2023-01-28T13:18:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5086", "html_url": "https://github.com/apache/datafusion/pull/5086", "diff_url": "https://github.com/apache/datafusion/pull/5086.diff", "patch_url": "https://github.com/apache/datafusion/pull/5086.patch", "merged_at": "2023-01-28T13:18:54Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of #4495\r\n\r\n# Rationale for this change\r\n\r\nData-driven tests could be described in sqllogictest.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nMoves the tests that expect results from `decimal.rs` to sqllogictest.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\nGithub actions sqllogictest job.\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\nNo.\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5086/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5085", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5085/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5085/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5085/events", "html_url": "https://github.com/apache/datafusion/pull/5085", "id": 1558898470, "node_id": "PR_kwDOFWSkxs5IoZSG", "number": 5085, "title": "Add null-equals-null join support", "user": {"login": "nseekhao", "id": 37189615, "node_id": "MDQ6VXNlcjM3MTg5NjE1", "avatar_url": "https://avatars.githubusercontent.com/u/37189615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nseekhao", "html_url": "https://github.com/nseekhao", "followers_url": "https://api.github.com/users/nseekhao/followers", "following_url": "https://api.github.com/users/nseekhao/following{/other_user}", "gists_url": "https://api.github.com/users/nseekhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/nseekhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nseekhao/subscriptions", "organizations_url": "https://api.github.com/users/nseekhao/orgs", "repos_url": "https://api.github.com/users/nseekhao/repos", "events_url": "https://api.github.com/users/nseekhao/events{/privacy}", "received_events_url": "https://api.github.com/users/nseekhao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-26T22:55:29Z", "updated_at": "2023-01-27T01:41:42Z", "closed_at": "2023-01-27T01:38:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5085", "html_url": "https://github.com/apache/datafusion/pull/5085", "diff_url": "https://github.com/apache/datafusion/pull/5085.diff", "patch_url": "https://github.com/apache/datafusion/pull/5085.patch", "merged_at": "2023-01-27T01:38:40Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/5084\r\n\r\n# Rationale for this change\r\nSupport for `null-equals-null` joins as described in https://github.com/apache/arrow-datafusion/issues/5084.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n- Support `null-equals-null` joins in both producer and consumer\r\n- Support for accepting `ScalarValue::UInt8` in the producer. (Encoded as `i32` since Substrait does not support unsigned integers)\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5085/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5083", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5083/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5083/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5083/events", "html_url": "https://github.com/apache/datafusion/pull/5083", "id": 1558756463, "node_id": "PR_kwDOFWSkxs5In6Fq", "number": 5083, "title": "Optimize returned plan in roundtrip_fill_na function", "user": {"login": "nseekhao", "id": 37189615, "node_id": "MDQ6VXNlcjM3MTg5NjE1", "avatar_url": "https://avatars.githubusercontent.com/u/37189615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nseekhao", "html_url": "https://github.com/nseekhao", "followers_url": "https://api.github.com/users/nseekhao/followers", "following_url": "https://api.github.com/users/nseekhao/following{/other_user}", "gists_url": "https://api.github.com/users/nseekhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/nseekhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nseekhao/subscriptions", "organizations_url": "https://api.github.com/users/nseekhao/orgs", "repos_url": "https://api.github.com/users/nseekhao/repos", "events_url": "https://api.github.com/users/nseekhao/events{/privacy}", "received_events_url": "https://api.github.com/users/nseekhao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-26T20:46:53Z", "updated_at": "2023-01-26T21:56:43Z", "closed_at": "2023-01-26T21:45:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5083", "html_url": "https://github.com/apache/datafusion/pull/5083", "diff_url": "https://github.com/apache/datafusion/pull/5083.diff", "patch_url": "https://github.com/apache/datafusion/pull/5083.patch", "merged_at": "2023-01-26T21:45:43Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/4897\r\n\r\n# Rationale for this change\r\n\r\nThe test that failed used a function that compared an **optimized** plan to an **unoptimized** plan.\r\n\r\nWhile at it, also changed from using the deprecated `SessionContext::optimize` to the recommended `SessionState::optimize`.\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\nModified the `roundtrip_fill_na()` function used by the failed test to compare optimized plan to optimized plan. Test now passes.\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5083/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5081", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5081/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5081/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5081/events", "html_url": "https://github.com/apache/datafusion/pull/5081", "id": 1558558161, "node_id": "PR_kwDOFWSkxs5InPJ9", "number": 5081, "title": "fix clippy failures", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-26T18:10:00Z", "updated_at": "2023-01-26T19:43:54Z", "closed_at": "2023-01-26T19:39:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5081", "html_url": "https://github.com/apache/datafusion/pull/5081", "diff_url": "https://github.com/apache/datafusion/pull/5081.diff", "patch_url": "https://github.com/apache/datafusion/pull/5081.patch", "merged_at": "2023-01-26T19:39:47Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/5080\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nNew Rust nightly has new Clippy rules\r\n\r\n# What changes are included in this PR?\r\n\r\n`cargo clippy --fix`\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5081/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5079", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5079/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5079/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5079/events", "html_url": "https://github.com/apache/datafusion/pull/5079", "id": 1558475914, "node_id": "PR_kwDOFWSkxs5Im9Wl", "number": 5079, "title": "Insert target columns empty fix", "user": {"login": "gruuya", "id": 45558892, "node_id": "MDQ6VXNlcjQ1NTU4ODky", "avatar_url": "https://avatars.githubusercontent.com/u/45558892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gruuya", "html_url": "https://github.com/gruuya", "followers_url": "https://api.github.com/users/gruuya/followers", "following_url": "https://api.github.com/users/gruuya/following{/other_user}", "gists_url": "https://api.github.com/users/gruuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/gruuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gruuya/subscriptions", "organizations_url": "https://api.github.com/users/gruuya/orgs", "repos_url": "https://api.github.com/users/gruuya/repos", "events_url": "https://api.github.com/users/gruuya/events{/privacy}", "received_events_url": "https://api.github.com/users/gruuya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-26T17:04:58Z", "updated_at": "2023-01-29T19:51:26Z", "closed_at": "2023-01-29T19:46:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5079", "html_url": "https://github.com/apache/datafusion/pull/5079", "diff_url": "https://github.com/apache/datafusion/pull/5079.diff", "patch_url": "https://github.com/apache/datafusion/pull/5079.patch", "merged_at": "2023-01-29T19:46:25Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5078.\r\n\r\n# Rationale for this change\r\n\r\nEnable logical planning of `INSERT` statements without the optional target column list.\r\n\r\n# What changes are included in this PR?\r\n\r\nIf there are no parsed target fields in the `INSERT` statement default to using all the fields from the table's schema.\r\n\r\n# Are these changes tested?\r\n\r\nYes.\r\n\r\n# Are there any user-facing changes?\r\n\r\nOnly to users that use Datafusion as a framework where write statements are supported.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5079/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5077", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5077/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5077/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5077/events", "html_url": "https://github.com/apache/datafusion/pull/5077", "id": 1558392337, "node_id": "PR_kwDOFWSkxs5ImrQi", "number": 5077, "title": "Add NULL literal support for decimal and integers", "user": {"login": "nseekhao", "id": 37189615, "node_id": "MDQ6VXNlcjM3MTg5NjE1", "avatar_url": "https://avatars.githubusercontent.com/u/37189615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nseekhao", "html_url": "https://github.com/nseekhao", "followers_url": "https://api.github.com/users/nseekhao/followers", "following_url": "https://api.github.com/users/nseekhao/following{/other_user}", "gists_url": "https://api.github.com/users/nseekhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/nseekhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nseekhao/subscriptions", "organizations_url": "https://api.github.com/users/nseekhao/orgs", "repos_url": "https://api.github.com/users/nseekhao/repos", "events_url": "https://api.github.com/users/nseekhao/events{/privacy}", "received_events_url": "https://api.github.com/users/nseekhao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-26T16:09:38Z", "updated_at": "2023-01-26T21:56:44Z", "closed_at": "2023-01-26T21:46:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5077", "html_url": "https://github.com/apache/datafusion/pull/5077", "diff_url": "https://github.com/apache/datafusion/pull/5077.diff", "patch_url": "https://github.com/apache/datafusion/pull/5077.patch", "merged_at": "2023-01-26T21:46:03Z"}, "body": "Modified test\r\n\r\n# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/4897\r\n\r\nOriginal PR: https://github.com/datafusion-contrib/datafusion-substrait/pull/40\r\n\r\n# Rationale for this change\r\n\r\nApplying PRs that were already merged in the original repo\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n- Add Substrait producer and consumer support for NULL literals of types:\r\n  - `INT8`, `INT16`, `INT32`\r\n  - `DECIMAL128`\r\n- Add tests\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\nYes\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\nNo\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5077/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5075", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5075/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5075/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5075/events", "html_url": "https://github.com/apache/datafusion/pull/5075", "id": 1558104837, "node_id": "PR_kwDOFWSkxs5Ils8y", "number": 5075, "title": "sqllogicaltest: move union.rs", "user": {"login": "jackwener", "id": 30525741, "node_id": "MDQ6VXNlcjMwNTI1NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/30525741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwener", "html_url": "https://github.com/jackwener", "followers_url": "https://api.github.com/users/jackwener/followers", "following_url": "https://api.github.com/users/jackwener/following{/other_user}", "gists_url": "https://api.github.com/users/jackwener/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwener/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwener/subscriptions", "organizations_url": "https://api.github.com/users/jackwener/orgs", "repos_url": "https://api.github.com/users/jackwener/repos", "events_url": "https://api.github.com/users/jackwener/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwener/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-26T13:00:42Z", "updated_at": "2023-01-28T04:29:41Z", "closed_at": "2023-01-27T20:42:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5075", "html_url": "https://github.com/apache/datafusion/pull/5075", "diff_url": "https://github.com/apache/datafusion/pull/5075.diff", "patch_url": "https://github.com/apache/datafusion/pull/5075.patch", "merged_at": "2023-01-27T20:42:08Z"}, "body": "# Which issue does this PR close?\r\n\r\nmove union.rs into sqllogicaltest.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5075/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5074", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5074/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5074/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5074/events", "html_url": "https://github.com/apache/datafusion/pull/5074", "id": 1558087593, "node_id": "PR_kwDOFWSkxs5IlpOe", "number": 5074, "title": "[Enhancement] Don't repartition ProjectionExec when it does not compute anything", "user": {"login": "xiaoyong-z", "id": 31178013, "node_id": "MDQ6VXNlcjMxMTc4MDEz", "avatar_url": "https://avatars.githubusercontent.com/u/31178013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyong-z", "html_url": "https://github.com/xiaoyong-z", "followers_url": "https://api.github.com/users/xiaoyong-z/followers", "following_url": "https://api.github.com/users/xiaoyong-z/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyong-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyong-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyong-z/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyong-z/orgs", "repos_url": "https://api.github.com/users/xiaoyong-z/repos", "events_url": "https://api.github.com/users/xiaoyong-z/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyong-z/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-01-26T12:46:16Z", "updated_at": "2023-02-12T17:31:36Z", "closed_at": "2023-02-12T17:20:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5074", "html_url": "https://github.com/apache/datafusion/pull/5074", "diff_url": "https://github.com/apache/datafusion/pull/5074.diff", "patch_url": "https://github.com/apache/datafusion/pull/5074.patch", "merged_at": "2023-02-12T17:20:54Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #4968\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nProjectionExec can have the following two types of computations:\r\n1. reorder/rename\r\n2. other computations like col1 + col2 For reorder/rename, ProjectionExec will not benefit from repartition, we should disable the repartition if all exprs are reorder and rename.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\nIn this pr, we introduce `would_benefit` to ProjectionExec, if it is true, then ProjectionExec would benefit from partitions, benefits_from_input_partitioning in ProjectionExec will return true. Otherwise, benefits_from_input_partitioning will return false. would_benefit will be false if only if all exprs are column_expr.\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\nYes\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5074/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5074/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5073", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5073/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5073/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5073/events", "html_url": "https://github.com/apache/datafusion/pull/5073", "id": 1557481307, "node_id": "PR_kwDOFWSkxs5IjpOL", "number": 5073, "title": "Release 17.0.0", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 3007583662, "node_id": "MDU6TGFiZWwzMDA3NTgzNjYy", "url": "https://api.github.com/repos/apache/datafusion/labels/development-process", "name": "development-process", "color": "5544ED", "default": false, "description": "Related to development process of DataFusion"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-26T01:05:39Z", "updated_at": "2023-01-27T18:59:50Z", "closed_at": "2023-01-26T19:04:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5073", "html_url": "https://github.com/apache/datafusion/pull/5073", "diff_url": "https://github.com/apache/datafusion/pull/5073.diff", "patch_url": "https://github.com/apache/datafusion/pull/5073.patch", "merged_at": "2023-01-26T19:04:38Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/5072\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nI am now planning on creating releases every two weeks.\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n- bump version\r\n- change log ([rendered version](https://github.com/andygrove/arrow-datafusion/blob/release-17.0.0/datafusion/CHANGELOG.md))\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5073/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5073/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5071", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5071/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5071/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5071/events", "html_url": "https://github.com/apache/datafusion/pull/5071", "id": 1557464426, "node_id": "PR_kwDOFWSkxs5IjlzT", "number": 5071, "title": "DataFrame count method", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-26T00:45:44Z", "updated_at": "2023-03-15T16:29:37Z", "closed_at": "2023-01-26T21:46:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5071", "html_url": "https://github.com/apache/datafusion/pull/5071", "diff_url": "https://github.com/apache/datafusion/pull/5071.diff", "patch_url": "https://github.com/apache/datafusion/pull/5071.patch", "merged_at": "2023-01-26T21:46:25Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #1926.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nNew `count()` method on DataFrame\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nNew unit test\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5071/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5071/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5070", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5070/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5070/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5070/events", "html_url": "https://github.com/apache/datafusion/pull/5070", "id": 1557406593, "node_id": "PR_kwDOFWSkxs5IjZYU", "number": 5070, "title": "Add `release-crates.sh` script", "user": {"login": "iajoiner", "id": 14581281, "node_id": "MDQ6VXNlcjE0NTgxMjgx", "avatar_url": "https://avatars.githubusercontent.com/u/14581281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iajoiner", "html_url": "https://github.com/iajoiner", "followers_url": "https://api.github.com/users/iajoiner/followers", "following_url": "https://api.github.com/users/iajoiner/following{/other_user}", "gists_url": "https://api.github.com/users/iajoiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/iajoiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iajoiner/subscriptions", "organizations_url": "https://api.github.com/users/iajoiner/orgs", "repos_url": "https://api.github.com/users/iajoiner/repos", "events_url": "https://api.github.com/users/iajoiner/events{/privacy}", "received_events_url": "https://api.github.com/users/iajoiner/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-25T23:29:32Z", "updated_at": "2023-01-26T15:46:04Z", "closed_at": "2023-01-26T15:43:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5070", "html_url": "https://github.com/apache/datafusion/pull/5070", "diff_url": "https://github.com/apache/datafusion/pull/5070.diff", "patch_url": "https://github.com/apache/datafusion/pull/5070.patch", "merged_at": "2023-01-26T15:43:33Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #5042.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\nAdd the `release-crates.sh` script to simplify publishing of crates to crates.io.\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5070/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5069", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5069/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5069/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5069/events", "html_url": "https://github.com/apache/datafusion/pull/5069", "id": 1557357452, "node_id": "PR_kwDOFWSkxs5IjOyB", "number": 5069, "title": "Validate assignment target column existence for UPDATE statements", "user": {"login": "gruuya", "id": 45558892, "node_id": "MDQ6VXNlcjQ1NTU4ODky", "avatar_url": "https://avatars.githubusercontent.com/u/45558892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gruuya", "html_url": "https://github.com/gruuya", "followers_url": "https://api.github.com/users/gruuya/followers", "following_url": "https://api.github.com/users/gruuya/following{/other_user}", "gists_url": "https://api.github.com/users/gruuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/gruuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gruuya/subscriptions", "organizations_url": "https://api.github.com/users/gruuya/orgs", "repos_url": "https://api.github.com/users/gruuya/repos", "events_url": "https://api.github.com/users/gruuya/events{/privacy}", "received_events_url": "https://api.github.com/users/gruuya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-25T22:27:48Z", "updated_at": "2023-01-26T13:41:38Z", "closed_at": "2023-01-26T13:33:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5069", "html_url": "https://github.com/apache/datafusion/pull/5069", "diff_url": "https://github.com/apache/datafusion/pull/5069.diff", "patch_url": "https://github.com/apache/datafusion/pull/5069.patch", "merged_at": "2023-01-26T13:33:46Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5068.\r\n\r\n# Rationale for this change\r\n\r\nEnsure that all assignment targets are actual columns of the target table, to prevent typos being silently swallowed up.\r\n\r\n# What changes are included in this PR?\r\n\r\nDuring logical planning of the `UPDATE` statement try to fetch each of the referenced assignment columns.\r\n\r\n# Are these changes tested?\r\n\r\nYes, there is a new 3-case test now.\r\n\r\n# Are there any user-facing changes?\r\n\r\nNot really; Datafusion is read-only, so the only difference is what error is shown (`SchemaError(FieldNotFound` from the logical planning as opposed to `Internal(\"Unsupported logical plan: Dml\")` from the physical planning phase). The real user-facing changes will be in the projects that use Datafusion as a framework and also [support writes](https://www.splitgraph.com/blog/seafowl-time-travel).", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5069/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5067", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5067/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5067/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5067/events", "html_url": "https://github.com/apache/datafusion/pull/5067", "id": 1557170843, "node_id": "PR_kwDOFWSkxs5IimZ7", "number": 5067, "title": "Support ORDER BY an aliased column", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-25T19:36:20Z", "updated_at": "2023-02-06T12:18:23Z", "closed_at": "2023-02-06T10:12:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5067", "html_url": "https://github.com/apache/datafusion/pull/5067", "diff_url": "https://github.com/apache/datafusion/pull/5067.diff", "patch_url": "https://github.com/apache/datafusion/pull/5067.patch", "merged_at": "2023-02-06T10:12:23Z"}, "body": "~Draft:~\r\n- [x] Builds on https://github.com/apache/arrow-datafusion/pull/5062\r\n- [x] Builds on https://github.com/apache/arrow-datafusion/pull/5088\r\n- [x] Builds on https://github.com/apache/arrow-datafusion/pull/5092\r\n\r\n# Which issue does this PR close?\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/4854\r\n\r\n# Rationale for this change\r\n\r\nColumn resolution for ORDER BY expressions are incorrect\r\n\r\n# What changes are included in this PR?\r\n\r\n1. Make the output rewrite general (they were incorrect for projections above aggregates)\r\n2. Add comments\r\n3. Add tests\r\n\r\n# Are these changes tested?\r\n\r\nYes, \r\n\r\n# Are there any user-facing changes?\r\nbug fix", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5067/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5067/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5066", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5066/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5066/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5066/events", "html_url": "https://github.com/apache/datafusion/pull/5066", "id": 1557102964, "node_id": "PR_kwDOFWSkxs5IiX0W", "number": 5066, "title": "Fix limit when size of batch to poll == skip/fetch value", "user": {"login": "Dandandan", "id": 163737, "node_id": "MDQ6VXNlcjE2MzczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/163737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dandandan", "html_url": "https://github.com/Dandandan", "followers_url": "https://api.github.com/users/Dandandan/followers", "following_url": "https://api.github.com/users/Dandandan/following{/other_user}", "gists_url": "https://api.github.com/users/Dandandan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dandandan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dandandan/subscriptions", "organizations_url": "https://api.github.com/users/Dandandan/orgs", "repos_url": "https://api.github.com/users/Dandandan/repos", "events_url": "https://api.github.com/users/Dandandan/events{/privacy}", "received_events_url": "https://api.github.com/users/Dandandan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-25T18:32:57Z", "updated_at": "2023-06-22T17:54:54Z", "closed_at": "2023-01-25T19:55:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5066", "html_url": "https://github.com/apache/datafusion/pull/5066", "diff_url": "https://github.com/apache/datafusion/pull/5066.diff", "patch_url": "https://github.com/apache/datafusion/pull/5066.patch", "merged_at": "2023-01-25T19:55:54Z"}, "body": "# Which issue does this PR close?\r\n\r\n\r\nCloses #5064\r\n\r\n# Rationale for this change\r\nBug fix. I found this when working with the Coralogix which pushes down limits to fully to the scan (so the batch size almost always equals the limit).\r\n\r\n# What changes are included in this PR?\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\nChange `<=` to `<` \ud83e\udd73 \r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5066/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5062", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5062/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5062/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5062/events", "html_url": "https://github.com/apache/datafusion/pull/5062", "id": 1557059680, "node_id": "PR_kwDOFWSkxs5IiOlg", "number": 5062, "title": "[sqllogictests] Port orderby.rs to sqllogictests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-25T17:55:57Z", "updated_at": "2023-01-26T19:27:10Z", "closed_at": "2023-01-26T19:19:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5062", "html_url": "https://github.com/apache/datafusion/pull/5062", "diff_url": "https://github.com/apache/datafusion/pull/5062.diff", "patch_url": "https://github.com/apache/datafusion/pull/5062.patch", "merged_at": "2023-01-26T19:19:51Z"}, "body": "# Which issue does this PR close?\r\n\r\nPart of #4495 \r\n\r\n# Rationale for this change\r\nI am about to write tests for https://github.com/apache/arrow-datafusion/issues/4854 and wanted to use sqllogictests so I figured I would start by porting the existing orderby tests to sqllogictests\r\n\r\n# What changes are included in this PR?\r\n\r\n1. Port orderby.rs test to `sqllogictest`\r\n\r\n# Are these changes tested?\r\n\r\nYes\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5062/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5059", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5059/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5059/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5059/events", "html_url": "https://github.com/apache/datafusion/pull/5059", "id": 1556683328, "node_id": "PR_kwDOFWSkxs5Ig9mc", "number": 5059, "title": "Fix CREATE SCHEMA schema name double quoting issue.", "user": {"login": "neumark", "id": 481823, "node_id": "MDQ6VXNlcjQ4MTgyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/481823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neumark", "html_url": "https://github.com/neumark", "followers_url": "https://api.github.com/users/neumark/followers", "following_url": "https://api.github.com/users/neumark/following{/other_user}", "gists_url": "https://api.github.com/users/neumark/gists{/gist_id}", "starred_url": "https://api.github.com/users/neumark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neumark/subscriptions", "organizations_url": "https://api.github.com/users/neumark/orgs", "repos_url": "https://api.github.com/users/neumark/repos", "events_url": "https://api.github.com/users/neumark/events{/privacy}", "received_events_url": "https://api.github.com/users/neumark/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-25T13:43:38Z", "updated_at": "2023-01-26T17:53:53Z", "closed_at": "2023-01-26T17:51:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5059", "html_url": "https://github.com/apache/datafusion/pull/5059", "diff_url": "https://github.com/apache/datafusion/pull/5059.diff", "patch_url": "https://github.com/apache/datafusion/pull/5059.patch", "merged_at": "2023-01-26T17:51:06Z"}, "body": "# Which issue does this PR close?\r\nCloses #5058\r\n\r\n# Rationale for this change\r\nThe changes fix a bug resulting in double-quoted identifiers in SQL query plans.\r\n\r\n# What changes are included in this PR?\r\nThe changes affect logical plan creation in `datafusion/sql/src/statement.rs`\r\n\r\n# Are these changes tested?\r\nThe PR includes an integration test for the `CREATE SCHEMA` SQL statement.\r\n\r\n# Are there any user-facing changes?\r\nUser queries with quoted identifiers will work as expected due to this change.\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5059/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5057", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5057/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5057/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5057/events", "html_url": "https://github.com/apache/datafusion/pull/5057", "id": 1556620223, "node_id": "PR_kwDOFWSkxs5IgwH3", "number": 5057, "title": "Parquet parallel scan", "user": {"login": "korowa", "id": 13005055, "node_id": "MDQ6VXNlcjEzMDA1MDU1", "avatar_url": "https://avatars.githubusercontent.com/u/13005055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/korowa", "html_url": "https://github.com/korowa", "followers_url": "https://api.github.com/users/korowa/followers", "following_url": "https://api.github.com/users/korowa/following{/other_user}", "gists_url": "https://api.github.com/users/korowa/gists{/gist_id}", "starred_url": "https://api.github.com/users/korowa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/korowa/subscriptions", "organizations_url": "https://api.github.com/users/korowa/orgs", "repos_url": "https://api.github.com/users/korowa/repos", "events_url": "https://api.github.com/users/korowa/events{/privacy}", "received_events_url": "https://api.github.com/users/korowa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2023-01-25T13:04:16Z", "updated_at": "2023-02-01T09:29:17Z", "closed_at": "2023-01-30T19:18:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5057", "html_url": "https://github.com/apache/datafusion/pull/5057", "diff_url": "https://github.com/apache/datafusion/pull/5057.diff", "patch_url": "https://github.com/apache/datafusion/pull/5057.patch", "merged_at": "2023-01-30T19:18:25Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #137.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nImproved performance for reading single parquet file / parquet files in quantity less than number of cores in multicore runtime\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n1) `repartition_file_scans` & `repartition_file_min_size` optimizer settings - by default repartitioning of file scans disabled, and performed if total size of files to scan greater than 10MB  (to avoid splitting small amount of small files)\r\n2) `get_repartitioned` in ParquetExec - returns cloned object with ranged `PartitionedFile`s redistributed file groups in `base_config`\r\n3) `repartition.rs` - now calls `get_repartitioned` for `ParquetExec` in case repartitioning is allowed (upstream operator benefit from it / no data ordering violations / etc.)\r\n\r\nAs any other repartitioning operation, parallelization is applied only in case ParquetExec is underloaded in terms of partitions -- two files scan will be distributed over 4 partitions, but no redistribution will be performed in case of \"2 files - 2 target partitions\".\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\nTests for `ParquetExec.get_repartitioned` added, and more tests added for `repartition` rule -- mostly copies of existing tests for cases when parallelization should be ignored, to ensure it won't break physical plans.\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\nNew configuration settings `repartition_file_scans` & `repartition_file_min_size`\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5057/reactions", "total_count": 7, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 7, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5057/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5056", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5056/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5056/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5056/events", "html_url": "https://github.com/apache/datafusion/pull/5056", "id": 1556592528, "node_id": "PR_kwDOFWSkxs5IgqED", "number": 5056, "title": "Update to arrow 32 and Switch to RawDecoder for JSON", "user": {"login": "tustvold", "id": 1781103, "node_id": "MDQ6VXNlcjE3ODExMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1781103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tustvold", "html_url": "https://github.com/tustvold", "followers_url": "https://api.github.com/users/tustvold/followers", "following_url": "https://api.github.com/users/tustvold/following{/other_user}", "gists_url": "https://api.github.com/users/tustvold/gists{/gist_id}", "starred_url": "https://api.github.com/users/tustvold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tustvold/subscriptions", "organizations_url": "https://api.github.com/users/tustvold/orgs", "repos_url": "https://api.github.com/users/tustvold/repos", "events_url": "https://api.github.com/users/tustvold/events{/privacy}", "received_events_url": "https://api.github.com/users/tustvold/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2935904126, "node_id": "MDU6TGFiZWwyOTM1OTA0MTI2", "url": "https://api.github.com/repos/apache/datafusion/labels/api%20change", "name": "api change", "color": "FF0000", "default": false, "description": "Changes the API exposed to users of the crate"}, {"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-25T12:48:24Z", "updated_at": "2023-01-31T18:22:43Z", "closed_at": "2023-01-31T18:06:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5056", "html_url": "https://github.com/apache/datafusion/pull/5056", "diff_url": "https://github.com/apache/datafusion/pull/5056.diff", "patch_url": "https://github.com/apache/datafusion/pull/5056.patch", "merged_at": "2023-01-31T18:06:52Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nIntegration test for https://github.com/apache/arrow-rs/pull/3479 and preparing for the next arrow release https://github.com/apache/arrow-rs/issues/3584\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5056/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5056/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5055", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5055/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5055/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5055/events", "html_url": "https://github.com/apache/datafusion/pull/5055", "id": 1556483919, "node_id": "PR_kwDOFWSkxs5IgSh3", "number": 5055, "title": "Minor: Move some aggregate error tests to sqllogictests", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-25T11:25:16Z", "updated_at": "2024-07-26T10:46:14Z", "closed_at": "2023-01-26T13:02:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5055", "html_url": "https://github.com/apache/datafusion/pull/5055", "diff_url": "https://github.com/apache/datafusion/pull/5055.diff", "patch_url": "https://github.com/apache/datafusion/pull/5055.patch", "merged_at": "2023-01-26T13:02:22Z"}, "body": "# Which issue does this PR close?\r\n\r\npart of #4495 \r\n\r\n# Rationale for this change\r\n\r\nWe are slowly moving tests to the easier to use / faster to run sqllogictest framework\r\n\r\n# What changes are included in this PR?\r\n\r\nport some tests \r\n# Are these changes tested?\r\n\r\nYes\r\n\r\n# Are there any user-facing changes?\r\nNo", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5055/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5054", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5054/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5054/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5054/events", "html_url": "https://github.com/apache/datafusion/pull/5054", "id": 1555923310, "node_id": "PR_kwDOFWSkxs5IecHx", "number": 5054, "title": "Add decimal support to substrait serde", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-25T01:31:56Z", "updated_at": "2023-01-28T02:57:02Z", "closed_at": "2023-01-26T15:36:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5054", "html_url": "https://github.com/apache/datafusion/pull/5054", "diff_url": "https://github.com/apache/datafusion/pull/5054.diff", "patch_url": "https://github.com/apache/datafusion/pull/5054.patch", "merged_at": "2023-01-26T15:36:19Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/4897\r\n\r\nOriginal PR: https://github.com/datafusion-contrib/datafusion-substrait/pull/39\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nApplying PRs that were already merged in the original repo\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5054/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5053", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5053/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5053/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5053/events", "html_url": "https://github.com/apache/datafusion/pull/5053", "id": 1555725319, "node_id": "PR_kwDOFWSkxs5IdxKb", "number": 5053, "title": "Retain schema order in projection", "user": {"login": "avantgardnerio", "id": 3855243, "node_id": "MDQ6VXNlcjM4NTUyNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3855243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avantgardnerio", "html_url": "https://github.com/avantgardnerio", "followers_url": "https://api.github.com/users/avantgardnerio/followers", "following_url": "https://api.github.com/users/avantgardnerio/following{/other_user}", "gists_url": "https://api.github.com/users/avantgardnerio/gists{/gist_id}", "starred_url": "https://api.github.com/users/avantgardnerio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avantgardnerio/subscriptions", "organizations_url": "https://api.github.com/users/avantgardnerio/orgs", "repos_url": "https://api.github.com/users/avantgardnerio/repos", "events_url": "https://api.github.com/users/avantgardnerio/events{/privacy}", "received_events_url": "https://api.github.com/users/avantgardnerio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-24T21:49:47Z", "updated_at": "2023-01-24T22:57:28Z", "closed_at": "2023-01-24T22:45:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5053", "html_url": "https://github.com/apache/datafusion/pull/5053", "diff_url": "https://github.com/apache/datafusion/pull/5053.diff", "patch_url": "https://github.com/apache/datafusion/pull/5053.patch", "merged_at": "2023-01-24T22:45:01Z"}, "body": "# Which issue does this PR close?\r\n\r\nCloses #5052.\r\n\r\n# Rationale for this change\r\n\r\nDescribed in issue.\r\n\r\n# What changes are included in this PR?\r\n\r\nRemoval of `BTreeMap`\r\n\r\n# Are these changes tested?\r\n\r\nYes, they were covered by a previous test.\r\n\r\n# Are there any user-facing changes?\r\n\r\nFields will be returned in a new order. This should be okay because no one is using update yet, and if they were they must have been tolerating random orders.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5053/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/5051", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/5051/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/5051/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/5051/events", "html_url": "https://github.com/apache/datafusion/pull/5051", "id": 1555625342, "node_id": "PR_kwDOFWSkxs5IdbTe", "number": 5051, "title": "Improve join type support in substrait", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-24T20:29:45Z", "updated_at": "2023-01-27T18:55:35Z", "closed_at": "2023-01-24T22:37:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/5051", "html_url": "https://github.com/apache/datafusion/pull/5051", "diff_url": "https://github.com/apache/datafusion/pull/5051.diff", "patch_url": "https://github.com/apache/datafusion/pull/5051.patch", "merged_at": "2023-01-24T22:37:35Z"}, "body": "# Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/4897\r\n\r\nOriginal PR: https://github.com/datafusion-contrib/datafusion-substrait/pull/38/files\r\n\r\n# Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nRe-applying PR from datafusion-substrait repo\r\n\r\n# What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n# Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n# Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/5051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/5051/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]