[{"url": "https://api.github.com/repos/tower-rs/tower-http/issues/210", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/210/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/210/events", "html_url": "https://github.com/tower-rs/tower-http/pull/210", "id": 1110425987, "node_id": "PR_kwDOBxBwNc4xYbt-", "number": 210, "title": "Release 0.2.1", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-21T12:38:52Z", "updated_at": "2022-01-21T12:46:20Z", "closed_at": "2022-01-21T12:46:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/210", "html_url": "https://github.com/tower-rs/tower-http/pull/210", "diff_url": "https://github.com/tower-rs/tower-http/pull/210.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/210.patch", "merged_at": "2022-01-21T12:46:19Z"}, "body": "Would be nice to also include https://github.com/tower-rs/tower-http/pull/203 but haven't looked into that yet and wanna get #204 out quickly.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/209", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/209/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/209/events", "html_url": "https://github.com/tower-rs/tower-http/pull/209", "id": 1109455176, "node_id": "PR_kwDOBxBwNc4xVSJY", "number": 209, "title": "Fix build error for certian feature combinations", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-20T15:38:11Z", "updated_at": "2022-01-20T16:57:48Z", "closed_at": "2022-01-20T16:57:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/209", "html_url": "https://github.com/tower-rs/tower-http/pull/209", "diff_url": "https://github.com/tower-rs/tower-http/pull/209.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/209.patch", "merged_at": "2022-01-20T16:57:47Z"}, "body": "## Motivation\r\nFixes: https://github.com/tower-rs/tower-http/issues/201", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/208", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/208/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/208/events", "html_url": "https://github.com/tower-rs/tower-http/pull/208", "id": 1107481965, "node_id": "PR_kwDOBxBwNc4xO3Bd", "number": 208, "title": "predicate: Fix comment for images and SizeAbove", "user": {"login": "kevinji", "id": 1146876, "node_id": "MDQ6VXNlcjExNDY4NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1146876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinji", "html_url": "https://github.com/kevinji", "followers_url": "https://api.github.com/users/kevinji/followers", "following_url": "https://api.github.com/users/kevinji/following{/other_user}", "gists_url": "https://api.github.com/users/kevinji/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinji/subscriptions", "organizations_url": "https://api.github.com/users/kevinji/orgs", "repos_url": "https://api.github.com/users/kevinji/repos", "events_url": "https://api.github.com/users/kevinji/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinji/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-18T23:59:59Z", "updated_at": "2022-01-20T19:56:56Z", "closed_at": "2022-01-20T19:43:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/208", "html_url": "https://github.com/tower-rs/tower-http/pull/208", "diff_url": "https://github.com/tower-rs/tower-http/pull/208.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/208.patch", "merged_at": "2022-01-20T19:43:17Z"}, "body": "The original comment referred to when compression *would* happen, not when it would not.\r\n\r\n## Motivation\r\n\r\nA comment documented the behavior incorrectly.\r\n\r\n## Solution\r\n\r\nFixed the comment.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/206", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/206/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/206/events", "html_url": "https://github.com/tower-rs/tower-http/pull/206", "id": 1103824775, "node_id": "PR_kwDOBxBwNc4xC4RY", "number": 206, "title": "Fix ci issue and update axum in example", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-14T15:53:24Z", "updated_at": "2022-01-14T16:26:00Z", "closed_at": "2022-01-14T16:25:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/206", "html_url": "https://github.com/tower-rs/tower-http/pull/206", "diff_url": "https://github.com/tower-rs/tower-http/pull/206.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/206.patch", "merged_at": "2022-01-14T16:25:59Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/205", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/205/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/205/events", "html_url": "https://github.com/tower-rs/tower-http/pull/205", "id": 1103752358, "node_id": "PR_kwDOBxBwNc4xCodu", "number": 205, "title": "Clean up some #[cfg]s in compression/body.rs", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-14T14:58:16Z", "updated_at": "2022-01-14T16:36:32Z", "closed_at": "2022-01-14T16:36:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/205", "html_url": "https://github.com/tower-rs/tower-http/pull/205", "diff_url": "https://github.com/tower-rs/tower-http/pull/205.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/205.patch", "merged_at": "2022-01-14T16:36:31Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\nWas originally looking into https://github.com/tower-rs/tower-http/issues/201 but kind of rabbit holed and felt a strong urge to clean up some of the `#[cfg]` we use in compression body.\r\n\r\n## Solution\r\nThe `pin_project_lite` macro (looks like it's the same for the regular `#[pin_project]` macro) doesn't play well with `#[cfg]` attributes which led to some messy workarounds that I wanted to get rid of. I found this comment https://github.com/taiki-e/pin-project-lite/issues/3#issuecomment-774461161 by @tesaguri which provides a macro workaround which solves the problem and makes things a bit cleaner. It's licensed under CC0 1.0 which means it should be fine to use afaik.  It's still a bit messy but more contained to the macro itself at least.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/204", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/204/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/204/events", "html_url": "https://github.com/tower-rs/tower-http/pull/204", "id": 1103673105, "node_id": "PR_kwDOBxBwNc4xCXO6", "number": 204, "title": "ServeDir/File: Fix build_and_validate_path to prevent hacker from accessing arbitrary files", "user": {"login": "c5soft", "id": 3033604, "node_id": "MDQ6VXNlcjMwMzM2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3033604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c5soft", "html_url": "https://github.com/c5soft", "followers_url": "https://api.github.com/users/c5soft/followers", "following_url": "https://api.github.com/users/c5soft/following{/other_user}", "gists_url": "https://api.github.com/users/c5soft/gists{/gist_id}", "starred_url": "https://api.github.com/users/c5soft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c5soft/subscriptions", "organizations_url": "https://api.github.com/users/c5soft/orgs", "repos_url": "https://api.github.com/users/c5soft/repos", "events_url": "https://api.github.com/users/c5soft/events{/privacy}", "received_events_url": "https://api.github.com/users/c5soft/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-01-14T13:55:57Z", "updated_at": "2022-01-21T19:14:58Z", "closed_at": "2022-01-21T12:26:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/204", "html_url": "https://github.com/tower-rs/tower-http/pull/204", "diff_url": "https://github.com/tower-rs/tower-http/pull/204.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/204.patch", "merged_at": "2022-01-21T12:26:17Z"}, "body": "## Motivation\r\n\r\nCurrent version 0.2.0 release has a high risk hidden danger that allowed a hacker to access arbitrary files in server. \r\nWhen axum+tower-http-ServeDir static web server started with Windows 10 at driver D:\\any-folder, a hacker can access any files at driver C:, for example:\r\nhttp://127.0.0.1/anypath/c:/windows/win.ini will get some lines of text and\r\nhttp://127.0.0.1/anypath/c:/windows/web/screen/img101.png will get a image\r\n\r\n## Solution\r\n\r\nFix  build_and_validate_path function to exclude colon charactor [#204](https://github.com/tower-rs/tower-http/pull/204)", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/200", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/200/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/200/events", "html_url": "https://github.com/tower-rs/tower-http/pull/200", "id": 1093602334, "node_id": "PR_kwDOBxBwNc4whcbt", "number": 200, "title": "fix link from readme to license", "user": {"login": "dimbleby", "id": 875184, "node_id": "MDQ6VXNlcjg3NTE4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/875184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimbleby", "html_url": "https://github.com/dimbleby", "followers_url": "https://api.github.com/users/dimbleby/followers", "following_url": "https://api.github.com/users/dimbleby/following{/other_user}", "gists_url": "https://api.github.com/users/dimbleby/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimbleby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimbleby/subscriptions", "organizations_url": "https://api.github.com/users/dimbleby/orgs", "repos_url": "https://api.github.com/users/dimbleby/repos", "events_url": "https://api.github.com/users/dimbleby/events{/privacy}", "received_events_url": "https://api.github.com/users/dimbleby/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-04T17:30:43Z", "updated_at": "2022-01-17T08:35:19Z", "closed_at": "2022-01-17T08:35:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/200", "html_url": "https://github.com/tower-rs/tower-http/pull/200", "diff_url": "https://github.com/tower-rs/tower-http/pull/200.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/200.patch", "merged_at": "2022-01-17T08:35:19Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nThe LICENSE file for this project was lost in the great reset of 9ca9e7cc56a43.\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\nThe README still says MIT license and links to the missing file, so I am taking the liberty of sending you an MR that reinstates that file.\r\n\r\nIt's exactly as it previously was, except that I've added 2022 to the copyright range.\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/199", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/199/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/199/events", "html_url": "https://github.com/tower-rs/tower-http/pull/199", "id": 1091876328, "node_id": "PR_kwDOBxBwNc4wb6c5", "number": 199, "title": "CORS middleware should set the Vary header", "user": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-01T19:25:42Z", "updated_at": "2022-01-03T16:22:20Z", "closed_at": "2022-01-03T16:05:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/199", "html_url": "https://github.com/tower-rs/tower-http/pull/199", "diff_url": "https://github.com/tower-rs/tower-http/pull/199.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/199.patch", "merged_at": "2022-01-03T16:05:22Z"}, "body": "The headers are based on [corsware][] which states:\r\n\r\n> These are all headers which can influence the outcome of any given\r\n> CORS request.\r\n\r\nFixes #198\r\n\r\n[corsware]: https://github.com/atorstling/corsware/blob/3467805a74145b788f8234f9f994caf045509b31/src/lib.rs#L223-L229", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/196", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/196/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/196/events", "html_url": "https://github.com/tower-rs/tower-http/pull/196", "id": 1088034177, "node_id": "PR_kwDOBxBwNc4wPwxm", "number": 196, "title": "Update minimum dependency versions", "user": {"login": "kylewlacy", "id": 1362179, "node_id": "MDQ6VXNlcjEzNjIxNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1362179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylewlacy", "html_url": "https://github.com/kylewlacy", "followers_url": "https://api.github.com/users/kylewlacy/followers", "following_url": "https://api.github.com/users/kylewlacy/following{/other_user}", "gists_url": "https://api.github.com/users/kylewlacy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylewlacy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylewlacy/subscriptions", "organizations_url": "https://api.github.com/users/kylewlacy/orgs", "repos_url": "https://api.github.com/users/kylewlacy/repos", "events_url": "https://api.github.com/users/kylewlacy/events{/privacy}", "received_events_url": "https://api.github.com/users/kylewlacy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-23T23:08:11Z", "updated_at": "2021-12-24T09:56:54Z", "closed_at": "2021-12-24T09:56:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/196", "html_url": "https://github.com/tower-rs/tower-http/pull/196", "diff_url": "https://github.com/tower-rs/tower-http/pull/196.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/196.patch", "merged_at": "2021-12-24T09:56:54Z"}, "body": "This PR updates the minimum dependency versions in `Cargo.toml` to prevent compilation failures.\r\n\r\n## Motivation\r\n\r\nOriginally, after trying to update our project to tower-http 0.2.0, we got a compilation error from tower-http itself after updating.\r\n\r\nI did some sleuthing and found that the version of `futures-util` in our lockfile was too old for tower-http. Doing `cargo update -p futures-util` was good enough to solve the immediate problem, but it seems like the kind of thing that should be upstreamed!\r\n\r\n## Solution\r\n\r\nI updated all dependencies listed in `Cargo.toml` to the minimum versions needed to still compile. I basically used the following to verify that I didn't miss any dependencies:\r\n\r\n```\r\n$ git clone 'https://github.com/kylewlacy/tower-http.git'\r\n$ cd tower-http\r\n$ git checkout origin/update-minimum-dependency-versions\r\n$ cargo +nightly check -Z minimal-versions --all-features --lib\r\n(Initial compilation will fail due to an upstream error in crc32)\r\n$ cargo update -p crc32\r\n$ cargo +nightly check -Z minimal-versions --all-features --lib\r\n(This succeeds with the changes from this PR, but would fail on master)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/196/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/195", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/195/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/195/events", "html_url": "https://github.com/tower-rs/tower-http/pull/195", "id": 1083843487, "node_id": "PR_kwDOBxBwNc4wCGpw", "number": 195, "title": "Add AsyncRequireAuthorization::layer", "user": {"login": "jplatte", "id": 951129, "node_id": "MDQ6VXNlcjk1MTEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplatte", "html_url": "https://github.com/jplatte", "followers_url": "https://api.github.com/users/jplatte/followers", "following_url": "https://api.github.com/users/jplatte/following{/other_user}", "gists_url": "https://api.github.com/users/jplatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplatte/subscriptions", "organizations_url": "https://api.github.com/users/jplatte/orgs", "repos_url": "https://api.github.com/users/jplatte/repos", "events_url": "https://api.github.com/users/jplatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jplatte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-18T14:25:14Z", "updated_at": "2021-12-18T15:31:44Z", "closed_at": "2021-12-18T14:37:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/195", "html_url": "https://github.com/tower-rs/tower-http/pull/195", "diff_url": "https://github.com/tower-rs/tower-http/pull/195.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/195.patch", "merged_at": "2021-12-18T14:37:23Z"}, "body": "## Motivation\r\n\r\n`layer` constructors already exists on almost all services, but there isn't one for `AsyncRequireAuthorization`.\r\n\r\n## Solution\r\n\r\nAdd it \ud83d\ude04 ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/193", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/193/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/193/events", "html_url": "https://github.com/tower-rs/tower-http/pull/193", "id": 1068454443, "node_id": "PR_kwDOBxBwNc4vQFmj", "number": 193, "title": "Release 0.2.0", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734115990, "node_id": "MDU6TGFiZWwyNzM0MTE1OTkw", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Topic: releases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T14:09:57Z", "updated_at": "2021-12-01T19:52:37Z", "closed_at": "2021-12-01T19:52:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/193", "html_url": "https://github.com/tower-rs/tower-http/pull/193", "diff_url": "https://github.com/tower-rs/tower-http/pull/193.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/193.patch", "merged_at": "2021-12-01T19:52:36Z"}, "body": "So much good stuff in this release \ud83e\udd73 \r\n\r\n---\r\n\r\n## Added\r\n\r\n- **builder**: Add `ServiceBuilderExt` which adds methods to `tower::ServiceBuilder` for\r\n  adding middleware from tower-http ([#106])\r\n- **request_id**: Add `SetRequestId` and `PropagateRequestId` middleware ([#150])\r\n- **trace**: Add `DefaultMakeSpan::level` to make log level of tracing spans easily configurable ([#124])\r\n- **trace**: Add `LatencyUnit::Seconds` for formatting latencies as seconds ([#179])\r\n- **trace**: Support customizing which status codes are considered failures by `GrpcErrorsAsFailures` ([#189])\r\n- **compression**: Support specifying predicates to choose when responses should\r\n  be compressed. This can be used to disable compression of small responses,\r\n  responses with a certain `content-type`, or something user defined ([#172])\r\n- **fs**: Ability to serve precompressed files ([#156])\r\n- **fs**: Support `Range` requests ([#173])\r\n- **fs**: Properly support HEAD requests which return no body and have the `Content-Length` header set ([#169])\r\n\r\n## Changed\r\n\r\n- `AddAuthorization`, `InFlightRequests`, `SetRequestHeader`,\r\n  `SetResponseHeader`, `AddExtension`, `MapRequestBody` and `MapResponseBody`\r\n   now requires underlying service to use `http::Request<ReqBody>` and\r\n   `http::Response<ResBody>` as request and responses ([#182]) (BREAKING)\r\n- **set_header**: Remove unnecessary generic parameter from `SetRequestHeaderLayer`\r\n  and `SetResponseHeaderLayer`. This removes the need (and possibility) to specify a\r\n  body type for these layers ([#148]) (BREAKING)\r\n- **compression, decompression**: Change the response body error type to\r\n  `Box<dyn std::error::Error + Send + Sync>`. This makes them usable if\r\n  the body they're wrapping uses `Box<dyn std::error::Error + Send + Sync>` as\r\n  its error type which they previously weren't ([#166]) (BREAKING)\r\n- **fs**: Changed response body type of `ServeDir` and `ServeFile` to\r\n  `ServeFileSystemResponseBody` and `ServeFileSystemResponseFuture` ([#187]) (BREAKING)\r\n- **auth**: Change `AuthorizeRequest` and `AsyncAuthorizeRequest` traits to be simpler ([#192]) (BREAKING)\r\n\r\n## Removed\r\n\r\n- **compression, decompression**: Remove `BodyOrIoError`. Its been replaced with `Box<dyn\r\n  std::error::Error + Send + Sync>` ([#166]) (BREAKING)\r\n- **compression, decompression**: Remove the `compression` and `decompression` feature. They were unnecessary\r\n  and `compression-full`/`decompression-full` can be used to get full\r\n  compression/decompression support. For more granular control `[compression|decompression]-gzip`,\r\n  `[compression|decompression]-br` and `[compression|decompression]-deflate` may\r\n  be used instead ([#170]) (BREAKING)\r\n\r\n[#106]: https://github.com/tower-rs/tower-http/pull/106\r\n[#124]: https://github.com/tower-rs/tower-http/pull/124\r\n[#148]: https://github.com/tower-rs/tower-http/pull/148\r\n[#150]: https://github.com/tower-rs/tower-http/pull/150\r\n[#156]: https://github.com/tower-rs/tower-http/pull/156\r\n[#166]: https://github.com/tower-rs/tower-http/pull/166\r\n[#169]: https://github.com/tower-rs/tower-http/pull/169\r\n[#170]: https://github.com/tower-rs/tower-http/pull/170\r\n[#172]: https://github.com/tower-rs/tower-http/pull/172\r\n[#173]: https://github.com/tower-rs/tower-http/pull/173\r\n[#179]: https://github.com/tower-rs/tower-http/pull/179\r\n[#182]: https://github.com/tower-rs/tower-http/pull/182\r\n[#187]: https://github.com/tower-rs/tower-http/pull/187\r\n[#189]: https://github.com/tower-rs/tower-http/pull/189\r\n[#192]: https://github.com/tower-rs/tower-http/pull/192", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/193/reactions", "total_count": 5, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/192", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/192/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/192/events", "html_url": "https://github.com/tower-rs/tower-http/pull/192", "id": 1064329162, "node_id": "PR_kwDOBxBwNc4vDh1F", "number": 192, "title": "Simplify `AuthorizeRequest` and `AsyncAuthorizeRequest` traits", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 3, "created_at": "2021-11-26T10:41:12Z", "updated_at": "2021-11-26T15:53:01Z", "closed_at": "2021-11-26T15:04:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/192", "html_url": "https://github.com/tower-rs/tower-http/pull/192", "diff_url": "https://github.com/tower-rs/tower-http/pull/192.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/192.patch", "merged_at": "2021-11-26T15:04:13Z"}, "body": "Fixes #190\r\n\r\nThis changes the `AuthorizeRequest` and `AsyncAuthorizeRequest` traits to be quite a bit simpler I think.\r\n\r\n## Sync\r\n\r\nBefore: https://github.com/tower-rs/tower-http/blob/master/tower-http/src/auth/async_require_authorization.rs#L234-L269\r\n\r\nAfter\r\n\r\n```rust\r\npub trait AuthorizeRequest<B> {\r\n    type ResponseBody;\r\n\r\n    fn authorize(\r\n        &mut self,\r\n        request: &mut Request<B>,\r\n    ) -> Result<(), Response<Self::ResponseBody>>;\r\n}\r\n```\r\n\r\n- `authorize` now returns `Result<(), Response>`\r\n- `Ok(())` means the request was accepted and will be passed on the inner service\r\n- `Err(response)` means the request couldn't be authorized and the response will be returned without calling the inner service.\r\n\r\n## Async\r\n\r\nBefore: https://github.com/tower-rs/tower-http/blob/master/tower-http/src/auth/async_require_authorization.rs#L234-L269\r\n\r\nAfter\r\n\r\n```rust\r\npub trait AsyncAuthorizeRequest<B> {\r\n    type RequestBody;\r\n    type ResponseBody: Body;\r\n    type Future: Future<Output = Result<Request<Self::RequestBody>, Response<Self::ResponseBody>>>;\r\n\r\n    fn authorize(&mut self, request: Request<B>) -> Self::Future;\r\n}\r\n```\r\n\r\n- `authorize` now receives an owned request. This allows you to move the request into the future, do some async stuff which yields some data (such as user id from a database), and then save that in a request extension.\r\n- This wouldn't be possible if the future received a `&mut Request` because it would require GATs.\r\n- Therefore the future must resolve to `Result<Request, Response>` so the request can be passed on the inner service.\r\n- Authorization is allowed to change the request body type. Might be useful for someone to buffer and parse the request body to consider it for auth. Then one could change the request body from a generic `B` to [`http_body::Full`](https://docs.rs/http-body/0.4.4/http_body/struct.Full.html).\r\n- This is essentially the same as [`AsyncPredicate`](https://docs.rs/tower/0.4.11/tower/filter/trait.AsyncPredicate.html) from tower.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/191", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/191/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/191/events", "html_url": "https://github.com/tower-rs/tower-http/pull/191", "id": 1064241854, "node_id": "PR_kwDOBxBwNc4vDRB1", "number": 191, "title": "Clean up changelog", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T09:05:26Z", "updated_at": "2021-11-26T09:31:49Z", "closed_at": "2021-11-26T09:31:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/191", "html_url": "https://github.com/tower-rs/tower-http/pull/191", "diff_url": "https://github.com/tower-rs/tower-http/pull/191.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/191.patch", "merged_at": "2021-11-26T09:31:49Z"}, "body": "[Rendered \ud83d\uddbc](https://github.com/tower-rs/tower-http/blob/clean-up-changelog/tower-http/CHANGELOG.md)\r\n\r\nJust some minor clean up/re-org of the changelog. I keep going back and forth on formats for changelogs. This version is inspired by [tracing's changelog](https://github.com/tokio-rs/tracing/blob/master/tracing-subscriber/CHANGELOG.md).", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/189", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/189/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/189/events", "html_url": "https://github.com/tower-rs/tower-http/pull/189", "id": 1063741758, "node_id": "PR_kwDOBxBwNc4vBp4d", "number": 189, "title": "Make `GrpcErrorsAsFailures` more flexible", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734096719, "node_id": "MDU6TGFiZWwyNzM0MDk2NzE5", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or a proposed on in an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 8, "created_at": "2021-11-25T15:50:53Z", "updated_at": "2021-11-26T10:53:14Z", "closed_at": "2021-11-26T10:53:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/189", "html_url": "https://github.com/tower-rs/tower-http/pull/189", "diff_url": "https://github.com/tower-rs/tower-http/pull/189.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/189.patch", "merged_at": "2021-11-26T10:53:13Z"}, "body": "Previously `GrpcErrorsAsFailures` would only consider `Ok` as a success. However for servers it might be useful to also consider `Not Found` or `Invalid Arguments` as success (or at least not consider them failures) since they're likely caused by the client.\r\n\r\nThis PR adds `GrcpErrorsAsFailures::success_codes` which takes a bitmask of the codes that are considered successes. \r\n\r\nExample usage:\r\n\r\n```rust\r\n// Response classifier that doesn't consider `Ok`, `Invalid Argument`, or `Not Found` as\r\n// failures\r\nlet classifier = GrpcErrorsAsFailures::new()\r\n    .success_codes(GrpcCodeBitmask::INVALID_ARGUMENT | GrpcCodeBitmask::NOT_FOUND);\r\n\r\nlet service = ServiceBuilder::new()\r\n    .layer(TraceLayer::new(SharedClassifier::new(classifier)))\r\n    .service(service);\r\n```\r\n\r\nI went with the name `GrpcCodeBitmask` because I think it communicates quite somewhat clearly what it does. At least to people who know what a bitmask is. At first I considered just calling it `GrpcCode` but that might be confusing since its used to match multiple codes and doesn't just represent a single code.\r\n\r\nMaybe the name `GrpcErrorsAsFailures` isn't very accurate anymore \ud83e\udd14 Maybe just `GrpcClassifier` would be better. Although its more broad.\r\n\r\nIt does add a new public dependency on [`bitflags`](https://crates.io/crates/bitflags) but I'm okay with that. The crate is maintained by people from the Rust team, doesn't have dependencies, and has been 1.0 for over 4 years. axum also has a [public dependency on it](https://docs.rs/axum/0.3.4/axum/routing/struct.MethodFilter.html).\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/126", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/188", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/188/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/188/events", "html_url": "https://github.com/tower-rs/tower-http/pull/188", "id": 1061109030, "node_id": "PR_kwDOBxBwNc4u5oU8", "number": 188, "title": "Update README and set MSRV", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-23T11:01:11Z", "updated_at": "2021-11-23T11:10:18Z", "closed_at": "2021-11-23T11:10:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/188", "html_url": "https://github.com/tower-rs/tower-http/pull/188", "diff_url": "https://github.com/tower-rs/tower-http/pull/188.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/188.patch", "merged_at": "2021-11-23T11:10:17Z"}, "body": "Adds MSRV fixing:  https://github.com/tower-rs/tower-http/issues/185 (using the recently released: https://doc.rust-lang.org/cargo/reference/manifest.html#the-rust-version-field)\r\nAlso adds the axum example to the readme.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/187", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/187/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/187/events", "html_url": "https://github.com/tower-rs/tower-http/pull/187", "id": 1061057621, "node_id": "PR_kwDOBxBwNc4u5e43", "number": 187, "title": "Make `ServieFile` specialized version of `ServeDir`", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-23T10:13:22Z", "updated_at": "2021-11-25T00:57:57Z", "closed_at": "2021-11-24T13:08:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/187", "html_url": "https://github.com/tower-rs/tower-http/pull/187", "diff_url": "https://github.com/tower-rs/tower-http/pull/187.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/187.patch", "merged_at": "2021-11-24T13:08:12Z"}, "body": "## Motivation\r\nFixes: https://github.com/tower-rs/tower-http/issues/184 and reduces the need to implement features twice in both `ServeFile` and `ServeDir`.\r\n\r\n## Solution\r\nThis implementaiton specializes `ServeDir` to avoid unnecessary overhead for the `ServeFile` usecase. `ServeFile` now simply wraps a `ServeDir` service.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/187/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/186", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/186/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/186/events", "html_url": "https://github.com/tower-rs/tower-http/pull/186", "id": 1061037786, "node_id": "PR_kwDOBxBwNc4u5ars", "number": 186, "title": "Update tracing-subscriber to 0.3", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-23T09:55:56Z", "updated_at": "2021-11-23T10:05:55Z", "closed_at": "2021-11-23T10:05:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/186", "html_url": "https://github.com/tower-rs/tower-http/pull/186", "diff_url": "https://github.com/tower-rs/tower-http/pull/186.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/186.patch", "merged_at": "2021-11-23T10:05:54Z"}, "body": "Required for https://github.com/tower-rs/tower-http/pull/180", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/183", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/183/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/183/events", "html_url": "https://github.com/tower-rs/tower-http/pull/183", "id": 1059950315, "node_id": "PR_kwDOBxBwNc4u12_m", "number": 183, "title": "Fix warnings when building with certain combinations of features", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-22T10:13:04Z", "updated_at": "2021-11-22T10:31:21Z", "closed_at": "2021-11-22T10:31:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/183", "html_url": "https://github.com/tower-rs/tower-http/pull/183", "diff_url": "https://github.com/tower-rs/tower-http/pull/183.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/183.patch", "merged_at": "2021-11-22T10:31:20Z"}, "body": "Previously some combinations of features, such as just `util`, would result in dead code and unused import warnings.\r\n\r\nThis fixes that and adds some additional lints to the `cargo hack` CI step to make sure it doesn't happen again.\r\n\r\nI fixed the things locally by running `RUSTFLAGS=\"-D unused_imports -D dead_code -D unused_variables\" cargo hack check --each-feature --no-dev-deps --workspace` over and over and until I had the right combinations of features.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/182", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/182/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/182/events", "html_url": "https://github.com/tower-rs/tower-http/pull/182", "id": 1059878744, "node_id": "PR_kwDOBxBwNc4u1oRB", "number": 182, "title": "Enforce http::Request<B> and http::Response<U> for our services", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-22T09:06:34Z", "updated_at": "2024-01-20T08:45:56Z", "closed_at": "2021-11-22T09:25:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/182", "html_url": "https://github.com/tower-rs/tower-http/pull/182", "diff_url": "https://github.com/tower-rs/tower-http/pull/182.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/182.patch", "merged_at": "2021-11-22T09:24:59Z"}, "body": "## Motivation\r\n\r\nFixes: https://github.com/tower-rs/tower-http/issues/164 and hopefully makes it less likely to require breaking changes in the future.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/182/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/181", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/181/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/181/events", "html_url": "https://github.com/tower-rs/tower-http/pull/181", "id": 1059366671, "node_id": "PR_kwDOBxBwNc4uz_yc", "number": 181, "title": "Add axum example", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-21T12:24:55Z", "updated_at": "2021-11-22T08:35:00Z", "closed_at": "2021-11-22T08:34:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/181", "html_url": "https://github.com/tower-rs/tower-http/pull/181", "diff_url": "https://github.com/tower-rs/tower-http/pull/181.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/181.patch", "merged_at": "2021-11-22T08:34:59Z"}, "body": "Pretty much just a port of the warp example to axum.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/179", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/179/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/179/events", "html_url": "https://github.com/tower-rs/tower-http/pull/179", "id": 1058669031, "node_id": "PR_kwDOBxBwNc4ux2my", "number": 179, "title": "Add `LatencyUnit::Seconds`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-19T15:46:43Z", "updated_at": "2021-11-20T15:29:36Z", "closed_at": "2021-11-20T15:29:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/179", "html_url": "https://github.com/tower-rs/tower-http/pull/179", "diff_url": "https://github.com/tower-rs/tower-http/pull/179.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/179.patch", "merged_at": "2021-11-20T15:29:35Z"}, "body": "For formatting latencies as seconds when using `TraceLayer`:\r\n\r\n```rust\r\n.layer(TraceLayer::new_for_http().latency_unit(LatencyUnit::Seconds))\r\n```\r\n\r\nwhich gives this output:\r\n\r\n```\r\nNov 19 16:45:53.003 DEBUG request{method=GET uri=/ version=HTTP/1.1}: tower_http::trace::on_response: finished processing request latency=0.000626625 s status=405\r\n```", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/179/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/178", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/178/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/178/events", "html_url": "https://github.com/tower-rs/tower-http/pull/178", "id": 1058331411, "node_id": "PR_kwDOBxBwNc4uwwd6", "number": 178, "title": "Fallback to other precompressed files if one variant isn't found", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-11-19T09:40:00Z", "updated_at": "2021-11-20T13:17:21Z", "closed_at": "2021-11-20T13:17:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/178", "html_url": "https://github.com/tower-rs/tower-http/pull/178", "diff_url": "https://github.com/tower-rs/tower-http/pull/178.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/178.patch", "merged_at": "2021-11-20T13:17:21Z"}, "body": "## Motivation\r\nIf for example a given ServeFile/Dir have `precompressed_gzip` and `precompressed_br` set but only the `br` variant actually exists, and the calling client supports both encodings, it will now try to fallback to `br` instead of the uncompressed file variant.  \r\n\r\n## Solution\r\nProvide all possible negotiated encodings in the `open_file_with_fallback` function and try them each in the preferred order until a file is found or return a 404\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/176", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/176/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/176/events", "html_url": "https://github.com/tower-rs/tower-http/pull/176", "id": 1056197013, "node_id": "PR_kwDOBxBwNc4uqFEB", "number": 176, "title": "Fix copy paste errors in tests", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-17T14:28:01Z", "updated_at": "2021-11-17T14:37:13Z", "closed_at": "2021-11-17T14:36:49Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/176", "html_url": "https://github.com/tower-rs/tower-http/pull/176", "diff_url": "https://github.com/tower-rs/tower-http/pull/176.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/176.patch", "merged_at": "2021-11-17T14:36:49Z"}, "body": "## Motivation\r\n:facepalm: Found two copy paste errors in the tests from the previous pr. ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/175", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/175/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/175/events", "html_url": "https://github.com/tower-rs/tower-http/pull/175", "id": 1056134283, "node_id": "PR_kwDOBxBwNc4up32U", "number": 175, "title": "Fallback to uncompressed file version if precompressed can't be found", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-17T13:30:08Z", "updated_at": "2021-11-17T15:01:52Z", "closed_at": "2021-11-17T14:19:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/175", "html_url": "https://github.com/tower-rs/tower-http/pull/175", "diff_url": "https://github.com/tower-rs/tower-http/pull/175.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/175.patch", "merged_at": "2021-11-17T14:19:12Z"}, "body": "## Motivation\r\n\r\nPrevents 404s when `.precompressed_gzip()` and family is specified but no precompressed version is found. Mostly useful for the `ServeDir` use case.\r\n\r\n## Solution\r\nSimply remove the extension and retry if an encoding is specified but no file is found.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/173", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/173/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/173/events", "html_url": "https://github.com/tower-rs/tower-http/pull/173", "id": 1054986500, "node_id": "PR_kwDOBxBwNc4umPg2", "number": 173, "title": "Support `Range` requests for `ServeDir`", "user": {"login": "MarcusGrass", "id": 34198073, "node_id": "MDQ6VXNlcjM0MTk4MDcz", "avatar_url": "https://avatars.githubusercontent.com/u/34198073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcusGrass", "html_url": "https://github.com/MarcusGrass", "followers_url": "https://api.github.com/users/MarcusGrass/followers", "following_url": "https://api.github.com/users/MarcusGrass/following{/other_user}", "gists_url": "https://api.github.com/users/MarcusGrass/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcusGrass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcusGrass/subscriptions", "organizations_url": "https://api.github.com/users/MarcusGrass/orgs", "repos_url": "https://api.github.com/users/MarcusGrass/repos", "events_url": "https://api.github.com/users/MarcusGrass/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcusGrass/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 7, "created_at": "2021-11-16T15:04:31Z", "updated_at": "2021-12-01T14:02:38Z", "closed_at": "2021-12-01T14:02:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/173", "html_url": "https://github.com/tower-rs/tower-http/pull/173", "diff_url": "https://github.com/tower-rs/tower-http/pull/173.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/173.patch", "merged_at": "2021-12-01T14:02:38Z"}, "body": "Adresses Handle Range Requests in ServeDir #128 with some outstanding questionmarks mentioned in that issue", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/173/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/172", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/172/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/172/events", "html_url": "https://github.com/tower-rs/tower-http/pull/172", "id": 1054970265, "node_id": "PR_kwDOBxBwNc4umMF7", "number": 172, "title": "Add compression predicate API", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734096719, "node_id": "MDU6TGFiZWwyNzM0MDk2NzE5", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or a proposed on in an issue."}, {"id": 2734123947, "node_id": "MDU6TGFiZWwyNzM0MTIzOTQ3", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-util", "name": "A-new-util", "color": "f7e101", "default": false, "description": "Area: new utility proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 0, "created_at": "2021-11-16T14:50:00Z", "updated_at": "2021-11-19T15:02:54Z", "closed_at": "2021-11-19T15:02:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/172", "html_url": "https://github.com/tower-rs/tower-http/pull/172", "diff_url": "https://github.com/tower-rs/tower-http/pull/172.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/172.patch", "merged_at": "2021-11-19T15:02:53Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/139\r\nFixes https://github.com/tower-rs/tower-http/issues/146\r\n\r\nThis introduces new API for specifying \"compression predicates\". This allows users using the `Compression` middleware to disable compression of specific responses. Could be small responses, images, gRPC, or something completely custom.\r\n\r\nExample from the docs:\r\n\r\n```rust\r\nuse tower_http::compression::{\r\n    Compression,\r\n    predicate::{Predicate, NotForContentType, DefaultPredicate},\r\n};\r\nuse tower::util::service_fn;\r\n\r\nlet service = service_fn(|_: ()| async {\r\n    Ok::<_, std::io::Error>(http::Response::new(()))\r\n});\r\n\r\n// build our custom compression predicate\r\n// its recommended to still include `DefaultPredicate` as part of\r\n// custom predicates\r\nlet predicate = DefaultPredicate::new()\r\n    // don't compress responses who's `content-type` starts with `application/json`\r\n    .and(NotForContentType::new(\"application/json\"));\r\n\r\nlet service = Compression::new(service).compress_when(predicate);\r\n```", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/170", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/170/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/170/events", "html_url": "https://github.com/tower-rs/tower-http/pull/170", "id": 1054856232, "node_id": "PR_kwDOBxBwNc4ulz4G", "number": 170, "title": "Remove compression/decompression features", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T13:03:30Z", "updated_at": "2021-11-16T13:16:02Z", "closed_at": "2021-11-16T13:14:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/170", "html_url": "https://github.com/tower-rs/tower-http/pull/170", "diff_url": "https://github.com/tower-rs/tower-http/pull/170.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/170.patch", "merged_at": "2021-11-16T13:14:28Z"}, "body": "## Motivation\r\nFixes: https://github.com/tower-rs/tower-http/issues/165\r\n\r\n## Solution\r\nSimply remove the features and replace with:\r\n```\r\n#[cfg(any(\r\n    feature = \"decompression-br\",\r\n    feature = \"decompression-deflate\",\r\n    feature = \"decompression-gzip\"\r\n))]\r\n```\r\nand equivalent for compression\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/169", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/169/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/169/events", "html_url": "https://github.com/tower-rs/tower-http/pull/169", "id": 1054667131, "node_id": "PR_kwDOBxBwNc4ulLrp", "number": 169, "title": "Properly support HEAD requests for ServeFile/ServeDir", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-11-16T09:49:06Z", "updated_at": "2021-11-22T11:42:31Z", "closed_at": "2021-11-22T11:42:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/169", "html_url": "https://github.com/tower-rs/tower-http/pull/169", "diff_url": "https://github.com/tower-rs/tower-http/pull/169.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/169.patch", "merged_at": "2021-11-22T11:42:25Z"}, "body": "## Motivation\r\nFixes: https://github.com/tower-rs/tower-http/issues/113\r\n\r\n## Solution\r\nLooks at the metadata to determine the `Content-length` which is set as an additional header in the response. The response contains no body as expected for `HEAD` requests. It uses the same fallback strategy we use for opening files based on negotiated encoding to figure out which metadata should be read.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/167", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/167/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/167/events", "html_url": "https://github.com/tower-rs/tower-http/pull/167", "id": 1053628771, "node_id": "PR_kwDOBxBwNc4uh_TD", "number": 167, "title": "Fix broken link in changelog", "user": {"login": "jplatte", "id": 951129, "node_id": "MDQ6VXNlcjk1MTEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplatte", "html_url": "https://github.com/jplatte", "followers_url": "https://api.github.com/users/jplatte/followers", "following_url": "https://api.github.com/users/jplatte/following{/other_user}", "gists_url": "https://api.github.com/users/jplatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplatte/subscriptions", "organizations_url": "https://api.github.com/users/jplatte/orgs", "repos_url": "https://api.github.com/users/jplatte/repos", "events_url": "https://api.github.com/users/jplatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jplatte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-15T12:49:14Z", "updated_at": "2021-11-15T13:07:16Z", "closed_at": "2021-11-15T13:07:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/167", "html_url": "https://github.com/tower-rs/tower-http/pull/167", "diff_url": "https://github.com/tower-rs/tower-http/pull/167.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/167.patch", "merged_at": "2021-11-15T13:07:13Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/166", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/166/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/166/events", "html_url": "https://github.com/tower-rs/tower-http/pull/166", "id": 1053543479, "node_id": "PR_kwDOBxBwNc4uhtcA", "number": 166, "title": "Change compression body error type to `BoxError`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 0, "created_at": "2021-11-15T11:16:38Z", "updated_at": "2021-11-15T13:16:51Z", "closed_at": "2021-11-15T13:16:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/166", "html_url": "https://github.com/tower-rs/tower-http/pull/166", "diff_url": "https://github.com/tower-rs/tower-http/pull/166.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/166.patch", "merged_at": "2021-11-15T13:16:51Z"}, "body": "The compression related middleware would previously use `BodyOrIoError`\r\nas the body error type. That only implemented `std::error::Error` if the\r\ninner error did as well. Since `Box<dyn std::error::Error + Send + Sync>`\r\ndoes not implement `std::error::Error` `Compression` and\r\n`Decompression` wouldn't be usable with hyper if the body they wrapped\r\nhad that error type.\r\n\r\nThis changes the middleware to use `BoxError` as the error type which\r\nresolves the issue. Its also consistent with other middleware.\r\n\r\nReimplementation of #107 on top of latest `master`.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/162", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/162/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/162/events", "html_url": "https://github.com/tower-rs/tower-http/pull/162", "id": 1052755611, "node_id": "PR_kwDOBxBwNc4ufRzf", "number": 162, "title": "Version 0.1.2", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734115990, "node_id": "MDU6TGFiZWwyNzM0MTE1OTkw", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Topic: releases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-13T19:38:14Z", "updated_at": "2021-11-13T19:59:59Z", "closed_at": "2021-11-13T19:59:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/162", "html_url": "https://github.com/tower-rs/tower-http/pull/162", "diff_url": "https://github.com/tower-rs/tower-http/pull/162.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/162.patch", "merged_at": "2021-11-13T19:59:59Z"}, "body": "- New middleware: Add `Cors` for setting [CORS] headers ([#112])\r\n- New middleware: Add `AsyncRequireAuthorization` ([#118])\r\n- `Compression`: Don't recompress HTTP responses ([#140])\r\n- `Compression` and `Decompression`: Pass configuration from layer into middleware ([#132])\r\n- `ServeDir` and `ServeFile`: Improve performance ([#137])\r\n- `Compression`: Remove needless `ResBody::Error: Into<BoxError>` bounds ([#117])\r\n- `ServeDir`: Percent decode path segments ([#129])\r\n- `ServeDir`: Use correct redirection status ([#130])\r\n- `ServeDir`: Return `404 Not Found` on requests to directories if\r\n  `append_index_html_on_directories` is set to `false` ([#122])", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/161", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/161/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/161/events", "html_url": "https://github.com/tower-rs/tower-http/pull/161", "id": 1052738284, "node_id": "PR_kwDOBxBwNc4ufOty", "number": 161, "title": "Remove unused optional hyper dependency", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 0, "created_at": "2021-11-13T18:09:54Z", "updated_at": "2021-11-15T10:28:48Z", "closed_at": "2021-11-15T10:28:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/161", "html_url": "https://github.com/tower-rs/tower-http/pull/161", "diff_url": "https://github.com/tower-rs/tower-http/pull/161.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/161.patch", "merged_at": "2021-11-15T10:28:47Z"}, "body": "tower-http had an optional dependency on hyper but it doesn't seem like\r\nit was used anywhere. So can be safely removed.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/160", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/160/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/160/events", "html_url": "https://github.com/tower-rs/tower-http/pull/160", "id": 1052654499, "node_id": "PR_kwDOBxBwNc4ue_ze", "number": 160, "title": "Add examples for `ServeDir`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3", "html_url": "https://github.com/tower-rs/tower-http/milestone/3", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3/labels", "id": 7337635, "node_id": "MI_kwDOBxBwNc4Ab_aj", "number": 3, "title": "0.1.2", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-11-08T13:41:07Z", "updated_at": "2021-11-13T20:27:50Z", "due_on": null, "closed_at": "2021-11-13T20:27:50Z"}, "comments": 0, "created_at": "2021-11-13T10:56:58Z", "updated_at": "2021-11-13T19:21:59Z", "closed_at": "2021-11-13T19:21:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/160", "html_url": "https://github.com/tower-rs/tower-http/pull/160", "diff_url": "https://github.com/tower-rs/tower-http/pull/160.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/160.patch", "merged_at": "2021-11-13T19:21:58Z"}, "body": "Fixes #149", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/159", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/159/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/159/events", "html_url": "https://github.com/tower-rs/tower-http/pull/159", "id": 1052649771, "node_id": "PR_kwDOBxBwNc4ue--0", "number": 159, "title": "Update changelog", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3", "html_url": "https://github.com/tower-rs/tower-http/milestone/3", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3/labels", "id": 7337635, "node_id": "MI_kwDOBxBwNc4Ab_aj", "number": 3, "title": "0.1.2", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-11-08T13:41:07Z", "updated_at": "2021-11-13T20:27:50Z", "due_on": null, "closed_at": "2021-11-13T20:27:50Z"}, "comments": 0, "created_at": "2021-11-13T10:30:17Z", "updated_at": "2021-11-13T19:23:17Z", "closed_at": "2021-11-13T19:23:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/159", "html_url": "https://github.com/tower-rs/tower-http/pull/159", "diff_url": "https://github.com/tower-rs/tower-http/pull/159.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/159.patch", "merged_at": "2021-11-13T19:23:16Z"}, "body": "This updates the changelog with all the new things that'll be released\r\nin 0.1.2", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/159/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/158", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/158/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/158/events", "html_url": "https://github.com/tower-rs/tower-http/pull/158", "id": 1052059848, "node_id": "PR_kwDOBxBwNc4udgH2", "number": 158, "title": "Fix CI", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-12T15:03:09Z", "updated_at": "2021-11-12T21:23:31Z", "closed_at": "2021-11-12T21:23:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/158", "html_url": "https://github.com/tower-rs/tower-http/pull/158", "diff_url": "https://github.com/tower-rs/tower-http/pull/158.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/158.patch", "merged_at": "2021-11-12T21:23:28Z"}, "body": "Copies parts of tower's and axum's CI workflows.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/157", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/157/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/157/events", "html_url": "https://github.com/tower-rs/tower-http/pull/157", "id": 1052055826, "node_id": "PR_kwDOBxBwNc4udfUT", "number": 157, "title": "Move license into crate", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3", "html_url": "https://github.com/tower-rs/tower-http/milestone/3", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3/labels", "id": 7337635, "node_id": "MI_kwDOBxBwNc4Ab_aj", "number": 3, "title": "0.1.2", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-11-08T13:41:07Z", "updated_at": "2021-11-13T20:27:50Z", "due_on": null, "closed_at": "2021-11-13T20:27:50Z"}, "comments": 4, "created_at": "2021-11-12T14:58:59Z", "updated_at": "2021-11-12T21:46:47Z", "closed_at": "2021-11-12T21:46:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/157", "html_url": "https://github.com/tower-rs/tower-http/pull/157", "diff_url": "https://github.com/tower-rs/tower-http/pull/157.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/157.patch", "merged_at": "2021-11-12T21:46:46Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/153", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/157/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/156", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/156/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/156/events", "html_url": "https://github.com/tower-rs/tower-http/pull/156", "id": 1050879993, "node_id": "PR_kwDOBxBwNc4uZtc3", "number": 156, "title": "Precompressed files", "user": {"login": "Nehliin", "id": 22415885, "node_id": "MDQ6VXNlcjIyNDE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/22415885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nehliin", "html_url": "https://github.com/Nehliin", "followers_url": "https://api.github.com/users/Nehliin/followers", "following_url": "https://api.github.com/users/Nehliin/following{/other_user}", "gists_url": "https://api.github.com/users/Nehliin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nehliin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nehliin/subscriptions", "organizations_url": "https://api.github.com/users/Nehliin/orgs", "repos_url": "https://api.github.com/users/Nehliin/repos", "events_url": "https://api.github.com/users/Nehliin/events{/privacy}", "received_events_url": "https://api.github.com/users/Nehliin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3059414205, "node_id": "MDU6TGFiZWwzMDU5NDE0MjA1", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/breaking%20change", "name": "breaking change", "color": "B60205", "default": false, "description": "A PR that makes a breaking change."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 9, "created_at": "2021-11-11T11:29:44Z", "updated_at": "2021-11-17T09:24:05Z", "closed_at": "2021-11-15T11:04:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/156", "html_url": "https://github.com/tower-rs/tower-http/pull/156", "diff_url": "https://github.com/tower-rs/tower-http/pull/156.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/156.patch", "merged_at": "2021-11-15T11:04:48Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\nSuggestion for an implementation that should fix https://github.com/tower-rs/tower-http/issues/120. \r\n\r\n## Solution\r\nThe user specifies which types of precompression is available in the same directory as the original file by specifying `precompressed_[gzip|br|deflate]` to the `ServeFile` service. It is not required to have the compression feature enabled since no compression/decompression actually happens on the server. The `ServeFile` service looks for copies of the original file with the extension `.gz`, `.br`or `.zz` depending on the compression used/specified. If a client requests the file and doesn't support any of the precompressed variants the \"normal\" file  will be served instead. This means it's expected that the uncompressed version of the file also exists if all clients should be able to request the file. Otherwise a 404 will be returned if the client doesn't support the compression algorithm. \r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/151", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/151/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/151/events", "html_url": "https://github.com/tower-rs/tower-http/pull/151", "id": 1027678064, "node_id": "PR_kwDOBxBwNc4tQ4Jg", "number": 151, "title": "Switch from pin-project to pin-project-lite", "user": {"login": "jplatte", "id": 951129, "node_id": "MDQ6VXNlcjk1MTEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplatte", "html_url": "https://github.com/jplatte", "followers_url": "https://api.github.com/users/jplatte/followers", "following_url": "https://api.github.com/users/jplatte/following{/other_user}", "gists_url": "https://api.github.com/users/jplatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplatte/subscriptions", "organizations_url": "https://api.github.com/users/jplatte/orgs", "repos_url": "https://api.github.com/users/jplatte/repos", "events_url": "https://api.github.com/users/jplatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jplatte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 5, "created_at": "2021-10-15T18:06:28Z", "updated_at": "2021-11-16T15:30:41Z", "closed_at": "2021-11-16T15:29:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/151", "html_url": "https://github.com/tower-rs/tower-http/pull/151", "diff_url": "https://github.com/tower-rs/tower-http/pull/151.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/151.patch", "merged_at": "2021-11-16T15:29:18Z"}, "body": "Fixes #115.\r\n\r\nContains a decent amount of duplicated code, most of which can be removed once https://github.com/rust-lang/rust/issues/51085 is stable. It might be possible to reduce this duplication using a macro (but I'm not sure whether macros are allowed to take the place of entire match arms, rather than just patterns / expressions), if you want I'll look into that.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/150", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/150/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/150/events", "html_url": "https://github.com/tower-rs/tower-http/pull/150", "id": 1017713043, "node_id": "PR_kwDOBxBwNc4sxPjZ", "number": 150, "title": "Add `SetRequestId` and `PropagateRequestId` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 1, "created_at": "2021-10-06T07:49:06Z", "updated_at": "2021-11-22T12:01:28Z", "closed_at": "2021-11-22T12:01:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/150", "html_url": "https://github.com/tower-rs/tower-http/pull/150", "diff_url": "https://github.com/tower-rs/tower-http/pull/150.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/150.patch", "merged_at": "2021-11-22T12:01:27Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/135\r\n\r\nExample usage:\r\n\r\n```rust\r\nuse http::{Request, Response, header::HeaderName};\r\nuse tower::{Service, ServiceExt, ServiceBuilder};\r\nuse tower_http::request_id::{\r\n    SetRequestIdLayer, PropagateRequestIdLayer, MakeRequestId, RequestId,\r\n};\r\nuse hyper::Body;\r\nuse std::sync::{Arc, atomic::{AtomicU64, Ordering}};\r\n\r\n// A `MakeRequestId` that increments an atomic counter\r\n#[derive(Clone, Default)]\r\nstruct MyMakeRequestId {\r\n    counter: Arc<AtomicU64>,\r\n}\r\n\r\nimpl MakeRequestId for MyMakeRequestId {\r\n    fn make_request_id<B>(&mut self, request: &Request<B>) -> Option<RequestId> {\r\n        let request_id = self.counter\r\n            .fetch_add(1, Ordering::SeqCst)\r\n            .to_string()\r\n            .parse()\r\n            .unwrap();\r\n\r\n        Some(RequestId::new(request_id))\r\n    }\r\n}\r\n\r\nlet x_request_id = HeaderName::from_static(\"x-request-id\");\r\n\r\nServiceBuilder::new()\r\n    // set `x-request-id` header on all requests\r\n    .layer(SetRequestIdLayer::new(\r\n        x_request_id.clone(),\r\n        MyMakeRequestId::default(),\r\n    ))\r\n    // propagate `x-request-id` headers from request to response\r\n    .layer(PropagateRequestIdLayer::new(x_request_id))\r\n    .service(handler);\r\n```\r\n\r\nOr slightly shorter using `ServiceBuilderExt`:\r\n\r\n```rust\r\nuse tower_http::ServiceBuilderExt;\r\n\r\nServiceBuilder::new()\r\n    .set_x_request_id(MyMakeRequestId::default())\r\n    .propagate_x_request_id()\r\n    .service(handler);\r\n```\r\n\r\nThese are two different middleware since they need to be applied around any logging you might have. The docs have an example.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/148", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/148/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/148/events", "html_url": "https://github.com/tower-rs/tower-http/pull/148", "id": 1015060948, "node_id": "PR_kwDOBxBwNc4somAU", "number": 148, "title": "Remove unnecessary generic parameter from Set{Request,Response}HeaderLayer", "user": {"login": "jplatte", "id": 951129, "node_id": "MDQ6VXNlcjk1MTEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplatte", "html_url": "https://github.com/jplatte", "followers_url": "https://api.github.com/users/jplatte/followers", "following_url": "https://api.github.com/users/jplatte/following{/other_user}", "gists_url": "https://api.github.com/users/jplatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplatte/subscriptions", "organizations_url": "https://api.github.com/users/jplatte/orgs", "repos_url": "https://api.github.com/users/jplatte/repos", "events_url": "https://api.github.com/users/jplatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jplatte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 2, "created_at": "2021-10-04T11:30:19Z", "updated_at": "2021-11-15T12:31:30Z", "closed_at": "2021-11-15T12:31:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/148", "html_url": "https://github.com/tower-rs/tower-http/pull/148", "diff_url": "https://github.com/tower-rs/tower-http/pull/148.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/148.patch", "merged_at": "2021-11-15T12:31:26Z"}, "body": "## Motivation\r\n\r\nCurrently, `SetRequestHeaderLayer` and `SetResponseHeaderLayer` have to have a turbofish supplied when used with a plain `HeaderValue` (or `Option<HeaderValue>`) instead of a closure, which is annoying.\r\n\r\n## Solution\r\n\r\nAdjust the generics to make things work out :)\r\n\r\nUnfortunately, this conflicts with #147 and as such error messages from closures with wrong parameter types will continue to be reported rather late somewhere in the usage of these layers rather than at the construction site. However, I consider this change to be more valuable than #147.\r\n\r\nThis is a breaking change because it changes the number of generic parameters and previous `::<_, Body>` turbofish usage will thus become invalid.\r\n\r\nProperly fixes #127", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/148/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/148/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/145", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/145/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/145/events", "html_url": "https://github.com/tower-rs/tower-http/pull/145", "id": 999494874, "node_id": "PR_kwDOBxBwNc4r5fnn", "number": 145, "title": "ServeDir & ServeFile last modified headers handling", "user": {"login": "zenria", "id": 1299045, "node_id": "MDQ6VXNlcjEyOTkwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1299045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zenria", "html_url": "https://github.com/zenria", "followers_url": "https://api.github.com/users/zenria/followers", "following_url": "https://api.github.com/users/zenria/following{/other_user}", "gists_url": "https://api.github.com/users/zenria/gists{/gist_id}", "starred_url": "https://api.github.com/users/zenria/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zenria/subscriptions", "organizations_url": "https://api.github.com/users/zenria/orgs", "repos_url": "https://api.github.com/users/zenria/repos", "events_url": "https://api.github.com/users/zenria/events{/privacy}", "received_events_url": "https://api.github.com/users/zenria/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2021-09-17T15:45:55Z", "updated_at": "2023-09-23T11:23:51Z", "closed_at": "2022-01-17T08:22:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/145", "html_url": "https://github.com/tower-rs/tower-http/pull/145", "diff_url": "https://github.com/tower-rs/tower-http/pull/145.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/145.patch", "merged_at": "2022-01-17T08:22:09Z"}, "body": "~Note: This PR also includes https://github.com/tower-rs/tower-http/pull/137, I will modify it when it will be merged~\r\n\r\n## Motivation\r\n\r\nServeDir & ServeFile should respect http caching best practice by setting `Last-Modified` response header and handling `If-Modified_since` & `If-Unmodified-Since` requests headers.\r\n\r\n## Solution\r\n\r\nThe `Last-Modified` header is added on responses of ServeFile & ServeDir. \r\n\r\n`If-Modified_since` & `If-Unmodified-Since` requests headers are handled so the service will respond `NOT_MODIFIED` or `PRECONDITION_FAILED` depending on values set into the headers.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/145/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/145/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/144", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/144/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/144/events", "html_url": "https://github.com/tower-rs/tower-http/pull/144", "id": 999294990, "node_id": "PR_kwDOBxBwNc4r45Zm", "number": 144, "title": "Fix build warning", "user": {"login": "hannobraun", "id": 85732, "node_id": "MDQ6VXNlcjg1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/85732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannobraun", "html_url": "https://github.com/hannobraun", "followers_url": "https://api.github.com/users/hannobraun/followers", "following_url": "https://api.github.com/users/hannobraun/following{/other_user}", "gists_url": "https://api.github.com/users/hannobraun/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannobraun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannobraun/subscriptions", "organizations_url": "https://api.github.com/users/hannobraun/orgs", "repos_url": "https://api.github.com/users/hannobraun/repos", "events_url": "https://api.github.com/users/hannobraun/events{/privacy}", "received_events_url": "https://api.github.com/users/hannobraun/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-17T12:22:23Z", "updated_at": "2021-09-19T09:35:27Z", "closed_at": "2021-09-18T16:29:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/144", "html_url": "https://github.com/tower-rs/tower-http/pull/144", "diff_url": "https://github.com/tower-rs/tower-http/pull/144.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/144.patch", "merged_at": "2021-09-18T16:29:18Z"}, "body": "## Motivation\r\n\r\nThe build should be warning-free.\r\n\r\n## Solution\r\n\r\nFixed warning about renamed lint by using the new name.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/144/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/143", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/143/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/143/events", "html_url": "https://github.com/tower-rs/tower-http/pull/143", "id": 993152648, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMxMzgyNjI4", "number": 143, "title": "Improve set header", "user": {"login": "jplatte", "id": 951129, "node_id": "MDQ6VXNlcjk1MTEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplatte", "html_url": "https://github.com/jplatte", "followers_url": "https://api.github.com/users/jplatte/followers", "following_url": "https://api.github.com/users/jplatte/following{/other_user}", "gists_url": "https://api.github.com/users/jplatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplatte/subscriptions", "organizations_url": "https://api.github.com/users/jplatte/orgs", "repos_url": "https://api.github.com/users/jplatte/repos", "events_url": "https://api.github.com/users/jplatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jplatte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-10T11:38:41Z", "updated_at": "2021-09-18T22:02:03Z", "closed_at": "2021-09-18T21:57:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/143", "html_url": "https://github.com/tower-rs/tower-http/pull/143", "diff_url": "https://github.com/tower-rs/tower-http/pull/143.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/143.patch", "merged_at": "2021-09-18T21:57:06Z"}, "body": "## Motivation\r\n\r\nMakes the code more maintainable, and docs neater (providing rustdoc with a clear tagline / rest of the docs for overview pages).\r\n\r\n## Solution\r\n\r\nRefactor stuff.\r\n\r\n## Other\r\n\r\nI didn't rename `T` in `Set{Request,Response}HeaderLayer` to `ReqBody` / `ResBody` here, but I think that might also make sense.\r\n\r\nAll of this refactoring happened in an attempt to fix #127, which I still believe is possible but I've spent enough time on this for now.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/143/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/140", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/140/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/140/events", "html_url": "https://github.com/tower-rs/tower-http/pull/140", "id": 989043943, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI3ODUwMTEy", "number": 140, "title": "fix: Don't recompress HTTP responses", "user": {"login": "NeoLegends", "id": 1683034, "node_id": "MDQ6VXNlcjE2ODMwMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1683034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NeoLegends", "html_url": "https://github.com/NeoLegends", "followers_url": "https://api.github.com/users/NeoLegends/followers", "following_url": "https://api.github.com/users/NeoLegends/following{/other_user}", "gists_url": "https://api.github.com/users/NeoLegends/gists{/gist_id}", "starred_url": "https://api.github.com/users/NeoLegends/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NeoLegends/subscriptions", "organizations_url": "https://api.github.com/users/NeoLegends/orgs", "repos_url": "https://api.github.com/users/NeoLegends/repos", "events_url": "https://api.github.com/users/NeoLegends/events{/privacy}", "received_events_url": "https://api.github.com/users/NeoLegends/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-06T10:53:36Z", "updated_at": "2021-09-18T15:27:50Z", "closed_at": "2021-09-18T15:27:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/140", "html_url": "https://github.com/tower-rs/tower-http/pull/140", "diff_url": "https://github.com/tower-rs/tower-http/pull/140.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/140.patch", "merged_at": "2021-09-18T15:27:50Z"}, "body": "\r\n## Motivation\r\n\r\nCloses #138 \r\n## Solution\r\n\r\nextended the `supports_transparent_compression` function to check for a `content-encoding` and added a test", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/140/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/137", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/137/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/137/events", "html_url": "https://github.com/tower-rs/tower-http/pull/137", "id": 987029623, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI2MTY5MDYz", "number": 137, "title": "ServeDir: reuse buf and reponse Stream, optimize the default chunk buf size", "user": {"login": "ttys3", "id": 41882455, "node_id": "MDQ6VXNlcjQxODgyNDU1", "avatar_url": "https://avatars.githubusercontent.com/u/41882455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttys3", "html_url": "https://github.com/ttys3", "followers_url": "https://api.github.com/users/ttys3/followers", "following_url": "https://api.github.com/users/ttys3/following{/other_user}", "gists_url": "https://api.github.com/users/ttys3/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttys3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttys3/subscriptions", "organizations_url": "https://api.github.com/users/ttys3/orgs", "repos_url": "https://api.github.com/users/ttys3/repos", "events_url": "https://api.github.com/users/ttys3/events{/privacy}", "received_events_url": "https://api.github.com/users/ttys3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-02T18:17:15Z", "updated_at": "2021-09-18T15:11:02Z", "closed_at": "2021-09-18T15:11:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/137", "html_url": "https://github.com/tower-rs/tower-http/pull/137", "diff_url": "https://github.com/tower-rs/tower-http/pull/137.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/137.patch", "merged_at": "2021-09-18T15:11:01Z"}, "body": "\r\n~~we need wait tokio release the next version of `tokio-util` since this PR depends on the commit https://github.com/tokio-rs/tokio/commit/d0dd74a0583b3ed7c8c7f68a4279fe9709bbf158~~\r\n\r\n`tokio-util` 0.6.8 has been released (https://crates.io/crates/tokio-util/0.6.8)\r\n\r\n## Motivation\r\n\r\nWith this PR, the `ServeDir` file sending speed up from `6MiB/s` to `1318M/s` on my machine (target `release` build).\r\n\r\nThe default buf size changed to `64KiB`, which is a reasonable value in some other popular Rust web framework. I think we are ok with this value.\r\n\r\n## Solution\r\n\r\n1. reuse the buf ( do not `new` on every `poll`)\r\n2. change the default buffer chunk size to a rather reasonable value\r\n3. add `with_capacity()` method allow to customize the buffer capacity (currently this method is internal use only)\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/137/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/133", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/133/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/133/events", "html_url": "https://github.com/tower-rs/tower-http/pull/133", "id": 983063781, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyNzA2MzM4", "number": 133, "title": "Update tonic and prost in examples", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-30T18:10:49Z", "updated_at": "2021-08-30T18:24:39Z", "closed_at": "2021-08-30T18:24:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/133", "html_url": "https://github.com/tower-rs/tower-http/pull/133", "diff_url": "https://github.com/tower-rs/tower-http/pull/133.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/133.patch", "merged_at": "2021-08-30T18:24:36Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/132", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/132/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/132/events", "html_url": "https://github.com/tower-rs/tower-http/pull/132", "id": 982097273, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIxOTUwNTY2", "number": 132, "title": "Bug fix: [de]compression layers ignore configuration", "user": {"login": "Madoshakalaka", "id": 44753941, "node_id": "MDQ6VXNlcjQ0NzUzOTQx", "avatar_url": "https://avatars.githubusercontent.com/u/44753941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Madoshakalaka", "html_url": "https://github.com/Madoshakalaka", "followers_url": "https://api.github.com/users/Madoshakalaka/followers", "following_url": "https://api.github.com/users/Madoshakalaka/following{/other_user}", "gists_url": "https://api.github.com/users/Madoshakalaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/Madoshakalaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Madoshakalaka/subscriptions", "organizations_url": "https://api.github.com/users/Madoshakalaka/orgs", "repos_url": "https://api.github.com/users/Madoshakalaka/repos", "events_url": "https://api.github.com/users/Madoshakalaka/events{/privacy}", "received_events_url": "https://api.github.com/users/Madoshakalaka/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-29T13:18:13Z", "updated_at": "2021-09-18T15:27:14Z", "closed_at": "2021-09-18T15:27:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/132", "html_url": "https://github.com/tower-rs/tower-http/pull/132", "diff_url": "https://github.com/tower-rs/tower-http/pull/132.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/132.patch", "merged_at": "2021-09-18T15:27:14Z"}, "body": "* Decompression layer and compression layer now accepts encoding configuration\r\n\r\n* Added regression test to make sure compression layer registers configuration\r\n\r\nwhoa, so compression layers and decompression layers just ignored those `.set_br`/`.no_br` calls...I fixed it! ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/130", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/130/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/130/events", "html_url": "https://github.com/tower-rs/tower-http/pull/130", "id": 980523378, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIwNzQ1MjQ5", "number": 130, "title": "permanent redir should avoid used when redir  foo-dir to foo-dir/", "user": {"login": "ttys3", "id": 41882455, "node_id": "MDQ6VXNlcjQxODgyNDU1", "avatar_url": "https://avatars.githubusercontent.com/u/41882455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttys3", "html_url": "https://github.com/ttys3", "followers_url": "https://api.github.com/users/ttys3/followers", "following_url": "https://api.github.com/users/ttys3/following{/other_user}", "gists_url": "https://api.github.com/users/ttys3/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttys3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttys3/subscriptions", "organizations_url": "https://api.github.com/users/ttys3/orgs", "repos_url": "https://api.github.com/users/ttys3/repos", "events_url": "https://api.github.com/users/ttys3/events{/privacy}", "received_events_url": "https://api.github.com/users/ttys3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-26T18:21:52Z", "updated_at": "2021-08-26T20:20:04Z", "closed_at": "2021-08-26T19:43:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/130", "html_url": "https://github.com/tower-rs/tower-http/pull/130", "diff_url": "https://github.com/tower-rs/tower-http/pull/130.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/130.patch", "merged_at": "2021-08-26T19:43:09Z"}, "body": "## Motivation\r\n\r\nThe problem is about default browser behavior like Chrome.\r\n\r\nfor example the root dir has a sub dir named `foo` and it does exists.\r\n\r\nwhen user agent access `/foo`, by default, tower `ServeDir` will redirect it to `/foo/`\r\n\r\nthis is OK.\r\n\r\nbut somehow, you moved the `foo` dir to other place. and you wnat't to put a file named `foo`\r\n\r\nyes, they have the same name.\r\n\r\nthen if you try to access the uri again: `/foo`, Chrome will not contact the http server again\r\n\r\nand just do a client side redirect since you tell Chrome that it is `permanent` redirect.\r\n\r\n![image](https://user-images.githubusercontent.com/41882455/131015503-3305aae9-7d01-46e7-89d7-eae87a0c004e.png)\r\n\r\nyes, it shows `Status Code: 308 Permanent Redirect (from disk cache)`\r\n\r\nyou'll never have the chance to access the file named `foo` if you don't do a `Empty Cache and Hard Reload` operation.  (`Hard Reload` and `Normal Reload` can not clean a Permanent Redirect)\r\n\r\n## Solution\r\n\r\nuse temporay redirect.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/129", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/129/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/129/events", "html_url": "https://github.com/tower-rs/tower-http/pull/129", "id": 980493723, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIwNzIwOTkw", "number": 129, "title": "fix: percent decode path segments", "user": {"login": "ttys3", "id": 41882455, "node_id": "MDQ6VXNlcjQxODgyNDU1", "avatar_url": "https://avatars.githubusercontent.com/u/41882455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttys3", "html_url": "https://github.com/ttys3", "followers_url": "https://api.github.com/users/ttys3/followers", "following_url": "https://api.github.com/users/ttys3/following{/other_user}", "gists_url": "https://api.github.com/users/ttys3/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttys3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttys3/subscriptions", "organizations_url": "https://api.github.com/users/ttys3/orgs", "repos_url": "https://api.github.com/users/ttys3/repos", "events_url": "https://api.github.com/users/ttys3/events{/privacy}", "received_events_url": "https://api.github.com/users/ttys3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-26T17:42:57Z", "updated_at": "2021-08-26T19:49:55Z", "closed_at": "2021-08-26T19:49:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/129", "html_url": "https://github.com/tower-rs/tower-http/pull/129", "diff_url": "https://github.com/tower-rs/tower-http/pull/129.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/129.patch", "merged_at": "2021-08-26T19:49:55Z"}, "body": "## Motivation\r\n\r\n`ServerDir` does not do url decode.\r\n\r\nWhen I try to GET a uri like `/\u4e2d\u6587\u6587\u4ef6.txt`\r\n\r\nthe user agent will send `/%E4%B8%AD%E6%96%87%E6%96%87%E4%BB%B6.txt` , and `ServerDir` just try to open a file named `/%E4%B8%AD%E6%96%87%E6%96%87%E4%BB%B6.txt`, cause a `404` file not found error.\r\n\r\nrelated issue  https://github.com/tower-rs/tower-http/issues/114\r\n\r\n## Solution\r\n\r\ndecode uri path before open it as an file path\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/124", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/124/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/124/events", "html_url": "https://github.com/tower-rs/tower-http/pull/124", "id": 974839907, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE2MDg3ODE1", "number": 124, "title": "Allow users to control level of Tracing spans", "user": {"login": "hannobraun", "id": 85732, "node_id": "MDQ6VXNlcjg1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/85732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannobraun", "html_url": "https://github.com/hannobraun", "followers_url": "https://api.github.com/users/hannobraun/followers", "following_url": "https://api.github.com/users/hannobraun/following{/other_user}", "gists_url": "https://api.github.com/users/hannobraun/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannobraun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannobraun/subscriptions", "organizations_url": "https://api.github.com/users/hannobraun/orgs", "repos_url": "https://api.github.com/users/hannobraun/repos", "events_url": "https://api.github.com/users/hannobraun/events{/privacy}", "received_events_url": "https://api.github.com/users/hannobraun/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 10, "created_at": "2021-08-19T16:25:29Z", "updated_at": "2021-11-15T12:41:47Z", "closed_at": "2021-11-15T11:00:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/124", "html_url": "https://github.com/tower-rs/tower-http/pull/124", "diff_url": "https://github.com/tower-rs/tower-http/pull/124.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/124.patch", "merged_at": "2021-11-15T11:00:31Z"}, "body": "## Motivation\r\n\r\nI want to see the request method and path in my log message. See #123 for more information.\r\n\r\n## Solution\r\n\r\nThis is a minimally invasive solution for #123: It allows the user to configure the level for request spans. While this is far from ideal API-wise, it's a quick fix. I don't think I know enough about how Tracing is supposed to be used to come up with something better right now (that spans have associated levels in the first place seems wrong to me, but I'm sure I'm missing something).", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/122", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/122/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/122/events", "html_url": "https://github.com/tower-rs/tower-http/pull/122", "id": 974499644, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE1Nzk0ODEx", "number": 122, "title": "Fix ServeDir Bug", "user": {"login": "programatik29", "id": 70590982, "node_id": "MDQ6VXNlcjcwNTkwOTgy", "avatar_url": "https://avatars.githubusercontent.com/u/70590982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/programatik29", "html_url": "https://github.com/programatik29", "followers_url": "https://api.github.com/users/programatik29/followers", "following_url": "https://api.github.com/users/programatik29/following{/other_user}", "gists_url": "https://api.github.com/users/programatik29/gists{/gist_id}", "starred_url": "https://api.github.com/users/programatik29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/programatik29/subscriptions", "organizations_url": "https://api.github.com/users/programatik29/orgs", "repos_url": "https://api.github.com/users/programatik29/repos", "events_url": "https://api.github.com/users/programatik29/events{/privacy}", "received_events_url": "https://api.github.com/users/programatik29/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-19T10:11:02Z", "updated_at": "2021-08-19T15:48:57Z", "closed_at": "2021-08-19T15:48:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/122", "html_url": "https://github.com/tower-rs/tower-http/pull/122", "diff_url": "https://github.com/tower-rs/tower-http/pull/122.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/122.patch", "merged_at": "2021-08-19T15:48:56Z"}, "body": "## Motivation\r\n\r\nFixes #121.\r\n\r\n## Solution\r\n\r\nWith this change requests to a directory endpoint will always return `404` if `append_index_html_on_directories` is set to `false`.\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/122/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/118", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/118/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/118/events", "html_url": "https://github.com/tower-rs/tower-http/pull/118", "id": 963914873, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NDUwOTU3", "number": 118, "title": "Add `RequireAuthorizationAsync`", "user": {"login": "ranile", "id": 47357913, "node_id": "MDQ6VXNlcjQ3MzU3OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/47357913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ranile", "html_url": "https://github.com/ranile", "followers_url": "https://api.github.com/users/ranile/followers", "following_url": "https://api.github.com/users/ranile/following{/other_user}", "gists_url": "https://api.github.com/users/ranile/gists{/gist_id}", "starred_url": "https://api.github.com/users/ranile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ranile/subscriptions", "organizations_url": "https://api.github.com/users/ranile/orgs", "repos_url": "https://api.github.com/users/ranile/repos", "events_url": "https://api.github.com/users/ranile/events{/privacy}", "received_events_url": "https://api.github.com/users/ranile/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-09T11:50:16Z", "updated_at": "2021-09-18T17:05:51Z", "closed_at": "2021-09-18T17:05:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/118", "html_url": "https://github.com/tower-rs/tower-http/pull/118", "diff_url": "https://github.com/tower-rs/tower-http/pull/118.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/118.patch", "merged_at": "2021-09-18T17:05:44Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/116\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n> In it's current state, it is impossible to make async (database) calls in AuthorizeRequest::authorize. Such calls are are very important in a real-world application where user data is stored in a database.\r\n\r\nFrom #116\r\n\r\n## Solution\r\n\r\nAdd a new struct `RequireAuthorizationAsync` which uses `AuthorizeRequestAsync`. `AuthorizeRequestAsync` allows the user to return a `Future`. \r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/117", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/117/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/117/events", "html_url": "https://github.com/tower-rs/tower-http/pull/117", "id": 963886842, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NDI2NDY0", "number": 117, "title": "compression: Remove `ResBody::Error: Into<BoxError>` bounds", "user": {"login": "tesaguri", "id": 16436551, "node_id": "MDQ6VXNlcjE2NDM2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/16436551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesaguri", "html_url": "https://github.com/tesaguri", "followers_url": "https://api.github.com/users/tesaguri/followers", "following_url": "https://api.github.com/users/tesaguri/following{/other_user}", "gists_url": "https://api.github.com/users/tesaguri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesaguri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesaguri/subscriptions", "organizations_url": "https://api.github.com/users/tesaguri/orgs", "repos_url": "https://api.github.com/users/tesaguri/repos", "events_url": "https://api.github.com/users/tesaguri/events{/privacy}", "received_events_url": "https://api.github.com/users/tesaguri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734125608, "node_id": "MDU6TGFiZWwyNzM0MTI1NjA4", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-09T11:10:42Z", "updated_at": "2021-09-01T10:21:14Z", "closed_at": "2021-08-30T19:49:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/117", "html_url": "https://github.com/tower-rs/tower-http/pull/117", "diff_url": "https://github.com/tower-rs/tower-http/pull/117.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/117.patch", "merged_at": "2021-08-30T19:49:11Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nThe `Into<BoxError>` trait bounds on the {de,}compression middlewares are unnecessarily strong requirements since the middlewares return the errors as-is without boxing.\r\n\r\n## Solution\r\n\r\nRemove the trait bounds.\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/112", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/112/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/112/events", "html_url": "https://github.com/tower-rs/tower-http/pull/112", "id": 946397436, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxNTc3NDgy", "number": 112, "title": "Add `Cors` for setting CORS headers", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3", "html_url": "https://github.com/tower-rs/tower-http/milestone/3", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/3/labels", "id": 7337635, "node_id": "MI_kwDOBxBwNc4Ab_aj", "number": 3, "title": "0.1.2", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-11-08T13:41:07Z", "updated_at": "2021-11-13T20:27:50Z", "due_on": null, "closed_at": "2021-11-13T20:27:50Z"}, "comments": 14, "created_at": "2021-07-16T15:32:21Z", "updated_at": "2021-11-13T19:36:17Z", "closed_at": "2021-11-13T19:36:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/112", "html_url": "https://github.com/tower-rs/tower-http/pull/112", "diff_url": "https://github.com/tower-rs/tower-http/pull/112.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/112.patch", "merged_at": "2021-11-13T19:36:16Z"}, "body": "Example usage:\r\n\r\n```rust\r\nuse http::{Request, Response, Method, header};\r\nuse hyper::Body;\r\nuse tower::{ServiceBuilder, ServiceExt, Service};\r\nuse tower_http::cors::{CorsLayer, Any};\r\nuse std::convert::Infallible;\r\n\r\nasync fn handle(request: Request<Body>) -> Result<Response<Body>, Infallible> {\r\n    Ok(Response::new(Body::empty()))\r\n}\r\n\r\nlet cors = CorsLayer::new()\r\n    .allow_methods(vec![Method::GET, Method::POST, Method::OPTIONS])\r\n    .allow_origin(Any)\r\n    .allow_credentials(false);\r\n\r\nlet mut service = ServiceBuilder::new()\r\n    .layer(cors)\r\n    .service_fn(handle);\r\n\r\nlet request = Request::builder()\r\n    .header(header::ORIGIN, \"https://example.com\")\r\n    .body(Body::empty())\r\n    .unwrap();\r\n\r\nlet response = service\r\n    .ready()\r\n    .await?\r\n    .call(request)\r\n    .await?;\r\n\r\nassert_eq!(\r\n    response.headers().get(header::ACCESS_CONTROL_ALLOW_ORIGIN).unwrap(),\r\n    \"*\",\r\n);\r\n```\r\n\r\nImplementation is based on [`CorsMiddleware`](https://docs.rs/tide/0.16.0/tide/security/struct.CorsMiddleware.html#method.allow_credentials) from tide.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/112/reactions", "total_count": 20, "+1": 12, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 6, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/111", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/111/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/111/events", "html_url": "https://github.com/tower-rs/tower-http/pull/111", "id": 935717547, "node_id": "MDExOlB1bGxSZXF1ZXN0NjgyNTgzOTYw", "number": 111, "title": "Release 0.1.1", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734115990, "node_id": "MDU6TGFiZWwyNzM0MTE1OTkw", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Topic: releases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-02T12:18:19Z", "updated_at": "2021-07-02T12:38:30Z", "closed_at": "2021-07-02T12:38:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/111", "html_url": "https://github.com/tower-rs/tower-http/pull/111", "diff_url": "https://github.com/tower-rs/tower-http/pull/111.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/111.patch", "merged_at": "2021-07-02T12:38:28Z"}, "body": "# 0.1.1 (July 2, 2021)\r\n\r\n- Add example of using `SharedClassifier`.\r\n- Add `StatusInRangeAsFailures` which is a response classifier that considers\r\n  responses with status code in a certain range as failures. Useful for HTTP\r\n  clients where both server errors (5xx) and client errors (4xx) are considered\r\n  failures.\r\n- Implement `Debug` for `NeverClassifyEos`.\r\n- Update iri-string to 0.4.\r\n- Add `ClassifyResponse::map_failure_class` and `ClassifyEos::map_failure_class`\r\n  for transforming the failure classification using a function.\r\n- Clarify exactly when each `Trace` callback is called.\r\n- Add `AddAuthorizationLayer` for setting the `Authorization` header on\r\n  requests.\r\n\r\n## Breaking changes\r\n\r\nNone.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/111/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/110", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/110/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/110/events", "html_url": "https://github.com/tower-rs/tower-http/pull/110", "id": 925185350, "node_id": "MDExOlB1bGxSZXF1ZXN0NjczNzEzMjAw", "number": 110, "title": "Update iri-string", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-18T20:29:08Z", "updated_at": "2021-06-19T14:47:49Z", "closed_at": "2021-06-19T14:47:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/110", "html_url": "https://github.com/tower-rs/tower-http/pull/110", "diff_url": "https://github.com/tower-rs/tower-http/pull/110.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/110.patch", "merged_at": "2021-06-19T14:47:47Z"}, "body": "Updates iri-string to the latest version. Among other things brings in the newest version of nom.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/106", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/106/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/106/events", "html_url": "https://github.com/tower-rs/tower-http/pull/106", "id": 911462304, "node_id": "MDExOlB1bGxSZXF1ZXN0NjYxNzM1NjI3", "number": 106, "title": "Add `ServiceBuilderExt`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734123947, "node_id": "MDU6TGFiZWwyNzM0MTIzOTQ3", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-util", "name": "A-new-util", "color": "f7e101", "default": false, "description": "Area: new utility proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2", "html_url": "https://github.com/tower-rs/tower-http/milestone/2", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/2/labels", "id": 6825913, "node_id": "MDk6TWlsZXN0b25lNjgyNTkxMw==", "number": 2, "title": "0.2.0", "description": "Next batch of breaking changes.", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2021-06-04T19:05:12Z", "updated_at": "2021-12-01T14:11:52Z", "due_on": null, "closed_at": "2021-12-01T14:11:52Z"}, "comments": 1, "created_at": "2021-06-04T12:37:45Z", "updated_at": "2021-11-18T20:10:15Z", "closed_at": "2021-11-18T20:01:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/106", "html_url": "https://github.com/tower-rs/tower-http/pull/106", "diff_url": "https://github.com/tower-rs/tower-http/pull/106.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/106.patch", "merged_at": "2021-11-18T20:01:02Z"}, "body": "Adds `ServiceBuilderExt` which adds methods to `tower::ServiceBuilder`\r\nfor adding middleware from tower-http. Figured this might be a nice\r\nconvenience to have.\r\n\r\nNot all middleware are available since they require some specific\r\nconfiguration. For those I think adding the layer explicitly is better.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/105", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/105/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/105/events", "html_url": "https://github.com/tower-rs/tower-http/pull/105", "id": 909108744, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU5NzMwMzc3", "number": 105, "title": "Fix documentation for `DefaultOnFailure::level`", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-02T05:07:02Z", "updated_at": "2021-06-04T11:04:53Z", "closed_at": "2021-06-04T10:15:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/105", "html_url": "https://github.com/tower-rs/tower-http/pull/105", "diff_url": "https://github.com/tower-rs/tower-http/pull/105.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/105.patch", "merged_at": "2021-06-04T10:15:33Z"}, "body": "## Motivation\r\n\r\nhttps://github.com/tower-rs/tower-http/blob/27db4f2b3a4fb936986189f7311ff14cf7ff5f63/tower-http/src/trace/on_failure.rs#L47-L54\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/104", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/104/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/104/events", "html_url": "https://github.com/tower-rs/tower-http/pull/104", "id": 909050075, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU5Njc4MTU5", "number": 104, "title": "Fix documentation for `ServerErrorsFailureClass`", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-02T03:32:39Z", "updated_at": "2021-06-04T11:04:42Z", "closed_at": "2021-06-04T09:40:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/104", "html_url": "https://github.com/tower-rs/tower-http/pull/104", "diff_url": "https://github.com/tower-rs/tower-http/pull/104.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/104.patch", "merged_at": "2021-06-04T09:40:55Z"}, "body": "## Motivation\r\n\r\nFix\r\n\r\n![image](https://user-images.githubusercontent.com/639336/120419962-4178cf80-c318-11eb-8661-0b9d53fda37a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/104/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/103", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/103/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/103/events", "html_url": "https://github.com/tower-rs/tower-http/pull/103", "id": 906482090, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3NDc2MjY2", "number": 103, "title": "Clarify exactly when each `Trace` callback is called", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-29T14:16:53Z", "updated_at": "2021-06-19T14:34:11Z", "closed_at": "2021-06-19T14:34:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/103", "html_url": "https://github.com/tower-rs/tower-http/pull/103", "diff_url": "https://github.com/tower-rs/tower-http/pull/103.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/103.patch", "merged_at": "2021-06-19T14:34:08Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/102", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/102/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/102/events", "html_url": "https://github.com/tower-rs/tower-http/pull/102", "id": 906472809, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3NDY5MTkz", "number": 102, "title": "Add example of using `SharedClassifier`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-29T13:31:24Z", "updated_at": "2021-06-22T19:01:04Z", "closed_at": "2021-06-22T19:00:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/102", "html_url": "https://github.com/tower-rs/tower-http/pull/102", "diff_url": "https://github.com/tower-rs/tower-http/pull/102.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/102.patch", "merged_at": "2021-06-22T19:00:58Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/75", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/101", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/101/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/101/events", "html_url": "https://github.com/tower-rs/tower-http/pull/101", "id": 906470134, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3NDY3MTYw", "number": 101, "title": "Add `StatusInRangeAsFailures` response classifier", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734123947, "node_id": "MDU6TGFiZWwyNzM0MTIzOTQ3", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-util", "name": "A-new-util", "color": "f7e101", "default": false, "description": "Area: new utility proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-29T13:18:25Z", "updated_at": "2021-06-22T18:52:45Z", "closed_at": "2021-06-22T18:52:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/101", "html_url": "https://github.com/tower-rs/tower-http/pull/101", "diff_url": "https://github.com/tower-rs/tower-http/pull/101.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/101.patch", "merged_at": "2021-06-22T18:52:41Z"}, "body": "`StatusInRangeAsFailures` is a response classifier that considers\r\nresponses with status code in a certain range as failures.\r\n\r\nThis is useful for HTTP clients where both server errors (5xx) and\r\nclient errors (4xx) are considered failures.\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/73", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/101/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/100", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/100/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/100/events", "html_url": "https://github.com/tower-rs/tower-http/pull/100", "id": 906444058, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3NDQ3MTQz", "number": 100, "title": "Add `{ClassifyResponse, ClassifyEos}::map_failure_class`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734123947, "node_id": "MDU6TGFiZWwyNzM0MTIzOTQ3", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-util", "name": "A-new-util", "color": "f7e101", "default": false, "description": "Area: new utility proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-29T11:02:14Z", "updated_at": "2021-06-19T14:46:59Z", "closed_at": "2021-06-19T14:46:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/100", "html_url": "https://github.com/tower-rs/tower-http/pull/100", "diff_url": "https://github.com/tower-rs/tower-http/pull/100.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/100.patch", "merged_at": "2021-06-19T14:46:57Z"}, "body": "I have found this combinator to be useful. It allows mapping the failure class of a classifier using a function.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/100/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/99", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/99/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/99/events", "html_url": "https://github.com/tower-rs/tower-http/pull/99", "id": 905938357, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU2OTgxNjI1", "number": 99, "title": "Remove one crate keyword so we can release", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-28T19:30:49Z", "updated_at": "2021-05-28T19:32:43Z", "closed_at": "2021-05-28T19:32:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/99", "html_url": "https://github.com/tower-rs/tower-http/pull/99", "diff_url": "https://github.com/tower-rs/tower-http/pull/99.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/99.patch", "merged_at": "2021-05-28T19:32:40Z"}, "body": "Apparently crates.io allows at most 5 keywords. This removes\r\n\"non-blocking\".", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/99/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/99/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/98", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/98/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/98/events", "html_url": "https://github.com/tower-rs/tower-http/pull/98", "id": 905926783, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU2OTcwODU0", "number": 98, "title": "Fix releasing 0.1.0", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-28T19:21:15Z", "updated_at": "2021-05-28T19:26:44Z", "closed_at": "2021-05-28T19:26:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/98", "html_url": "https://github.com/tower-rs/tower-http/pull/98", "diff_url": "https://github.com/tower-rs/tower-http/pull/98.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/98.patch", "merged_at": "2021-05-28T19:26:41Z"}, "body": "Forgot this, otherwise `cargo publish` complains.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/98/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/98/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/97", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/97/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/97/events", "html_url": "https://github.com/tower-rs/tower-http/pull/97", "id": 904174667, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU1MzQ0Mzc4", "number": 97, "title": "Release 0.1.0", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734115990, "node_id": "MDU6TGFiZWwyNzM0MTE1OTkw", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Topic: releases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-27T20:47:49Z", "updated_at": "2021-05-28T19:17:01Z", "closed_at": "2021-05-28T19:16:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/97", "html_url": "https://github.com/tower-rs/tower-http/pull/97", "diff_url": "https://github.com/tower-rs/tower-http/pull/97.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/97.patch", "merged_at": "2021-05-28T19:16:52Z"}, "body": "All other prep is already done \ud83d\ude80", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/97/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/97/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/95", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/95/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/95/events", "html_url": "https://github.com/tower-rs/tower-http/pull/95", "id": 898013198, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ5OTM4MjU0", "number": 95, "title": "Add `AddAuthorization` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-21T12:49:28Z", "updated_at": "2021-06-23T06:48:50Z", "closed_at": "2021-06-23T06:48:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/95", "html_url": "https://github.com/tower-rs/tower-http/pull/95", "diff_url": "https://github.com/tower-rs/tower-http/pull/95.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/95.patch", "merged_at": "2021-06-23T06:48:48Z"}, "body": "This is the client counterpart to `RequireAuthorization`. It sets the\r\n`Authorization` with basic or bearer token auth. Its meant to be\r\nstraight forward to use and if someone has a more complex use case\r\nthey can use `SetRequestHeader` instead which is more flexible.\r\n\r\nTODO:\r\n- [x] Update changelog", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/95/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/94", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/94/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/94/events", "html_url": "https://github.com/tower-rs/tower-http/pull/94", "id": 893654273, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ2MTMzNzI0", "number": 94, "title": "Tonic example - avoid backing up in broadcast channel", "user": {"login": "markdingram", "id": 249217, "node_id": "MDQ6VXNlcjI0OTIxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/249217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markdingram", "html_url": "https://github.com/markdingram", "followers_url": "https://api.github.com/users/markdingram/followers", "following_url": "https://api.github.com/users/markdingram/following{/other_user}", "gists_url": "https://api.github.com/users/markdingram/gists{/gist_id}", "starred_url": "https://api.github.com/users/markdingram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markdingram/subscriptions", "organizations_url": "https://api.github.com/users/markdingram/orgs", "repos_url": "https://api.github.com/users/markdingram/repos", "events_url": "https://api.github.com/users/markdingram/events{/privacy}", "received_events_url": "https://api.github.com/users/markdingram/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-17T19:45:27Z", "updated_at": "2021-05-19T15:02:41Z", "closed_at": "2021-05-19T15:02:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/94", "html_url": "https://github.com/tower-rs/tower-http/pull/94", "diff_url": "https://github.com/tower-rs/tower-http/pull/94.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/94.patch", "merged_at": "2021-05-19T15:02:40Z"}, "body": "Hi! Looking forward to using this crate.\r\n\r\nThis PR drops the initial broadcast receiver in the tonic example to stop its unreceived messages backing up (to buffer size) in the channel. \r\n \r\n", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/94/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/94/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/93", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/93/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/93/events", "html_url": "https://github.com/tower-rs/tower-http/pull/93", "id": 892062108, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ0ODMwNzg3", "number": 93, "title": "Pass the current span to all `Trace` callbacks", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734096719, "node_id": "MDU6TGFiZWwyNzM0MDk2NzE5", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or a proposed on in an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 4, "created_at": "2021-05-14T16:21:31Z", "updated_at": "2021-05-20T09:36:01Z", "closed_at": "2021-05-20T09:35:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/93", "html_url": "https://github.com/tower-rs/tower-http/pull/93", "diff_url": "https://github.com/tower-rs/tower-http/pull/93.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/93.patch", "merged_at": "2021-05-20T09:35:58Z"}, "body": "Allows users to record field values that can't be known when the span is created.\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/92", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/93/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/90", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/90/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/90/events", "html_url": "https://github.com/tower-rs/tower-http/pull/90", "id": 888637756, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQxODEzODgz", "number": 90, "title": "Properly classify errors for built-in classifiers", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-05-11T21:00:47Z", "updated_at": "2021-05-27T19:42:42Z", "closed_at": "2021-05-27T19:42:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/90", "html_url": "https://github.com/tower-rs/tower-http/pull/90", "diff_url": "https://github.com/tower-rs/tower-http/pull/90.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/90.patch", "merged_at": "2021-05-27T19:42:39Z"}, "body": "This supersedes #84 which didn't work and was way too complicated.\r\n\r\nThe problem that this addresses is that previously `<ServerErrorsAsFailures as ClassifyResponse>::classify_error` would return `StatusCode::INTERNAL_SERVER_ERROR`. Instead the error is now formatted using `fmt::Display` so as little info is lost as possible.\r\n\r\nAs this is a breaking change its something we have to merge before shipping 0.1.\r\n\r\n## Why did it return `StatusCode::INTERNAL_SERVER_ERROR` in the first place?\r\n\r\nOn `master` the `ClassifyResponse` trait is defined as:\r\n\r\n```rust\r\npub trait ClassifyResponse<E> {\r\n    type FailureClass;\r\n    type ClassifyEos: ClassifyEos<E, FailureClass = Self::FailureClass>;\r\n\r\n    fn classify_response<B>(\r\n        self,\r\n        res: &Response<B>,\r\n    ) -> ClassifiedResponse<Self::FailureClass, Self::ClassifyEos>;\r\n\r\n    fn classify_error(self, error: &E) -> Self::FailureClass;\r\n}\r\n```\r\n\r\nSince `E` was a generic type, `ServerErrorsAsFailures` couldn't do anything with the `error: &E` it got in `classify_error`. It has to either add more trait bounds to `E` or return some kind of sentinel value.\r\n\r\nAdding bounds doesn't work because Tonic doesn't use the same error type across its `Service` and `Body` implementations. So `E` would be bound to `Service::Error` is and then type error when it got to `Body::Error`. There were no issues with the warp example which I assume is because [it uses `Infallible` as the error type](https://github.com/seanmonstar/warp/blob/b6d1fc0719604ef1010aec00544408e6af1289a5/src/filter/service.rs#L93) which got coerced to `hyper::Error` in the `Body`, I suppose \ud83e\udd37 \r\n\r\nHaving `E` bound on the trait also meant that anything that contained a `ClassifyResponse` would have to be generic over `E` as well. That lead to a lot boilerplate in the tracing middleware.\r\n\r\nSo therefore `ServerErrorsAsFailures` wouldn't put any bounds on `E` and instead return a sentinel value.\r\n\r\n## The fix\r\n\r\nThis changes the `ClassifyResponse` to instead bind `E` on the `classify_error` method with a `fmt::Display + 'static` bound. So the definition is now:\r\n\r\n```rust\r\npub trait ClassifyResponse {\r\n    type FailureClass;\r\n    type ClassifyEos: ClassifyEos<FailureClass = Self::FailureClass>;\r\n\r\n    fn classify_response<B>(\r\n        self,\r\n        res: &Response<B>,\r\n    ) -> ClassifiedResponse<Self::FailureClass, Self::ClassifyEos>;\r\n\r\n    fn classify_error<E>(self, error: &E) -> Self::FailureClass\r\n    where\r\n        E: fmt::Display + 'static;\r\n}\r\n```\r\n\r\nWe cannot use `E: std::fmt::Error` since `Box<dyn Error>` doesn't implement `Error` so `fmt::Display` is the second best option. `Box<dyn Error>` does implement `fmt::Display`. It does mean we loose the ability to format the full error chain but I don't see a way to resolve that.\r\n\r\n`'static` is added such that `E` implicitly will implement `Any` to allow for downcasting. That can be done with `(error as &dyn Any).downcast_ref::<SomeOtherError>()`.\r\n\r\nThe failure class of `ServerErrorsAsFailures` now becomes either a status code or an `fmt::Display` formatted error:\r\n\r\n```rust\r\n/// Result of doing a classification.\r\n#[derive(Debug)]\r\npub enum ClassifiedResponse<FailureClass, ClassifyEos> {\r\n    /// The response was able to be classified immediately.\r\n    Ready(Result<(), FailureClass>),\r\n    /// We have to wait until the end of a streaming response to classify it.\r\n    RequiresEos(ClassifyEos),\r\n}\r\n```\r\n\r\n`GrpcErrorsAsFailures` was changed in a very similar way.\r\n\r\n## Additional wins\r\n\r\nSince `ClassifyResponse` is no longer generic over the error type `Trace` could remove that from its list of generic type params. That meant we could derive `Clone` and `Debug` impls which is much cleaner.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/90/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/90/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/89", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/89/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/89/events", "html_url": "https://github.com/tower-rs/tower-http/pull/89", "id": 887017774, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQwMjcyMjQ0", "number": 89, "title": "Override `http_body::Body` methods for `TraceBody`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-11T11:48:44Z", "updated_at": "2021-05-26T19:30:46Z", "closed_at": "2021-05-26T19:30:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/89", "html_url": "https://github.com/tower-rs/tower-http/pull/89", "diff_url": "https://github.com/tower-rs/tower-http/pull/89.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/89.patch", "merged_at": "2021-05-26T19:30:43Z"}, "body": "Forgot to override these. Is safe since `TraceBody` doesn't change the body chunks.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/89/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/88", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/88/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/88/events", "html_url": "https://github.com/tower-rs/tower-http/pull/88", "id": 880740761, "node_id": "MDExOlB1bGxSZXF1ZXN0NjM0Mzc3MDE0", "number": 88, "title": "Prep for initial 0.1.0 release", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-05-08T12:10:48Z", "updated_at": "2021-05-08T14:15:08Z", "closed_at": "2021-05-08T14:15:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/88", "html_url": "https://github.com/tower-rs/tower-http/pull/88", "diff_url": "https://github.com/tower-rs/tower-http/pull/88.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/88.patch", "merged_at": "2021-05-08T14:15:02Z"}, "body": "- Add changelog\r\n- Add contributing guidelines. Adapted from tonic's\r\n- Add issue/pr templates\r\n- Misc readme improvements\r\n- Include `Trace` in root module example", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/88/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/88/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/87", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/87/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/87/events", "html_url": "https://github.com/tower-rs/tower-http/pull/87", "id": 876242894, "node_id": "MDExOlB1bGxSZXF1ZXN0NjMwNDI4Mzk5", "number": 87, "title": "Fix a few bugs related to `Trace` and streaming responses", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-05-05T09:13:35Z", "updated_at": "2021-05-07T14:42:27Z", "closed_at": "2021-05-07T14:42:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/87", "html_url": "https://github.com/tower-rs/tower-http/pull/87", "diff_url": "https://github.com/tower-rs/tower-http/pull/87.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/87.patch", "merged_at": "2021-05-07T14:42:27Z"}, "body": "This fixes a few bugs I discovered while working on https://github.com/tower-rs/tower-http/pull/84. They're all related to the `Trace` middleware and streaming responses:\r\n\r\n1. The \"end of stream\" callback would never be called. This was because `Body::poll_data` called `Option::take` to take ownership of the callback type when it wasn't actually necessary. That mean when `Body::poll_trailers` was called the callbacks would be `None`s and couldn't be called.\r\n2. The \"on response\" callback assumed that a response with `content-type: application/grpc` and _no_ `grpc-status` header was a success. That is wrong. If `grpc-status` is missing its a streaming response and the status comes in a trailer. Fix was to no include the status in the event that was emitted. Required quite a big `match` since building tracing events dynamically is hard (or perhaps not even possible).\r\n\r\nI also refactored to code for getting a `grpc-status` from a `HeaderMap` to be a bit more specific in its output type.\r\n\r\nIn the future I really want to add tests for `Trace` as there are quite a few parts to it.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/87/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/87/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/86", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/86/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/86/events", "html_url": "https://github.com/tower-rs/tower-http/pull/86", "id": 875273460, "node_id": "MDExOlB1bGxSZXF1ZXN0NjI5NjQ5MzQy", "number": 86, "title": "Add `InFlightRequests` - The first metrics middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-04T09:22:28Z", "updated_at": "2021-05-21T09:51:08Z", "closed_at": "2021-05-21T09:51:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/86", "html_url": "https://github.com/tower-rs/tower-http/pull/86", "diff_url": "https://github.com/tower-rs/tower-http/pull/86.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/86.patch", "merged_at": "2021-05-21T09:51:05Z"}, "body": "Part of https://github.com/tower-rs/tower-http/issues/57\r\n\r\nI think the two killer features of tower-http is going to be easy setup of tracing/logging and metrics. Those are non-trivial pieces of functionality that pretty much everyone needs. Now that the [tracing middleware is in](https://github.com/tower-rs/tower-http/pull/77) I would like to start thinking about metrics.\r\n\r\nMy initial goal is to cover these metrics:\r\n\r\n- Traffic, requests per second/minute\r\n- Number of in flight requests\r\n- Error rate\r\n- Throughput, bytes per second/minute\r\n\r\nEach of those will be a separate middleware, starting with in-flight requests as I think its the simplest.\r\n\r\nThe module structure I'm thinking is:\r\n\r\n- `tower_http::metrics` all middlewares related to metrics are here\r\n- The `metrics` module exposes the most important pieces, so `tower_http::metrics::{InFlightRequests, InFlightRequestsLayer}` and so on when we have more middlewares\r\n- Response futures, bodies and other lower level types are in `tower_http::metrics::in_flight_requests`.\r\n\r\nThis is similar to how `std::collections` do it.\r\n\r\nExample usage of `InFlightRequests`:\r\n\r\n```rust\r\nuse tower::{Service, ServiceExt, ServiceBuilder};\r\nuse tower_http::metrics::InFlightRequestsLayer;\r\nuse http::{Request, Response};\r\nuse hyper::Body;\r\nuse std::{time::Duration, convert::Infallible};\r\n\r\nasync fn handle(req: Request<Body>) -> Result<Response<Body>, Infallible> {\r\n    // ...\r\n}\r\n\r\nasync fn update_in_flight_requests_metric(count: usize) {\r\n    // ...\r\n}\r\n\r\n// Create a `Layer` with an associated counter.\r\nlet (in_flight_requests_layer, counter) = InFlightRequestsLayer::pair();\r\n\r\n// Spawn a task that will receive the number of in-flight requests every 10 seconds.\r\ntokio::spawn(\r\n    counter.run_emitter(Duration::from_secs(10), |count| async move {\r\n        update_in_flight_requests_metric(count).await;\r\n    }),\r\n);\r\n\r\nlet mut service = ServiceBuilder::new()\r\n    // Keep track of the number of in-flight requests. This will increment and decrement\r\n    // `counter` automatically.\r\n    .layer(in_flight_requests_layer)\r\n    .service_fn(handle);\r\n\r\n// Call the service.\r\nlet response = service\r\n    .ready()\r\n    .await?\r\n    .call(Request::new(Body::empty()))\r\n    .await?;\r\n```\r\n\r\nI'm also considering making a `tower-http-metrics` crate that provides integration between `tower-http` and the excellent [`metrics`](https://crates.io/crates/metrics) which we use at Embark.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/86/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/86/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/85", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/85/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/85/events", "html_url": "https://github.com/tower-rs/tower-http/pull/85", "id": 852480651, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEwNzI1NzIw", "number": 85, "title": "More easily mark multiple headers as sensitive", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734096719, "node_id": "MDU6TGFiZWwyNzM0MDk2NzE5", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or a proposed on in an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 1, "created_at": "2021-04-07T14:38:42Z", "updated_at": "2021-05-27T20:42:51Z", "closed_at": "2021-05-27T20:42:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/85", "html_url": "https://github.com/tower-rs/tower-http/pull/85", "diff_url": "https://github.com/tower-rs/tower-http/pull/85.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/85.patch", "merged_at": "2021-05-27T20:42:48Z"}, "body": "Today I had to mark a list of headers as sensitive. That was quite tedious and required applying the middleware multiple times with different headers. I think this case is quite common so I think it makes more sense to construct these middlewares with an `IntoIterator<Item = HeaderName>`.\r\n\r\nUsers who just want to mark one header can use `std::iter::once(header)`.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/85/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/85/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/83", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/83/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/83/events", "html_url": "https://github.com/tower-rs/tower-http/pull/83", "id": 849177965, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA3OTk1OTE1", "number": 83, "title": "Misc documentation improvements", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-04-02T12:00:34Z", "updated_at": "2021-05-02T16:22:14Z", "closed_at": "2021-05-02T16:22:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/83", "html_url": "https://github.com/tower-rs/tower-http/pull/83", "diff_url": "https://github.com/tower-rs/tower-http/pull/83.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/83.patch", "merged_at": "2021-05-02T16:22:14Z"}, "body": "- Fix some typos\r\n- Make examples a bit more consistent\r\n- Add client example to readme", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/83/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/83/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/82", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/82/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/82/events", "html_url": "https://github.com/tower-rs/tower-http/pull/82", "id": 837179838, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NTYwNTM5", "number": 82, "title": "Disable compression for gRPC and add tonic streaming example", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-03-21T20:49:07Z", "updated_at": "2021-04-27T18:49:00Z", "closed_at": "2021-04-27T18:48:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/82", "html_url": "https://github.com/tower-rs/tower-http/pull/82", "diff_url": "https://github.com/tower-rs/tower-http/pull/82.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/82.patch", "merged_at": "2021-04-27T18:48:56Z"}, "body": "This adds a server streaming example to the tonic example. Adding that made me aware of https://github.com/tower-rs/tower-http/issues/81.\r\n\r\nAfter much debugging I most admit I don't fully understand why compression breaks gRPC streams. My best idea is that async-compression changes the body chunks in ways that are incompatible with gRPC. This is also hinted at in the [gRPC core document on compression](https://grpc.github.io/grpc/core/md_doc_compression.html) where it says:\r\n\r\n> The compression supported by gRPC acts at the individual message level\r\n\r\nIf you don't compress the whole body stream but instead compress (and decompress) each individual chunk yielded by `poll_data` then everything works.\r\n\r\nThe solution I have implemented is to simply detect gRPC responses and don't compress them, even if the client claims to accept compression. As compression part of the gRPC protocol that is probably a better place to implement it.\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/81", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/82/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/79", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/79/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/79/events", "html_url": "https://github.com/tower-rs/tower-http/pull/79", "id": 834765561, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk1NTI1MzQ3", "number": 79, "title": "Add `FollowRedirect` middleware", "user": {"login": "tesaguri", "id": 16436551, "node_id": "MDQ6VXNlcjE2NDM2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/16436551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesaguri", "html_url": "https://github.com/tesaguri", "followers_url": "https://api.github.com/users/tesaguri/followers", "following_url": "https://api.github.com/users/tesaguri/following{/other_user}", "gists_url": "https://api.github.com/users/tesaguri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesaguri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesaguri/subscriptions", "organizations_url": "https://api.github.com/users/tesaguri/orgs", "repos_url": "https://api.github.com/users/tesaguri/repos", "events_url": "https://api.github.com/users/tesaguri/events{/privacy}", "received_events_url": "https://api.github.com/users/tesaguri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-18T12:45:49Z", "updated_at": "2021-04-04T03:45:07Z", "closed_at": "2021-04-03T16:48:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/79", "html_url": "https://github.com/tower-rs/tower-http/pull/79", "diff_url": "https://github.com/tower-rs/tower-http/pull/79.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/79.patch", "merged_at": "2021-04-03T16:48:30Z"}, "body": "This is a middleware that retries requests to follow HTTP redirections.\r\n\r\nThis includes `Policy` trait to customize behavior of the middleware, which is heavily inspired by [`reqwest::redirect::Policy`].\r\n\r\n`Policy` also has an optional method `clone_body` that tries to clone a request body, like [`tower::retry::Policy::clone_request`]. But even if the body cannot be cloned, `FollowRedirect` uses `<ReqBody as Default>::default` when `<ReqBody as http_body::Body>::size_hint` returns zero, so that it can handle common `GET` requests without `clone_body`.\r\n\r\nThe API proposed here is a proof of concept to some extent, and it is fine if this is not fully merged at once (~2fe3fea1e3c2829cbf0474cb2b36194fd289f287...22212ba78c1f6585289abaeaa54b3bbaf43c01bd~ ~3f8deda5638a2e28c2570855e8d1d3db0d65fcb5...22212ba78c1f6585289abaeaa54b3bbaf43c01bd~ 3f8deda5638a2e28c2570855e8d1d3db0d65fcb5...0e6a949f3793c8cfd5ba5b4dafb7dbec508ee3dc is optional in particular).\r\n\r\nFixes #78.\r\n\r\n[`reqwest::redirect::Policy`]: https://docs.rs/reqwest/0.11.2/reqwest/redirect/struct.Policy.html\r\n[`tower::retry::Policy::clone_request`]: https://docs.rs/tower/0.4.6/tower/retry/trait.Policy.html#method.clone_request", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/77", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/77/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/77/events", "html_url": "https://github.com/tower-rs/tower-http/pull/77", "id": 827768119, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg5NjQ1ODM4", "number": 77, "title": "`Trace` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-10T13:48:53Z", "updated_at": "2021-04-23T20:38:14Z", "closed_at": "2021-04-23T20:38:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/77", "html_url": "https://github.com/tower-rs/tower-http/pull/77", "diff_url": "https://github.com/tower-rs/tower-http/pull/77.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/77.patch", "merged_at": "2021-04-23T20:38:10Z"}, "body": "This adds a quite comprehensive `Trace` middleware. We have used it for some time at Embark for both servers and clients and its been working well.\r\n\r\nI've spent put a lot of effort into making it easy to get started with while also providing deep customization.\r\n\r\nI'm sorry for the size of this PR but most of it is plumbing like builder methods. The actual service/future/body implementation isn't that big.\r\n\r\nBasic usage:\r\n\r\n```rust\r\nlet service = ServiceBuilder::new()\r\n    .layer(TraceLayer::new_for_http())\r\n    .service_fn(handle);\r\n```\r\n\r\nOutput with default tracing subscriber:\r\n\r\n```\r\nMar 05 20:50:28.523 DEBUG request{method=GET path=\"/foo\"}: tower_http::trace::on_request: started processing request\r\nMar 05 20:50:28.524 DEBUG request{method=GET path=\"/foo\"}: tower_http::trace::on_response: finished processing request latency=1 ms status=200\r\n```\r\n\r\nUsing a gRPC response classifier:\r\n\r\n```rust\r\nlet service = ServiceBuilder::new()\r\n    .layer(TraceLayer::new_for_grpc())\r\n    .service_fn(handle);\r\n```\r\n\r\nCustom classifiers are of course also supported.\r\n\r\nEvery part of the output can be customized:\r\n\r\n```rust\r\nlet service = ServiceBuilder::new()\r\n    .layer(\r\n        TraceLayer::new_for_http()\r\n            .make_span_with(|request: &Request<Body>| {\r\n                tracing::debug_span!(\"http-request\")\r\n            })\r\n            .on_request(|request: &Request<Body>| {\r\n                tracing::debug!(\"started {} {}\", request.method(), request.uri().path())\r\n            })\r\n            .on_response(|response: &Response<Body>, latency: Duration| {\r\n                tracing::debug!(\"response generated in {:?}\", latency)\r\n            })\r\n            .on_body_chunk(|chunk: &Bytes, latency: Duration| {\r\n                tracing::debug!(\"sending {} bytes\", chunk.len())\r\n            })\r\n            .on_eos(|trailers: Option<&HeaderMap>, stream_duration: Duration| {\r\n                tracing::debug!(\"stream closed after {:?}\", stream_duration)\r\n            })\r\n            .on_failure(|error: StatusCode, latency: Duration| {\r\n                tracing::debug!(\"something went wrong\")\r\n            })\r\n    )\r\n    .service_fn(handle);\r\n```\r\n\r\nYou can probably imagine this leads to `Trace` having quite a few generic types \ud83d\ude15\r\n\r\nIf you only want to customize a few things the default behaviours have builder methods:\r\n\r\n```rust\r\nlet service = ServiceBuilder::new()\r\n    .layer(\r\n        TraceLayer::new_for_http()\r\n            .make_span_with(\r\n                DefaultMakeSpan::new().include_headers(true)\r\n            )\r\n            .on_response(\r\n                DefaultOnResponse::new()\r\n                    .level(Level::INFO)\r\n                    .latency_unit(LatencyUnit::Micros)\r\n            )\r\n            // ...\r\n    )\r\n    .service_fn(handle);\r\n```\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/65", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/77/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/77/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/72", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/72/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/72/events", "html_url": "https://github.com/tower-rs/tower-http/pull/72", "id": 817302988, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwODE3NzEx", "number": 72, "title": "Tonic example", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-02-26T12:06:21Z", "updated_at": "2021-03-21T16:43:30Z", "closed_at": "2021-03-21T16:43:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/72", "html_url": "https://github.com/tower-rs/tower-http/pull/72", "diff_url": "https://github.com/tower-rs/tower-http/pull/72.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/72.patch", "merged_at": "2021-03-21T16:43:26Z"}, "body": "Fixes #63 ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/72/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/71", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/71/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/71/events", "html_url": "https://github.com/tower-rs/tower-http/pull/71", "id": 816851687, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwNDQ0MTU4", "number": 71, "title": "Fix import", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-25T22:13:34Z", "updated_at": "2021-02-25T22:23:47Z", "closed_at": "2021-02-25T22:23:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/71", "html_url": "https://github.com/tower-rs/tower-http/pull/71", "diff_url": "https://github.com/tower-rs/tower-http/pull/71.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/71.patch", "merged_at": "2021-02-25T22:23:42Z"}, "body": "Not sure how this got past CI \ud83e\udd14 ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/71/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/70", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/70/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/70/events", "html_url": "https://github.com/tower-rs/tower-http/pull/70", "id": 813914092, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc3OTgyMzUx", "number": 70, "title": "Add `RequireAuthorization` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T22:19:52Z", "updated_at": "2021-05-20T08:14:31Z", "closed_at": "2021-05-20T08:14:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/70", "html_url": "https://github.com/tower-rs/tower-http/pull/70", "diff_url": "https://github.com/tower-rs/tower-http/pull/70.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/70.patch", "merged_at": "2021-05-20T08:14:25Z"}, "body": "Fixes #58 ", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/70/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/70/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/69", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/69/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/69/events", "html_url": "https://github.com/tower-rs/tower-http/pull/69", "id": 811978615, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc2NDIwNjEy", "number": 69, "title": "Warp example", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-02-19T12:20:53Z", "updated_at": "2021-02-25T21:21:30Z", "closed_at": "2021-02-25T21:21:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/69", "html_url": "https://github.com/tower-rs/tower-http/pull/69", "diff_url": "https://github.com/tower-rs/tower-http/pull/69.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/69.patch", "merged_at": "2021-02-25T21:21:25Z"}, "body": "Adds a little key/value store API built with warp and extended with tower + tower-http.\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/62", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/69/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/68", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/68/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/68/events", "html_url": "https://github.com/tower-rs/tower-http/pull/68", "id": 811961622, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc2NDA2NDU5", "number": 68, "title": "Make sure everything has examples", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734114124, "node_id": "MDU6TGFiZWwyNzM0MTE0MTI0", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-02-19T11:54:35Z", "updated_at": "2021-03-28T15:32:50Z", "closed_at": "2021-03-28T15:32:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/68", "html_url": "https://github.com/tower-rs/tower-http/pull/68", "diff_url": "https://github.com/tower-rs/tower-http/pull/68.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/68.patch", "merged_at": "2021-03-28T15:32:47Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/55", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/68/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/67", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/67/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/67/events", "html_url": "https://github.com/tower-rs/tower-http/pull/67", "id": 811876903, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc2MzM1NDky", "number": 67, "title": "Add `SetRequestHeader`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-02-19T09:55:59Z", "updated_at": "2021-02-24T22:52:18Z", "closed_at": "2021-02-24T22:39:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/67", "html_url": "https://github.com/tower-rs/tower-http/pull/67", "diff_url": "https://github.com/tower-rs/tower-http/pull/67.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/67.patch", "merged_at": "2021-02-24T22:39:37Z"}, "body": "Exactly the same as `SetResponseHeader` but modifies the request instead. Useful on clients for example for setting `User-Agent`.\r\n\r\nAs it shares `MakeHeaderValue` and `InsertHeaderMode` with `SetResponseHeader` I moved these two middlewares into a `set_header` module.\r\n\r\nFixes https://github.com/tower-rs/tower-http/issues/66", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/67/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/67/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/64", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/64/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/64/events", "html_url": "https://github.com/tower-rs/tower-http/pull/64", "id": 807189507, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcyNDc5NTYz", "number": 64, "title": "Add `MapRequestBody` and `MapResponseBody`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-12T12:16:43Z", "updated_at": "2021-02-12T20:17:32Z", "closed_at": "2021-02-12T20:17:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/64", "html_url": "https://github.com/tower-rs/tower-http/pull/64", "diff_url": "https://github.com/tower-rs/tower-http/pull/64.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/64.patch", "merged_at": "2021-02-12T20:17:26Z"}, "body": "Fixes https://github.com/tower-rs/tower-http/issues/61", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/64/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/54", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/54/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/54/events", "html_url": "https://github.com/tower-rs/tower-http/pull/54", "id": 807100345, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcyNDA0Njc1", "number": 54, "title": "Add `layer` method to all middlewares", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734096719, "node_id": "MDU6TGFiZWwyNzM0MDk2NzE5", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or a proposed on in an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-02-12T09:59:40Z", "updated_at": "2021-02-12T20:11:40Z", "closed_at": "2021-02-12T20:01:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/54", "html_url": "https://github.com/tower-rs/tower-http/pull/54", "diff_url": "https://github.com/tower-rs/tower-http/pull/54.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/54.patch", "merged_at": "2021-02-12T20:01:21Z"}, "body": "As suggested by @hawkw. A small quality of life thing. Allows users to only import the service and still get access to the layer.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/53", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/53/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/53/events", "html_url": "https://github.com/tower-rs/tower-http/pull/53", "id": 805061778, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNzI4MDcz", "number": 53, "title": "Move \"leaf services\" into their own module", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734125608, "node_id": "MDU6TGFiZWwyNzM0MTI1NjA4", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T01:10:53Z", "updated_at": "2021-02-11T20:32:59Z", "closed_at": "2021-02-11T20:32:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/53", "html_url": "https://github.com/tower-rs/tower-http/pull/53", "diff_url": "https://github.com/tower-rs/tower-http/pull/53.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/53.patch", "merged_at": "2021-02-11T20:32:52Z"}, "body": "As discussed on Discord we think it makes sense to group leaf services together in their own module as to not mix them up with middlewares. We don't think the middlewares belong in their own module since they're likely to be the most interesting part of `tower-http` and so we want them visible in the root module docs.\r\n\r\nSuggested names of this module:\r\n\r\n- `leaf_services` - Technically correct but not a term I expect users to be familiar with.\r\n- `services` - Probably clearer than `leaf_services` but one could be pedantic and argue that middlewares are also services.\r\n\r\nOut of these two I personally prefer `services`.\r\n\r\n@tesaguri @LucioFranco @olix0r @hawkw any opinions on the module name?", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/53/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/52", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/52/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/52/events", "html_url": "https://github.com/tower-rs/tower-http/pull/52", "id": 805057928, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNzI0ODk5", "number": 52, "title": "Fix specification of algorithm featues of `async-compression`", "user": {"login": "tesaguri", "id": 16436551, "node_id": "MDQ6VXNlcjE2NDM2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/16436551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesaguri", "html_url": "https://github.com/tesaguri", "followers_url": "https://api.github.com/users/tesaguri/followers", "following_url": "https://api.github.com/users/tesaguri/following{/other_user}", "gists_url": "https://api.github.com/users/tesaguri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesaguri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesaguri/subscriptions", "organizations_url": "https://api.github.com/users/tesaguri/orgs", "repos_url": "https://api.github.com/users/tesaguri/repos", "events_url": "https://api.github.com/users/tesaguri/events{/privacy}", "received_events_url": "https://api.github.com/users/tesaguri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T01:01:18Z", "updated_at": "2021-02-10T01:12:14Z", "closed_at": "2021-02-10T01:12:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/52", "html_url": "https://github.com/tower-rs/tower-http/pull/52", "diff_url": "https://github.com/tower-rs/tower-http/pull/52.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/52.patch", "merged_at": "2021-02-10T01:12:14Z"}, "body": "The algorithm features are already enabled by `{de,}compression-*` features individually and should not be enabled unconditionally, as doing that spoils the whole point of the feature set.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/52/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/51", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/51/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/51/events", "html_url": "https://github.com/tower-rs/tower-http/pull/51", "id": 805044194, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNzEzNTQ2", "number": 51, "title": "Avoid using `HeaderValue::from_str`", "user": {"login": "tesaguri", "id": 16436551, "node_id": "MDQ6VXNlcjE2NDM2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/16436551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesaguri", "html_url": "https://github.com/tesaguri", "followers_url": "https://api.github.com/users/tesaguri/followers", "following_url": "https://api.github.com/users/tesaguri/following{/other_user}", "gists_url": "https://api.github.com/users/tesaguri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesaguri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesaguri/subscriptions", "organizations_url": "https://api.github.com/users/tesaguri/orgs", "repos_url": "https://api.github.com/users/tesaguri/repos", "events_url": "https://api.github.com/users/tesaguri/events{/privacy}", "received_events_url": "https://api.github.com/users/tesaguri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T00:31:14Z", "updated_at": "2021-02-10T00:58:43Z", "closed_at": "2021-02-10T00:51:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/51", "html_url": "https://github.com/tower-rs/tower-http/pull/51", "diff_url": "https://github.com/tower-rs/tower-http/pull/51.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/51.patch", "merged_at": "2021-02-10T00:51:09Z"}, "body": "This reduces the number of allocations.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/50", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/50/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/50/events", "html_url": "https://github.com/tower-rs/tower-http/pull/50", "id": 805025880, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNjk5Nzcx", "number": 50, "title": "Add `get_ref`, `get_mut`, and `into_inner` to all middlewares", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-09T23:57:42Z", "updated_at": "2021-02-10T00:49:11Z", "closed_at": "2021-02-10T00:49:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/50", "html_url": "https://github.com/tower-rs/tower-http/pull/50", "diff_url": "https://github.com/tower-rs/tower-http/pull/50.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/50.patch", "merged_at": "2021-02-10T00:49:07Z"}, "body": "Defines a little macro for hiding the boilerplate. It currently assumes the inner service type is named `S` but thats easy to fix if necessary.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/49", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/49/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/49/events", "html_url": "https://github.com/tower-rs/tower-http/pull/49", "id": 802748764, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4ODIyMzcx", "number": 49, "title": "Add response classification", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734123947, "node_id": "MDU6TGFiZWwyNzM0MTIzOTQ3", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-util", "name": "A-new-util", "color": "f7e101", "default": false, "description": "Area: new utility proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 6, "created_at": "2021-02-06T17:30:53Z", "updated_at": "2021-03-08T20:00:49Z", "closed_at": "2021-03-08T19:58:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/49", "html_url": "https://github.com/tower-rs/tower-http/pull/49", "diff_url": "https://github.com/tower-rs/tower-http/pull/49.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/49.patch", "merged_at": "2021-03-08T19:58:54Z"}, "body": "The response classification in https://github.com/tower-rs/tower-http/pull/40 didn't work because it didn't properly support gRPC. I have given it some more thought and now have something that does support gRPC. Its inspired by the implementation in [linkerd-proxy](https://github.com/linkerd/linkerd2-proxy/blob/main/linkerd/http-classify/src/lib.rs).\r\n\r\nThis is still a draft since I haven't implemented all of the `Trace` middleware. At this point its just a proof of concept that shows the classification stuff used in a middleware.\r\n\r\n@hawkw Please have a look and let me know what you think. If you think the classification could work then I'll go ahead and implement the remaining pieces of the middleware.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/49/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/47", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/47/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/47/events", "html_url": "https://github.com/tower-rs/tower-http/pull/47", "id": 797687069, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NjM2Njgz", "number": 47, "title": "Remove duplication between compression and decompression", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734125608, "node_id": "MDU6TGFiZWwyNzM0MTI1NjA4", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 0, "created_at": "2021-01-31T11:16:31Z", "updated_at": "2021-03-08T19:16:02Z", "closed_at": "2021-03-08T19:15:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/47", "html_url": "https://github.com/tower-rs/tower-http/pull/47", "diff_url": "https://github.com/tower-rs/tower-http/pull/47.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/47.patch", "merged_at": "2021-03-08T19:15:58Z"}, "body": "While technically this is a net increase in code there are few things that could be upstreamed to http-body which would bring the SLOC down.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/47/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/45", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/45/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/45/events", "html_url": "https://github.com/tower-rs/tower-http/pull/45", "id": 797503875, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NDkwMzk0", "number": 45, "title": "Add `ServeFile` and `ServeDir`", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 1, "created_at": "2021-01-30T18:51:04Z", "updated_at": "2021-04-27T20:16:43Z", "closed_at": "2021-04-27T20:16:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/45", "html_url": "https://github.com/tower-rs/tower-http/pull/45", "diff_url": "https://github.com/tower-rs/tower-http/pull/45.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/45.patch", "merged_at": "2021-04-27T20:16:37Z"}, "body": "Service that serves a file and guesses the mime type with https://crates.io/crates/mime_guess.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/45/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/44", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/44/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/44/events", "html_url": "https://github.com/tower-rs/tower-http/pull/44", "id": 797451767, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NDQ3NDI3", "number": 44, "title": "Add `Redirect` service", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-30T15:57:14Z", "updated_at": "2021-02-09T23:53:13Z", "closed_at": "2021-02-09T23:22:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/44", "html_url": "https://github.com/tower-rs/tower-http/pull/44", "diff_url": "https://github.com/tower-rs/tower-http/pull/44.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/44.patch", "merged_at": "2021-02-09T23:22:08Z"}, "body": "Little utility service that redirects all requests.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/44/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/43", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/43/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/43/events", "html_url": "https://github.com/tower-rs/tower-http/pull/43", "id": 796939752, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0MDMyODQ2", "number": 43, "title": "Add some docs and tests", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-29T14:46:50Z", "updated_at": "2021-02-09T23:38:13Z", "closed_at": "2021-02-09T23:36:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/43", "html_url": "https://github.com/tower-rs/tower-http/pull/43", "diff_url": "https://github.com/tower-rs/tower-http/pull/43.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/43.patch", "merged_at": "2021-02-09T23:36:25Z"}, "body": "- Initial root module docs.\r\n- Docs and tests for `AddExtension`.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/41", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/41/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/41/events", "html_url": "https://github.com/tower-rs/tower-http/pull/41", "id": 794618468, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMTA0OTQy", "number": 41, "title": "Add `Decompression` middleware", "user": {"login": "tesaguri", "id": 16436551, "node_id": "MDQ6VXNlcjE2NDM2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/16436551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesaguri", "html_url": "https://github.com/tesaguri", "followers_url": "https://api.github.com/users/tesaguri/followers", "following_url": "https://api.github.com/users/tesaguri/following{/other_user}", "gists_url": "https://api.github.com/users/tesaguri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesaguri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesaguri/subscriptions", "organizations_url": "https://api.github.com/users/tesaguri/orgs", "repos_url": "https://api.github.com/users/tesaguri/repos", "events_url": "https://api.github.com/users/tesaguri/events{/privacy}", "received_events_url": "https://api.github.com/users/tesaguri/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-26T22:50:59Z", "updated_at": "2021-01-29T15:15:43Z", "closed_at": "2021-01-29T15:15:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/41", "html_url": "https://github.com/tower-rs/tower-http/pull/41", "diff_url": "https://github.com/tower-rs/tower-http/pull/41.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/41.patch", "merged_at": "2021-01-29T15:15:28Z"}, "body": "This is an HTTP client middleware that sets the `Accept-Encoding` header to requests and transparently decompresses the response body based on the `Content-Encoding` header.\r\n\r\nOriginally, I was about to release it as a [library][tower-http-compression], but then I realized that #33 was going to add a compression middleware, so I thought that this should live under `tower-http` rather than a separate library.\r\n\r\n[tower-http-compression]: https://github.com/tesaguri/tower-http-compression\r\n\r\nSince this was developed independently of #37, there are slight differences in API design as shown below, but I'd love to resolve the inconsistencies based on feedback.\r\n\r\n- ~This uses `pin-project-lite` because I thought it to be preferable to `pin-project` since `hyper` has recently migrated to it, but I won't insist on that if you are going to add a functionality that requires `pin-project`.~\r\n- ~This uses a custom error type in response body to let users inspect errors from the underlying body type, but the same purpose could be achieved with `Box<dyn Error>` and downcasting as well.~ Edit: #37 has updated to use a custom error.\r\n- No compression algorithm is enabled by default, and users have to pick crate features to make it actually work. This is to reduce compile time in some use cases.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/41/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/39", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/39/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/39/events", "html_url": "https://github.com/tower-rs/tower-http/pull/39", "id": 794580562, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMDczMTUy", "number": 39, "title": "Add `SetResponseHeader` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2734094156, "node_id": "MDU6TGFiZWwyNzM0MDk0MTU2", "url": "https://api.github.com/repos/tower-rs/tower-http/labels/A-new-middleware", "name": "A-new-middleware", "color": "f7e101", "default": false, "description": "Area: new middleware proposals"}], "state": "closed", "locked": false, "assignee": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1", "html_url": "https://github.com/tower-rs/tower-http/milestone/1", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/milestones/1/labels", "id": 6425874, "node_id": "MDk6TWlsZXN0b25lNjQyNTg3NA==", "number": 1, "title": "0.1.0", "description": "", "creator": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2021-02-12T10:18:56Z", "updated_at": "2021-06-04T19:05:04Z", "due_on": null, "closed_at": "2021-06-04T19:05:04Z"}, "comments": 5, "created_at": "2021-01-26T21:40:16Z", "updated_at": "2021-02-19T08:39:23Z", "closed_at": "2021-02-19T08:39:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/39", "html_url": "https://github.com/tower-rs/tower-http/pull/39", "diff_url": "https://github.com/tower-rs/tower-http/pull/39.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/39.patch", "merged_at": "2021-02-19T08:39:18Z"}, "body": "We use this to set `X-Request-Id` with something like:\r\n\r\n```rust\r\n.layer(\r\n    SetResponseHeaderLayer::new(\r\n        HeaderName::from_static(\"x-request-id\"),\r\n        |_res: &Response<Body>| HeaderValue::from_str(&Uuid::new_v4().to_string()).unwrap(),\r\n    )\r\n    .override_existing(false),\r\n);\r\n\r\n// or even\r\n\r\n.layer(\r\n    SetResponseHeaderLayer::new(\r\n        HeaderName::from_static(\"content-type\"),\r\n        HeaderValue::from_static(\"text/html\"),\r\n    )\r\n    .override_existing(false),\r\n);\r\n```", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/38", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/38/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/38/events", "html_url": "https://github.com/tower-rs/tower-http/pull/38", "id": 794578681, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMDcxNTcw", "number": 38, "title": "Add `PropagateHeader` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-26T21:36:56Z", "updated_at": "2021-02-09T22:36:59Z", "closed_at": "2021-02-09T22:36:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/38", "html_url": "https://github.com/tower-rs/tower-http/pull/38", "diff_url": "https://github.com/tower-rs/tower-http/pull/38.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/38.patch", "merged_at": "2021-02-09T22:36:55Z"}, "body": "Another small one. Propagate a header from the request to the response.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/37", "repository_url": "https://api.github.com/repos/tower-rs/tower-http", "labels_url": "https://api.github.com/repos/tower-rs/tower-http/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/tower-rs/tower-http/issues/37/comments", "events_url": "https://api.github.com/repos/tower-rs/tower-http/issues/37/events", "html_url": "https://github.com/tower-rs/tower-http/pull/37", "id": 794575747, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMDY5MDk0", "number": 37, "title": "Add `Compression` middleware", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-26T21:31:53Z", "updated_at": "2021-01-29T19:43:37Z", "closed_at": "2021-01-29T19:43:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tower-rs/tower-http/pulls/37", "html_url": "https://github.com/tower-rs/tower-http/pull/37", "diff_url": "https://github.com/tower-rs/tower-http/pull/37.diff", "patch_url": "https://github.com/tower-rs/tower-http/pull/37.patch", "merged_at": "2021-01-29T19:43:32Z"}, "body": "Suggested by @LucioFranco in https://github.com/tower-rs/tower-http/pull/33:\r\n\r\n> I think this is fine for now but I want to consider if we could maybe impl this over impl Body<Buf = Bytes> instead of hyper::Body. This way we could eventually add this into tonic quite easily. That is because in tonic we impl body like so https://docs.rs/tonic/0.4.0/tonic/body/struct.BoxBody.html#impl-Body\r\n\r\nI totally agree but I couldn't quite figure out how to make it work. `Body::wrap_stream` is quite convenient. I could give it another shot.\r\n\r\n## TODO\r\n\r\n- [x] Add feature toggles for each compression algorithm a la https://github.com/tower-rs/tower-http/pull/41/commits/090053ae3056996e29228f8a93739227c16d01ab#r566686758.", "reactions": {"url": "https://api.github.com/repos/tower-rs/tower-http/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tower-rs/tower-http/issues/37/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]