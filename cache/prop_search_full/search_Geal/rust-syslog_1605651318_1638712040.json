[{"url": "https://api.github.com/repos/Geal/rust-syslog/issues/54", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/54/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/54/events", "html_url": "https://github.com/Geal/rust-syslog/pull/54", "id": 823295651, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1Nzc4NDMx", "number": 54, "title": "Fail gracefully when nothing to connect to", "user": {"login": "edneville", "id": 20325262, "node_id": "MDQ6VXNlcjIwMzI1MjYy", "avatar_url": "https://avatars.githubusercontent.com/u/20325262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edneville", "html_url": "https://github.com/edneville", "followers_url": "https://api.github.com/users/edneville/followers", "following_url": "https://api.github.com/users/edneville/following{/other_user}", "gists_url": "https://api.github.com/users/edneville/gists{/gist_id}", "starred_url": "https://api.github.com/users/edneville/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edneville/subscriptions", "organizations_url": "https://api.github.com/users/edneville/orgs", "repos_url": "https://api.github.com/users/edneville/repos", "events_url": "https://api.github.com/users/edneville/events{/privacy}", "received_events_url": "https://api.github.com/users/edneville/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-05T17:49:49Z", "updated_at": "2021-12-05T11:59:09Z", "closed_at": "2021-12-05T11:59:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/54", "html_url": "https://github.com/Geal/rust-syslog/pull/54", "diff_url": "https://github.com/Geal/rust-syslog/pull/54.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/54.patch", "merged_at": "2021-12-05T11:59:01Z"}, "body": "In some build systems there is no listening syslog to connect to, this doc\r\nchange avoids a panic fail in those cases.", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/53", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/53/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/53/events", "html_url": "https://github.com/Geal/rust-syslog/pull/53", "id": 669606130, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU5OTU1NDM3", "number": 53, "title": "Add check for global filtering levels in Log::enabled() impl", "user": {"login": "inejge", "id": 1049870, "node_id": "MDQ6VXNlcjEwNDk4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1049870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inejge", "html_url": "https://github.com/inejge", "followers_url": "https://api.github.com/users/inejge/followers", "following_url": "https://api.github.com/users/inejge/following{/other_user}", "gists_url": "https://api.github.com/users/inejge/gists{/gist_id}", "starred_url": "https://api.github.com/users/inejge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inejge/subscriptions", "organizations_url": "https://api.github.com/users/inejge/orgs", "repos_url": "https://api.github.com/users/inejge/repos", "events_url": "https://api.github.com/users/inejge/events{/privacy}", "received_events_url": "https://api.github.com/users/inejge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-31T09:19:38Z", "updated_at": "2021-12-05T12:15:48Z", "closed_at": "2021-12-05T12:15:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/53", "html_url": "https://github.com/Geal/rust-syslog/pull/53", "diff_url": "https://github.com/Geal/rust-syslog/pull/53.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/53.patch", "merged_at": "2021-12-05T12:15:37Z"}, "body": "The check mimics the ones used by the `log!()` macro.\r\n\r\nThe `enabled()` function is used by the `log_enabled!()` macro. I stumbled over this when activating logging for a `hyper` server, which uses its own tracing framework. If `enabled()` always returns `true`, `hyper` will happily spam syslog with trace-level messages despite the filtering having been initialized in `syslog::init_unix()` or equivalent.", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/53/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/52", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/52/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/52/events", "html_url": "https://github.com/Geal/rust-syslog/pull/52", "id": 640503253, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1OTAxODI3", "number": 52, "title": "feat: move Logger properties to public", "user": {"login": "Arfey", "id": 10367100, "node_id": "MDQ6VXNlcjEwMzY3MTAw", "avatar_url": "https://avatars.githubusercontent.com/u/10367100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Arfey", "html_url": "https://github.com/Arfey", "followers_url": "https://api.github.com/users/Arfey/followers", "following_url": "https://api.github.com/users/Arfey/following{/other_user}", "gists_url": "https://api.github.com/users/Arfey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Arfey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Arfey/subscriptions", "organizations_url": "https://api.github.com/users/Arfey/orgs", "repos_url": "https://api.github.com/users/Arfey/repos", "events_url": "https://api.github.com/users/Arfey/events{/privacy}", "received_events_url": "https://api.github.com/users/Arfey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-17T14:47:04Z", "updated_at": "2021-12-05T12:00:16Z", "closed_at": "2021-12-05T12:00:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/52", "html_url": "https://github.com/Geal/rust-syslog/pull/52", "diff_url": "https://github.com/Geal/rust-syslog/pull/52.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/52.patch", "merged_at": "2021-12-05T12:00:05Z"}, "body": "I need to implement my own Logger (i need to rewrite log method) but for what i need also implement flush method that require access to backend.\r\n\r\n```rust\r\nimpl Log for MyBasicLogger {\r\n  fn enabled(&self, metadata: &Metadata) -> bool {\r\n    true\r\n  }\r\n\r\n  fn log(&self, record: &Record) {\r\n    // do some else then in BasicLogger\r\n  }\r\n\r\n  fn flush(&self) { let _ = self.logger.lock().unwrap().backend.flush(); }\r\n}\r\n```\r\nmarked backend and formatter as public solve my problem.", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/52/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/51", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/51/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/51/events", "html_url": "https://github.com/Geal/rust-syslog/pull/51", "id": 622376056, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxMjUxNzI3", "number": 51, "title": "Implement `Default` for formatters and `Facility`; get hostname automatically", "user": {"login": "argv-minus-one", "id": 1386885, "node_id": "MDQ6VXNlcjEzODY4ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1386885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argv-minus-one", "html_url": "https://github.com/argv-minus-one", "followers_url": "https://api.github.com/users/argv-minus-one/followers", "following_url": "https://api.github.com/users/argv-minus-one/following{/other_user}", "gists_url": "https://api.github.com/users/argv-minus-one/gists{/gist_id}", "starred_url": "https://api.github.com/users/argv-minus-one/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argv-minus-one/subscriptions", "organizations_url": "https://api.github.com/users/argv-minus-one/orgs", "repos_url": "https://api.github.com/users/argv-minus-one/repos", "events_url": "https://api.github.com/users/argv-minus-one/events{/privacy}", "received_events_url": "https://api.github.com/users/argv-minus-one/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-21T09:33:59Z", "updated_at": "2021-12-05T12:13:42Z", "closed_at": "2021-12-05T12:13:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/51", "html_url": "https://github.com/Geal/rust-syslog/pull/51", "diff_url": "https://github.com/Geal/rust-syslog/pull/51.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/51.patch", "merged_at": "2021-12-05T12:13:42Z"}, "body": "This PR implements `Default` for `Facility`, `Formatter3164`, and `Formatter5424`.\r\n\r\n## Motivation\r\n\r\nMost of the `Formatter*` fields are about the host environment. The only one that the application really needs to fill in is `facility`. By implementing `Default` for `Formatter*`, constructing one is made much easier:\r\n\r\n```rust\r\nlet formatter = syslog::Formatter3164 {\r\n  facility: syslog::Facility::LOG_DAEMON,\r\n  ..Default::default()\r\n};\r\n```\r\n\r\n## Defaults\r\n\r\nThe default `Facility` is `LOG_USER`, as [specified by POSIX](https://pubs.opengroup.org/onlinepubs/9699919799/functions/closelog.html).\r\n\r\nFormatter defaults are as follows:\r\n\r\n* `facility`: `LOG_USER`.\r\n* `hostname`: Automatically detected using [the `hostname` crate], if possible.\r\n* `process`: Automatically detected using [`std::env::current_exe`], or if that fails, an empty string.\r\n* `pid`: Automatically detected using [`libc::getpid`].\r\n\r\n## `syslog::init`\r\n\r\nIn addition to the `Default` implementations, the `init` function now fills in the `hostname` in the same way.\r\n\r\n## Dependencies & MSRV\r\n\r\nThis PR adds a dependency on the `hostname` crate.\r\n\r\nThis PR does not change the minimum supported Rust version of this crate, which appears to be 1.31. (Even without this PR, this crate fails to build on Rust \u2264 1.30.)\r\n\r\n[`libc::getpid`]: https://docs.rs/libc/0.2/libc/fn.getpid.html\r\n[specified by POSIX]: https://pubs.opengroup.org/onlinepubs/9699919799/functions/closelog.html\r\n[`std::env::current_exe`]: https://doc.rust-lang.org/std/env/fn.current_exe.html\r\n[the `hostname` crate]: https://crates.io/crates/hostname", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/50", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/50/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/50/events", "html_url": "https://github.com/Geal/rust-syslog/pull/50", "id": 577629976, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzYyNzIy", "number": 50, "title": "format and lint", "user": {"login": "urandom2", "id": 2526260, "node_id": "MDQ6VXNlcjI1MjYyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2526260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urandom2", "html_url": "https://github.com/urandom2", "followers_url": "https://api.github.com/users/urandom2/followers", "following_url": "https://api.github.com/users/urandom2/following{/other_user}", "gists_url": "https://api.github.com/users/urandom2/gists{/gist_id}", "starred_url": "https://api.github.com/users/urandom2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urandom2/subscriptions", "organizations_url": "https://api.github.com/users/urandom2/orgs", "repos_url": "https://api.github.com/users/urandom2/repos", "events_url": "https://api.github.com/users/urandom2/events{/privacy}", "received_events_url": "https://api.github.com/users/urandom2/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-09T03:06:10Z", "updated_at": "2021-12-05T11:28:32Z", "closed_at": "2021-12-05T11:28:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/50", "html_url": "https://github.com/Geal/rust-syslog/pull/50", "diff_url": "https://github.com/Geal/rust-syslog/pull/50.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/50.patch", "merged_at": "2021-12-05T11:28:26Z"}, "body": "Because it made Geal/rust-syslog#48 and Geal/rust-syslog#49 much easier\r\nto read, this background lint and formatting fixup has been extracted.\r\n\r\nSafe dependency upgraded are also included in this change.", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/49", "repository_url": "https://api.github.com/repos/Geal/rust-syslog", "labels_url": "https://api.github.com/repos/Geal/rust-syslog/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/Geal/rust-syslog/issues/49/comments", "events_url": "https://api.github.com/repos/Geal/rust-syslog/issues/49/events", "html_url": "https://github.com/Geal/rust-syslog/pull/49", "id": 577598750, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzM4MjU0", "number": 49, "title": "src/format: use u32 and std::process::id not libc::getpid", "user": {"login": "urandom2", "id": 2526260, "node_id": "MDQ6VXNlcjI1MjYyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2526260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urandom2", "html_url": "https://github.com/urandom2", "followers_url": "https://api.github.com/users/urandom2/followers", "following_url": "https://api.github.com/users/urandom2/following{/other_user}", "gists_url": "https://api.github.com/users/urandom2/gists{/gist_id}", "starred_url": "https://api.github.com/users/urandom2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urandom2/subscriptions", "organizations_url": "https://api.github.com/users/urandom2/orgs", "repos_url": "https://api.github.com/users/urandom2/repos", "events_url": "https://api.github.com/users/urandom2/events{/privacy}", "received_events_url": "https://api.github.com/users/urandom2/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-09T00:59:40Z", "updated_at": "2021-12-05T11:36:35Z", "closed_at": "2021-12-05T11:36:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Geal/rust-syslog/pulls/49", "html_url": "https://github.com/Geal/rust-syslog/pull/49", "diff_url": "https://github.com/Geal/rust-syslog/pull/49.diff", "patch_url": "https://github.com/Geal/rust-syslog/pull/49.patch", "merged_at": "2021-12-05T11:36:35Z"}, "body": "Since 0.3.2, libc::getpid is used to get the process id and store the\r\nprovided id in Formatters. This has the marked side effect of being\r\nunsafe and adding an unnecessary crate dependency. As such, this change\r\nmoves to using std::process::id, which likely was not stable at the\r\ntime, for better stdlib integration.\r\n\r\nUnfortunately, this is a breaking change, since the current i32s are\r\npart of the external interface, but could be implemented as compatible\r\nif the extant symbols were simply deprecated and new ones added.\r\n\r\nSource has also been formatted and linted via rustfmt and clippy, and\r\ndependencies upgraded. Time 0.2 was held back since it incompatible\r\nwith 0.1.\r\n\r\nFix #46 ", "reactions": {"url": "https://api.github.com/repos/Geal/rust-syslog/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Geal/rust-syslog/issues/49/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]