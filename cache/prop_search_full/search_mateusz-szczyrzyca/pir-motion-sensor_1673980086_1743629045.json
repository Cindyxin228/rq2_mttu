[{"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/12", "id": 1714990531, "node_id": "PR_kwDOJFSEnc5Qxb6s", "number": 12, "title": "Update rust.yml", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-18T05:07:56Z", "updated_at": "2023-05-18T05:10:50Z", "closed_at": "2023-05-18T05:10:47Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/12", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/12", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/12.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/12.patch", "merged_at": "2023-05-18T05:10:47Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/11", "id": 1713587524, "node_id": "PR_kwDOJFSEnc5QsqHA", "number": 11, "title": "Update rust.yml", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-17T10:23:13Z", "updated_at": "2023-05-17T10:36:41Z", "closed_at": "2023-05-17T10:36:39Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/11", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/11", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/11.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/11.patch", "merged_at": "2023-05-17T10:36:39Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/10", "id": 1713561173, "node_id": "PR_kwDOJFSEnc5QskXq", "number": 10, "title": "Create rust-clippy.yml", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-17T10:06:20Z", "updated_at": "2023-05-17T10:06:31Z", "closed_at": "2023-05-17T10:06:27Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/10", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/10", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/10.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/10.patch", "merged_at": "2023-05-17T10:06:27Z"}, "body": "Added clippy check", "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/9", "id": 1712772580, "node_id": "PR_kwDOJFSEnc5Qp7lj", "number": 9, "title": "Minor fix for motion time period, tests reorg and some clean ups", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-16T21:38:22Z", "updated_at": "2023-05-17T20:57:33Z", "closed_at": "2023-05-17T20:57:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/9", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/9", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/9.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/9.patch", "merged_at": "2023-05-17T20:57:29Z"}, "body": "Fixes: https://github.com/mateusz-szczyrzyca/pir-motion-sensor/issues/8\r\nNow `std::time::Instant` is correctly used to measure motion time period sensor parameter\r\n\r\nAdditionally, tests are reorganized now and some cleanups.", "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/9/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/7", "id": 1710172611, "node_id": "PR_kwDOJFSEnc5QhJ8Y", "number": 7, "title": "Unnecessary toggle fix", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-15T14:02:24Z", "updated_at": "2023-05-15T14:06:47Z", "closed_at": "2023-05-15T14:06:42Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/7", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/7", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/7.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/7.patch", "merged_at": "2023-05-15T14:06:42Z"}, "body": "It causes some issues", "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/7/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/6", "id": 1673595275, "node_id": "PR_kwDOJFSEnc5OmqpS", "number": 6, "title": "Update lib version", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-18T17:59:20Z", "updated_at": "2023-04-18T17:59:36Z", "closed_at": "2023-04-18T17:59:31Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/6", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/6", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/6.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/6.patch", "merged_at": "2023-04-18T17:59:31Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/5", "id": 1670091901, "node_id": "PR_kwDOJFSEnc5Oa7kO", "number": 5, "title": "New Simplified API, tests fixes, new supported sensor and more", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-16T18:53:33Z", "updated_at": "2023-04-18T15:56:28Z", "closed_at": "2023-04-18T15:55:12Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/5", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/5", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/5.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/5.patch", "merged_at": "2023-04-18T15:55:12Z"}, "body": "This is for new version 2.0.0 due to breaking changes in API. If you use 1.0.0 then you can stay on that version as the main algorithm is the same, but be advised about points 3) and 4)\r\n\r\n1) There is a new `spawn_detection_threads()` helper function which is responsible for spawn necessary threads. Previous API required two async functions to be spawn by `tokio::spawn`, now this what this function does, actually. \r\n\r\nThe example is updated and now lib will be easier to use.\r\n\r\n2) Unit tests are updated - they are now much more deterministic - comments in the tests code are updated to explain how to write these tests correctly to take advantage of deterministic behavior in highly async application\r\n\r\n3) `u128` is replaced with `u64` in `MotionSensor` config due to some problems with serde library: https://github.com/serde-rs/json/issues/625. Previously, using `u128` does not require type casting as `as_milis()` for `Instant::Duration` returns `u128` directly. \r\nThis serde issue happened to me couple times and quite annoying so I decide to use `u64` to make this lib much less problematic in some cases. If this issue will be solved in serde then it's not a problem revert this change back.\r\n\r\n4) I've added support for `CancellationToken` from `tokio_utils` - it's used to stop sensors tokio threads which is really important especially during unit tests.\r\n\r\n5) This lib was also tested on [DFRobot SEN0192 microwave motion sensor](https://wiki.dfrobot.com/MicroWave_Sensor_SKU__SEN0192) - because it's a digital sensor it's also officially supported.", "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/3", "id": 1654531962, "node_id": "PR_kwDOJFSEnc5Nnqbo", "number": 3, "title": "New examples because of changes in the API", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-04T20:26:05Z", "updated_at": "2023-04-04T20:30:57Z", "closed_at": "2023-04-04T20:30:49Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/3", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/3", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/3.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/3.patch", "merged_at": "2023-04-04T20:30:49Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2", "repository_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor", "labels_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2/comments", "events_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2/events", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/2", "id": 1631641158, "node_id": "PR_kwDOJFSEnc5MbR7x", "number": 2, "title": "First draft of different async algorithm", "user": {"login": "mateusz-szczyrzyca", "id": 2696971, "node_id": "MDQ6VXNlcjI2OTY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2696971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateusz-szczyrzyca", "html_url": "https://github.com/mateusz-szczyrzyca", "followers_url": "https://api.github.com/users/mateusz-szczyrzyca/followers", "following_url": "https://api.github.com/users/mateusz-szczyrzyca/following{/other_user}", "gists_url": "https://api.github.com/users/mateusz-szczyrzyca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateusz-szczyrzyca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateusz-szczyrzyca/subscriptions", "organizations_url": "https://api.github.com/users/mateusz-szczyrzyca/orgs", "repos_url": "https://api.github.com/users/mateusz-szczyrzyca/repos", "events_url": "https://api.github.com/users/mateusz-szczyrzyca/events{/privacy}", "received_events_url": "https://api.github.com/users/mateusz-szczyrzyca/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T08:41:43Z", "updated_at": "2023-04-04T20:20:57Z", "closed_at": "2023-04-04T20:20:52Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/pulls/2", "html_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/2", "diff_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/2.diff", "patch_url": "https://github.com/mateusz-szczyrzyca/pir-motion-sensor/pull/2.patch", "merged_at": "2023-04-04T20:20:52Z"}, "body": "This is a fix for #1 which significantly improves performance of the library.\r\nThis is backward incompatible version, thus bump major version now. Tests will be modified.\r\n\r\nAlgorithm:\r\n\r\nThis time we have 3 main threads (despite the number of sensors)\r\n\r\n1) Main loop which receives detections from channels and can be used to handle reactions - this stays almost the same as before.\r\n\r\n2) New `tokio::spawn` thread which awaits in it's internal loop an async function responsible for reading GPIO pin state. This async function (`reading_from_sensor()`) is initialized per sensor, so if we have 10 motions sensors these awaitable functions list will have 10 entries to await, but main reading thread still will be the only one.\r\n\r\n3) New `tokio::spawn` thread for another awaitable function (name may change, docs will be updated) used per sensor to process detections and determines if these detections are valid or not according to sensor's settings. The general rule is similar as for point no. 2 - we have a single thread which operates and awaits on as many such functions as we have sensors.\r\n\r\nSo for this algorithm, if we have 5 motions sensors we have:\r\n\r\n1) 3 long running green threads (`tokio::spawn`) - this number is fixed all the time\r\n2) 5+5=10 awaitable functions where 5 are awaited in one thread, 5 are awaited another", "reactions": {"url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mateusz-szczyrzyca/pir-motion-sensor/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]