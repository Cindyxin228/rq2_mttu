[{"url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29", "repository_url": "https://api.github.com/repos/jrmuizel/pdf-extract", "labels_url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29/comments", "events_url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29/events", "html_url": "https://github.com/jrmuizel/pdf-extract/pull/29", "id": 1035554984, "node_id": "PR_kwDOBM25F84tpZ2z", "number": 29, "title": "fixed crashing debug output when font has no name", "user": {"login": "Grollicus", "id": 4340798, "node_id": "MDQ6VXNlcjQzNDA3OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/4340798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Grollicus", "html_url": "https://github.com/Grollicus", "followers_url": "https://api.github.com/users/Grollicus/followers", "following_url": "https://api.github.com/users/Grollicus/following{/other_user}", "gists_url": "https://api.github.com/users/Grollicus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Grollicus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Grollicus/subscriptions", "organizations_url": "https://api.github.com/users/Grollicus/orgs", "repos_url": "https://api.github.com/users/Grollicus/repos", "events_url": "https://api.github.com/users/Grollicus/events{/privacy}", "received_events_url": "https://api.github.com/users/Grollicus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-25T20:41:47Z", "updated_at": "2021-10-26T08:05:43Z", "closed_at": "2021-10-26T00:26:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/jrmuizel/pdf-extract/pulls/29", "html_url": "https://github.com/jrmuizel/pdf-extract/pull/29", "diff_url": "https://github.com/jrmuizel/pdf-extract/pull/29.diff", "patch_url": "https://github.com/jrmuizel/pdf-extract/pull/29.patch", "merged_at": "2021-10-26T00:26:25Z"}, "body": "I had a pdf document that was crashing like this:\r\n\r\n```\r\n\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: DictKey', $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:470:62\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/09c42c45858d5f3aedfa670698275303a3d19afa/library/std/src/panicking.rs:517:5\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/09c42c45858d5f3aedfa670698275303a3d19afa/library/core/src/panicking.rs:101:14\r\n   2: core::result::unwrap_failed\r\n             at /rustc/09c42c45858d5f3aedfa670698275303a3d19afa/library/core/src/result.rs:1617:5\r\n   3: core::result::Result<T,E>::unwrap\r\n             at /rustc/09c42c45858d5f3aedfa670698275303a3d19afa/library/core/src/result.rs:1299:23\r\n   4: pdf_extract::PdfSimpleFont::new\r\n             at $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:470:40\r\n   5: pdf_extract::make_font\r\n             at $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:323:17\r\n   6: pdf_extract::Processor::process_stream::{{closure}}\r\n             at $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:1478:84\r\n   7: std::collections::hash::map::Entry<K,V>::or_insert_with\r\n             at /rustc/09c42c45858d5f3aedfa670698275303a3d19afa/library/std/src/collections/hash/map.rs:2345:43\r\n   8: pdf_extract::Processor::process_stream\r\n             at $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:1478:32\r\n   9: pdf_extract::output_doc\r\n             at $home/.cargo/registry/src/github.com-1ecc6299db9ec823/pdf-extract-0.6.3/src/lib.rs:2029:9\r\n```\r\n\r\n\r\nCrashing was this line:\r\n```\r\nlet name = pdf_to_utf8(encoding.get(b\"Type\").unwrap().as_name().unwrap());\r\n```\r\n\r\nOr more specifically `encoding.get(b\"Type\").unwrap()`. So, basically, no `Type`. As `name` is only used for debug output I think it can be safely removed?\r\n", "reactions": {"url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jrmuizel/pdf-extract/issues/29/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]