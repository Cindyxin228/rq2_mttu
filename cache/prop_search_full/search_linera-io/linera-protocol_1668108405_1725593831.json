[{"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2453", "id": 2506570600, "node_id": "PR_kwDOGjZjtc56dhVj", "number": 2453, "title": "Make service runtime short-lived by default", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-05T01:16:23Z", "updated_at": "2024-09-05T14:29:37Z", "closed_at": "2024-09-05T14:29:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2453", "html_url": "https://github.com/linera-io/linera-protocol/pull/2453", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2453.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2453.patch", "merged_at": "2024-09-05T14:29:35Z"}, "body": "## Motivation\r\n\r\nThe long-lived services are somehow experimental and are mostly used for the LLM demo.\r\nStability issues were solved but we should probably not activate long-lived services by default anyway.\r\n\r\n## Proposal\r\n\r\n* Add a configuration option\r\n* Use short-lived service instances by default\r\n\r\n## Test Plan\r\n\r\n* [x] CI\r\n* [x] Test LLM demo manually\r\n\r\n## Release Plan\r\n\r\n* Not breaking for validators\r\n* May affect users but they can pass an option on the CLI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2453/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2452", "id": 2506081129, "node_id": "PR_kwDOGjZjtc56b1pl", "number": 2452, "title": "Browser time", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-09-04T19:04:18Z", "updated_at": "2024-09-05T16:20:03Z", "closed_at": "2024-09-05T16:20:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2452", "html_url": "https://github.com/linera-io/linera-protocol/pull/2452", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2452.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2452.patch", "merged_at": "2024-09-05T16:20:03Z"}, "body": "## Motivation\r\n\r\nThroughout the codebase, we currently use `std::time`, and `tokio::time` which relies on it.  However, `std::time` is not currently supported on `wasm32-unknown-unknown`.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nAdd a module to `linera-base` that abstracts over time and timers.  On the Web, replace `std::time` with `web-time` (as `linera_base::time`), and `tokio::time` with `wasmtimer` (not to be confused with `wasmtime`; referred to as `linera_base::time::timer`).\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI for the native; `linera-web` will shortly test the in-browser functionality.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nNone.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2452/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2451", "id": 2506041036, "node_id": "PR_kwDOGjZjtc56bs7q", "number": 2451, "title": "`linera_core::join_set_ext`: replace `spawn_local` with `wasm_bindgen_futures::spawn_local`", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-04T18:39:10Z", "updated_at": "2024-09-05T18:12:42Z", "closed_at": "2024-09-05T18:12:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2451", "html_url": "https://github.com/linera-io/linera-protocol/pull/2451", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2451.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2451.patch", "merged_at": "2024-09-05T18:12:42Z"}, "body": "## Motivation\r\n\r\nTokio's `spawn_local` needs to be called from the context of a `LocalSet`, which is annoying to set up when our entry point is in JavaScript, and besides would block the browser worker, which is undesirable.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nInstead, use the browser's event loop.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI for the native case; `linera-web` will test this in the browser case.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNone.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2451/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2450", "id": 2505903713, "node_id": "PR_kwDOGjZjtc56bO0G", "number": 2450, "title": "`linera-client`: relax unnecessary `Send` bound on `P`", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-04T17:14:38Z", "updated_at": "2024-09-04T23:23:24Z", "closed_at": "2024-09-04T23:23:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2450", "html_url": "https://github.com/linera-io/linera-protocol/pull/2450", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2450.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2450.patch", "merged_at": "2024-09-04T23:23:23Z"}, "body": "## Motivation\r\n\r\nNeeded to call `ChainClient` functions on the Web, where `P` may be non-`Send`.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nRemove the `Send` bound on `P`, which isn't used anyway.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n\r\nNone.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2450/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2448", "id": 2504853763, "node_id": "PR_kwDOGjZjtc56Xodr", "number": 2448, "title": "Update outdated comments and identifiers", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-04T09:55:15Z", "updated_at": "2024-09-04T11:54:35Z", "closed_at": "2024-09-04T11:54:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2448", "html_url": "https://github.com/linera-io/linera-protocol/pull/2448", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2448.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2448.patch", "merged_at": "2024-09-04T11:54:32Z"}, "body": "## Motivation\r\n\r\nA few comments and identifiers in the code are outdated, most of them related to https://github.com/linera-io/linera-protocol/pull/2343.\r\n\r\n## Proposal\r\n\r\nUpdate them: Use \"message bundles\" instead of \"messages\" where appropriate, and remove an outdated comment about admin subscriptions.\r\n\r\n## Test Plan\r\n\r\nNo logic was changed.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2448/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2445", "id": 2503937324, "node_id": "PR_kwDOGjZjtc56Uhla", "number": 2445, "title": "Fix race condition after evicting an active chain worker", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179853, "node_id": "LA_kwDOGjZjtc7Z3Z5N", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-09-03T22:42:46Z", "updated_at": "2024-09-04T12:29:10Z", "closed_at": "2024-09-04T01:52:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2445", "html_url": "https://github.com/linera-io/linera-protocol/pull/2445", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2445.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2445.patch", "merged_at": "2024-09-04T01:52:27Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nAfter #2444, chain worker evictions became more common in the token transfer benchmark. That uncovered a race condition, that happens in the following scenario:\r\n\r\n1. One instance of `WorkerState` sends a request to a chain worker actor for chain \"A\"\r\n2. Another instance of `WorkerState` sends a request to a new chain worker actor for chain \"B\", which ends up evicting the worker for chain \"A\" while it's still running\r\n3. Another instance of `WorkerState` sends a request for chain \"A\", but that requires creating a new chain worker actor for chain \"A\"\r\n4. Now there are two chain worker actors for chain \"A\" racing to change the chain state\r\n\r\nWhile fixing this issue, a second issue was uncovered. There's a memory leak in `WorkerState`, because the finished tasks in `chain_worker_tasks` are never garbage collected, so it just grows indefinitely as new actors are created.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nOnly evict chain worker actors that aren't active. Activity is checked based on the count of active sender endpoints to a chain worker actor. This is safe because all requests to the chain worker wait for the request to be handled while keeping the sending endpoint alive.\r\n\r\nAlso reap finished tasks from `chain_worker_tasks` to prevent memory leaks.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nThe token transfer benchmark now runs successfully.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNew patch version needed to include the bug fixes.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2445/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2444", "id": 2503107528, "node_id": "PR_kwDOGjZjtc56RsKc", "number": 2444, "title": "Use different chain worker cache sizes depending on the context", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179853, "node_id": "LA_kwDOGjZjtc7Z3Z5N", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-09-03T14:57:49Z", "updated_at": "2024-09-03T19:37:27Z", "closed_at": "2024-09-03T15:57:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2444", "html_url": "https://github.com/linera-io/linera-protocol/pull/2444", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2444.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2444.patch", "merged_at": "2024-09-03T15:57:41Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nWe ran into some hangs in a test, and the root cause was that we reached the limit of Tokio's blocking threads. That happened because after #2216, every `ChainWorkerActor` instance spawns a separate blocking thread to run the service runtime.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nAs an initial fix, the limit of active chain workers should be reduced to below the maximum number of blocking threads (512). Because clients track much less chains than validators, the number can also be different depending on the context.\r\n\r\nAdd a `chain_worker_limit` parameter to the `WorkerState` constructor, and use different values depending on the context.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nCI should catch regressions caused by this parameter tweak. Reducing the number of chain workers to below the limit of blocking threads made the test that initially discovered the issue pass.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n- Need to update the developer manual.\r\n- This PR is adding or removing Cargo features.\r\n- Release is blocked and/or tracked by other issues (see links below)\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2444/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2443", "id": 2502893667, "node_id": "PR_kwDOGjZjtc56Q9jh", "number": 2443, "title": "`examples/social/web-frontend`: exclude node service queries from GraphQL codegen", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-03T13:30:16Z", "updated_at": "2024-09-04T01:26:41Z", "closed_at": "2024-09-04T01:26:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2443", "html_url": "https://github.com/linera-io/linera-protocol/pull/2443", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2443.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2443.patch", "merged_at": "2024-09-04T01:26:41Z"}, "body": "## Motivation\r\n\r\nGraphQL codegen for this application frontend fails because it tries to generate types for a notification subscription query on the node service, which doesn't exist in the application schema.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nAdd an alias for the Apollo `gql` tag, `nodeGql`, that we use to tag queries for the node service instead of the application.  Since `graphql-codegen` looks for strings tagged with `gql`, it won't try to parse `nodeGql` queries.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nTry codegen: follow `examples/social/README.md` until the node service is started, then run:\r\n\r\n```shellsession\r\n$ CHAIN_ID=e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65 \\\r\n  PORT=8080 \\\r\n  APP=$APP_ID \\\r\n  npm run compile\r\n```\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nMinor bugfix: nothing special.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2443/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2442", "id": 2501637470, "node_id": "PR_kwDOGjZjtc56MuCX", "number": 2442, "title": "Fix stability of GraphQL schemas", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-02T22:23:51Z", "updated_at": "2024-09-03T01:01:08Z", "closed_at": "2024-09-03T01:01:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2442", "html_url": "https://github.com/linera-io/linera-protocol/pull/2442", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2442.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2442.patch", "merged_at": "2024-09-03T01:01:07Z"}, "body": "## Motivation\r\n\r\n#2438 has showed that GraphQL schemas are unstable. Indeed, the hashtags depend on the `std::any::type_name` of the full type of the object, which often includes a view context, hence the current store's name.\r\n\r\ncloses #1326\r\n\r\n## Proposal\r\n\r\n* Do not make tagging depends on the context parameter in GraphQL schemas. The trick is to just hash the types of the parameters.\r\n* Remove some remaining ViewError bounds\r\n* Fix recorded graphql schema and queries\r\n* Move some graphql definitions inside the `views` module\r\n\r\n## Test Plan\r\n\r\nCI + tested that the last commit didn't change the schema\r\n\r\n## Release Plan\r\n\r\n- Top-level schemas are updated.\r\n- Schemas of user applications (and corresponding queries) will need to be re-generated. It should be the last time they need to do this in a while, though.\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2442/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2441", "id": 2501218481, "node_id": "PR_kwDOGjZjtc56LTsu", "number": 2441, "title": "Remove the handling of `root_key` in `RocksDb` via separate instances.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-02T15:26:59Z", "updated_at": "2024-10-02T14:52:18Z", "closed_at": "2024-09-02T19:56:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2441", "html_url": "https://github.com/linera-io/linera-protocol/pull/2441", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2441.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2441.patch", "merged_at": "2024-09-02T19:56:45Z"}, "body": "## Motivation\r\n\r\nThe way we handle `root_key` in `RocksDb` creates multiple instances of the RocksDb which left many open files.\r\n\r\n## Proposal\r\n\r\nWe just concatenate the `root_key` with the `key`.\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2441/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2440", "id": 2500545577, "node_id": "PR_kwDOGjZjtc56JAFi", "number": 2440, "title": "Split the end-to-end test file.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-02T10:05:29Z", "updated_at": "2024-10-02T14:53:53Z", "closed_at": "2024-09-04T05:52:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2440", "html_url": "https://github.com/linera-io/linera-protocol/pull/2440", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2440.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2440.patch", "merged_at": "2024-09-04T05:52:38Z"}, "body": "## Motivation\r\n\r\nThe end-to-end test file has grown larger and it prevents using the `remote_net` for shared set of validators.\r\n\r\n## Proposal\r\n\r\nThe following was done:\r\n* All the tests that take a `LineraNetConfig` are moved into a `linera_net_tests.rs`.\r\n* The remaining tests are in a `local_net_tests.rs`.\r\n* The `remote_net` and `kubernetes` have been added to the Ethereum end-to-end test.\r\n* The tests for the `matching_engine` are enabled for other storages.\r\n* This led to simplifying many `#[cfg(any...` statements away.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2440/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2439", "id": 2500511812, "node_id": "PR_kwDOGjZjtc56I4rG", "number": 2439, "title": "Update service schema, remove feature gates from test.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-02T09:49:30Z", "updated_at": "2024-09-02T11:10:35Z", "closed_at": "2024-09-02T11:10:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2439", "html_url": "https://github.com/linera-io/linera-protocol/pull/2439", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2439.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2439.patch", "merged_at": "2024-09-02T11:10:27Z"}, "body": "## Motivation\r\n\r\nThe Linera service GraphQL schema file is out-of-date, and CI didn't catch it.\r\n\r\n## Proposal\r\n\r\nRemove the unnecessary feature gates from the service schema test, so `cargo test` runs it, and update the schema file.\r\n\r\n## Test Plan\r\n\r\nLocally, the test failed (without any feature flags) with the outdated file, so CI should catch that in the future, too.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2439/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2438", "id": 2499757303, "node_id": "PR_kwDOGjZjtc56GV0b", "number": 2438, "title": "More simplifications around view context objects", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-09-02T00:11:05Z", "updated_at": "2024-09-02T19:11:06Z", "closed_at": "2024-09-02T19:11:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2438", "html_url": "https://github.com/linera-io/linera-protocol/pull/2438", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2438.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2438.patch", "merged_at": "2024-09-02T19:11:04Z"}, "body": "## Motivation\r\n\r\nPrepare future evolutions of the library where (most) backends are in a different crate\r\n\r\nContinues #2436\r\n\r\n## Proposal\r\n\r\n* Stop defining context aliases (except `MemoryContext` and `StorageViewContext`) so that backends are independent from the `Context` trait.\r\n* Rename `ContextFromStore` into `ViewContext`\r\n* `MemoryContext` is now defined in `context.rs` and could be rename `TestContext` later.\r\n* Hide the notion of store from SDK users\r\n* Rename `ViewContext::create` into `create_root_context`\r\n\r\nOpen question:\r\n* Should we rename SDK's alias `ViewStorageContext` (together with the method `root_view_storage_context`) into `ViewContext` -- or the opposite ?)\r\n\r\nNot in this PR:\r\n* Split `common.rs` into `common.rs` + `store.rs`\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Release Plan\r\n\r\nSome renaming", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2438/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2436", "id": 2499053486, "node_id": "PR_kwDOGjZjtc56EDdk", "number": 2436, "title": "Improve file structure in linera-views", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-31T21:29:35Z", "updated_at": "2024-09-01T23:05:52Z", "closed_at": "2024-09-01T23:05:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2436", "html_url": "https://github.com/linera-io/linera-protocol/pull/2436", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2436.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2436.patch", "merged_at": "2024-09-01T23:05:51Z"}, "body": "## Motivation\r\n\r\n* Make internal dependencies easier to understand\r\n* Simplify code and remove boilerplate\r\n\r\n## Proposal\r\n\r\n* Minimize changes across the codebase for now --> We create submodules but use re-exports to make the definitions look the same (mostly).\r\n* Create a file `metrics.rs`\r\n* Create two directories: `backends` (could also be called `stores`?) and `views`\r\n* Split `common.rs` into `common.rs` + `context.rs`\r\n* `graphql.rs` stays where it is to avoid breaking user schemas (due to the hashtag in `MapInput`s etc)\r\n\r\nComing up in next PRs:\r\n* Stop defining context aliases. We want `backends` to be independent from `Context`.\r\n* `MemoryContext` is now defined in `context.rs` special and could be rename `TestContext`  later.\r\n* Split `common.rs` into`store.rs`\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Release Plan\r\n\r\nSome (mild) breaking changes in the SDK", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2436/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2435", "id": 2498887748, "node_id": "PR_kwDOGjZjtc56Dhgh", "number": 2435, "title": "Revert \"Fix Witty export of functions with 16 parameters\"", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4856244298, "node_id": "LA_kwDOGjZjtc8AAAABIXRoSg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/chore", "name": "chore", "color": "08717B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-08-31T14:55:43Z", "updated_at": "2024-09-24T14:33:08Z", "closed_at": "2024-08-31T15:35:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2435", "html_url": "https://github.com/linera-io/linera-protocol/pull/2435", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2435.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2435.patch", "merged_at": "2024-08-31T15:35:22Z"}, "body": "# Motivation\r\n\r\nThe PR (#2429) used a Git revision instead of a released version. This breaks publishing crates.\r\n\r\n# Proposal\r\n\r\nRevert the change and only try again once a new version of [Wasmtime](https://github.com/bytecodealliance/wasmtime) is released with the referenced fix.\r\n\r\n# Related Links\r\n\r\n- Closes #2430 because it's no longer needed\r\n- Reopens #2406 ", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2435/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2434", "id": 2498876357, "node_id": "PR_kwDOGjZjtc56DfIT", "number": 2434, "title": "CI: run Clippy on `web-default` features for Web-compatible crates", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-31T14:33:12Z", "updated_at": "2024-08-31T15:35:39Z", "closed_at": "2024-08-31T15:35:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2434", "html_url": "https://github.com/linera-io/linera-protocol/pull/2434", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2434.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2434.patch", "merged_at": "2024-08-31T15:35:39Z"}, "body": "## Motivation\r\n\r\nMake sure we're Clippy-clean, at least for default features.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nAdd `web-default` features to all Web-capable targets that we can use when running Clippy for the Web.  Make Clippy's suggested changes.  Add commands to CI to run Clippy against these features under the `wasm32-unknown-unknown` target.\r\n\r\nWe can't use `--all-features`, despite our `build.rs` magic, because we can't have target-specific _and_ feature-specific dependencies.  So e.g. `aws-smithy` will always try to build as a dependency of `linera-views` with `--all-features` (or the `dynamodb` feature in general), even if marked as a non-`wasm32` dependency, and it will fail to build on `wasm32-unknown-unknown`.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n\r\nAdds a feature flag to `linera-rpc`, so should technically be a minor version bump.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- Fixes https://github.com/linera-io/linera-protocol/issues/2432\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2434/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2433", "id": 2498832968, "node_id": "PR_kwDOGjZjtc56DWPX", "number": 2433, "title": " remove DbStorageInner", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-31T12:55:18Z", "updated_at": "2024-08-31T13:58:36Z", "closed_at": "2024-08-31T13:58:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2433", "html_url": "https://github.com/linera-io/linera-protocol/pull/2433", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2433.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2433.patch", "merged_at": "2024-08-31T13:58:34Z"}, "body": "## Motivation\r\n\r\nSimplify code\r\n\r\n## Proposal\r\n\r\n* Remove DbStorageInner. The PR starts by making it private to show that it is not used anywhere.\r\n* A few additional simplifications (see commits)\r\n \r\n## Test Plan\r\n\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2433/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2431", "id": 2498638479, "node_id": "PR_kwDOGjZjtc56CuRR", "number": 2431, "title": "Remove all ViewError bounds", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-31T05:18:24Z", "updated_at": "2024-09-01T20:03:40Z", "closed_at": "2024-08-31T15:10:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2431", "html_url": "https://github.com/linera-io/linera-protocol/pull/2431", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2431.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2431.patch", "merged_at": "2024-08-31T15:10:56Z"}, "body": "## Motivation\r\n\r\nSimplify code\r\n\r\n## Proposal\r\n\r\n* Create trait KeyValueStoreError to make store errors always convertible to `ViewError`\r\n* Remove Storage::StoreError\r\n* Remove all ViewError bounds\r\n\r\n## Test Plan\r\n\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2431/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2429", "id": 2498074204, "node_id": "PR_kwDOGjZjtc56BKGV", "number": 2429, "title": "Fix Witty export of functions with 16 parameters", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179853, "node_id": "LA_kwDOGjZjtc7Z3Z5N", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-08-30T19:50:38Z", "updated_at": "2024-08-31T04:40:28Z", "closed_at": "2024-08-31T04:40:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2429", "html_url": "https://github.com/linera-io/linera-protocol/pull/2429", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2429.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2429.patch", "merged_at": "2024-08-31T04:40:27Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nWhen exporting functions with a specific signature type (with parameters that are flattened to exactly 16 flat types and with a return type that flattens to more than one flat type) to a Wasm instance, Witty's `#[wit_export]` macro would incorrectly lower all parameters and return types to the type.\r\n\r\nThis is different from what was specified in the [specification](https://github.com/WebAssembly/component-model/blob/main/design/mvp/CanonicalABI.md#flattening).\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nDon't lower the parameters of functions if they can be flattened into 16 flat types, even if the return type is lowered into the heap.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nRan tests manually to ensure that the `test_memory_run_application_with_dependency` passes without the dummy parameter that was introduced previously as a workaround before this fix.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n- Need to update the developer manual.\r\n- This PR is adding or removing Cargo features.\r\n- Release is blocked and/or tracked by other issues (see links below)\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n- Closes #2406 ", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2429/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2428", "id": 2496846152, "node_id": "PR_kwDOGjZjtc559GFp", "number": 2428, "title": "Recursively handle network actions triggered by subscriptions.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-30T10:28:27Z", "updated_at": "2024-08-31T16:37:43Z", "closed_at": "2024-08-31T15:34:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2428", "html_url": "https://github.com/linera-io/linera-protocol/pull/2428", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2428.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2428.patch", "merged_at": "2024-08-31T15:34:55Z"}, "body": "## Motivation\r\n\r\nWith https://github.com/linera-io/linera-protocol/pull/2407, cross-chain updates can now trigger more cross-chain updates, if the first one contains a `Subscribe` message. Since we don't create new network actions after handling a cross-chain update, the second update is only sent the next time a certificate or chain info request is submitted for that chain.\r\n\r\n## Proposal\r\n\r\nHandle them recursively, so all inboxes are updated as soon as possible.\r\n\r\n## Test Plan\r\n\r\nA test was updated to check that the outbox is empty. I verified that that check would fail without this fix.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2428/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2427", "id": 2496000605, "node_id": "PR_kwDOGjZjtc556T_X", "number": 2427, "title": "Update `wasmtime` to version 24.0.0", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4856244298, "node_id": "LA_kwDOGjZjtc8AAAABIXRoSg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/chore", "name": "chore", "color": "08717B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-08-30T02:27:29Z", "updated_at": "2024-08-30T17:11:08Z", "closed_at": "2024-08-30T16:44:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2427", "html_url": "https://github.com/linera-io/linera-protocol/pull/2427", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2427.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2427.patch", "merged_at": "2024-08-30T16:44:03Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nThe `wasmtime` dependency we used was getting old, and we'll need a [fix](https://github.com/bytecodealliance/wasmtime/pull/9170) from the next version to be released, in order to fix a Witty issue (#2406).\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nUpdate `wasmtime` to the latest available version (24.0.0), and apply the necessary changes to use its updated API. To [fix a dependency version resolution issue](https://github.com/linera-io/wasmer/pull/1), a new version of our `wasmer` fork had to be used (4.3.6-linera.3).\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nCI should catch any regressions caused by this dependency update.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this is an internal refactor.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n- Closes #1785 \r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2427/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2425", "id": 2495635991, "node_id": "PR_kwDOGjZjtc555MSm", "number": 2425, "title": "Create get-application-creator-chain-id system-api call", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-29T21:46:38Z", "updated_at": "2024-08-30T18:00:43Z", "closed_at": "2024-08-30T18:00:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2425", "html_url": "https://github.com/linera-io/linera-protocol/pull/2425", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2425.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2425.patch", "merged_at": "2024-08-30T18:00:41Z"}, "body": "## Motivation\n\nOnce we replace application descriptions with blobs, we won't have the creator's chain id in the `ApplicationId` anymore.\n\n## Proposal\n\nThis PR creates another system API call in preparation for that.\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2425/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2424", "id": 2495029796, "node_id": "PR_kwDOGjZjtc553KQB", "number": 2424, "title": "Change CLI command to publish-data-blob", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-29T16:34:09Z", "updated_at": "2024-08-29T17:37:53Z", "closed_at": "2024-08-29T17:37:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2424", "html_url": "https://github.com/linera-io/linera-protocol/pull/2424", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2424.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2424.patch", "merged_at": "2024-08-29T17:37:51Z"}, "body": "## Motivation\n\nWe're actually only publishing data blobs through that command\n\n## Proposal\n\nAlter the command name so it's a better description of what's happening\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2424/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2423", "id": 2494769533, "node_id": "PR_kwDOGjZjtc552W0N", "number": 2423, "title": "`linera-indexer-example`: make sure we have all the right features enabled for testing", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-29T15:04:59Z", "updated_at": "2024-08-29T20:48:40Z", "closed_at": "2024-08-29T20:48:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2423", "html_url": "https://github.com/linera-io/linera-protocol/pull/2423", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2423.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2423.patch", "merged_at": "2024-08-29T20:48:39Z"}, "body": "## Motivation\r\n\r\nSome features are not enabled that need to be enabled in order to successfully test `linera-indexer-example`.  When running onCI we build all packages for testing together, so the `linera-indexer-example` tests happen to end up using binaries built with the right features, but when running the test alone it can fail rather mysteriously.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nAdd the required features explicitly.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\nI've tested locally.  Run `cargo test -p linera-indexer-example --features storage-service -- test_end_to_end_operations_indexer::storage_service_grpc`.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n\r\nNone required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2423/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2422", "id": 2494354652, "node_id": "PR_kwDOGjZjtc551B78", "number": 2422, "title": "`linera-explorer`: fix build", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-29T12:51:47Z", "updated_at": "2024-08-29T14:27:04Z", "closed_at": "2024-08-29T14:27:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2422", "html_url": "https://github.com/linera-io/linera-protocol/pull/2422", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2422.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2422.patch", "merged_at": "2024-08-29T14:27:04Z"}, "body": "## Motivation\r\n\r\nOur CI is broken due to out-of-sync dependencies on `linera-explorer` that cause `vue-tsc` to not see the usage of components inside the Vue `<template>`.\r\n\r\n## Proposal\r\n\r\nCommit `package.lock` to make this test more deterministic.\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n## Release Plan\r\n\r\nNone required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [Some people suggest this should be fixed by using `compilerOptions.jsx = \"preserve\"`](https://github.com/vuejs/language-tools/issues/1729), but we do this and it didn't help \u2014 so either this isn't the solution for us or we aren't using our `tsconfig.json`.\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2422/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2421", "id": 2493262356, "node_id": "PR_kwDOGjZjtc55xSuS", "number": 2421, "title": "Use `ruzstd` to decompress bytecodes in Wasm", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179856, "node_id": "LA_kwDOGjZjtc7Z3Z5Q", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/5", "html_url": "https://github.com/linera-io/linera-protocol/milestone/5", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/5/labels", "id": 11215363, "node_id": "MI_kwDOGjZjtc4AqyID", "number": 5, "title": "Testnet #2", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 151, "state": "closed", "created_at": "2024-06-21T12:45:14Z", "updated_at": "2025-05-12T21:45:39Z", "due_on": null, "closed_at": "2025-05-12T21:45:39Z"}, "comments": 1, "created_at": "2024-08-29T01:24:23Z", "updated_at": "2024-08-29T18:11:31Z", "closed_at": "2024-08-29T18:10:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2421", "html_url": "https://github.com/linera-io/linera-protocol/pull/2421", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2421.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2421.patch", "merged_at": "2024-08-29T18:10:32Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nBytecode compression was recently introduced (#2382). However, this means that the bytecode must be decompressed after it has been loaded from storage. Currently, decompression uses the `zstd` crate, which uses the Zstandard library installed on the system. Unfortunately, that library is not available in Wasm.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nUse `ruzstd` to decompress the bytecode in Wasm. Compression is not supported by `ruzstd`, so bytecodes can't be published, but at least they can be decompressed so that they can executed.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nI commented out parts of the code to make it always decompress using `ruzstd`, and ran the end-to-end tests manually to confirm they pass (because they publish and use bytecodes).\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing is needed, because this only affects Wasm targets, for which we haven't released anything yet.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n\r\nCloses #2413 \r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2421/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2420", "id": 2492534147, "node_id": "PR_kwDOGjZjtc55u5lZ", "number": 2420, "title": "`linera-client`: add IndexedDB persistence backend for the wallet", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-28T16:25:40Z", "updated_at": "2024-09-04T14:40:27Z", "closed_at": "2024-09-04T14:40:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2420", "html_url": "https://github.com/linera-io/linera-protocol/pull/2420", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2420.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2420.patch", "merged_at": "2024-09-04T14:40:26Z"}, "body": "## Motivation\r\n\r\n`localStorage`, the API we use for persisting the wallet on the Web, isn't available in service workers.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nGeneralize the `Persist` trait to be asynchronous, then implement an asynchronous `IndexedDB` persistence backend to use instead.\r\n\r\nUnfortunately we can no longer use `Drop` to persist forgotten changes, since async `Drop` is not available in Rust.  Instead, I add a `Dirty` flag type that will panic if the `Persist` implementation is dropped without persisting the latest changes.\r\n\r\nWe also are limited in what `trait-variant` can do for us here, since need to implement either `LocalPersist` or `Persist` for `WalletState`, a wrapper over another `LocalPersist`/`Persist` implementation, depending on what its parameter implements.  To work around it, I used a compile-time switch in `linera-client` to decide whether the name `Persist` refers to `Persist` or `LocalPersist`.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\nCI.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNo particular care required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2420/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2419", "id": 2492522072, "node_id": "PR_kwDOGjZjtc55u2-3", "number": 2419, "title": "Added a 'one-click' deploy-validator.sh script", "user": {"login": "christos-h", "id": 14791384, "node_id": "MDQ6VXNlcjE0NzkxMzg0", "avatar_url": "https://avatars.githubusercontent.com/u/14791384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/christos-h", "html_url": "https://github.com/christos-h", "followers_url": "https://api.github.com/users/christos-h/followers", "following_url": "https://api.github.com/users/christos-h/following{/other_user}", "gists_url": "https://api.github.com/users/christos-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/christos-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/christos-h/subscriptions", "organizations_url": "https://api.github.com/users/christos-h/orgs", "repos_url": "https://api.github.com/users/christos-h/repos", "events_url": "https://api.github.com/users/christos-h/events{/privacy}", "received_events_url": "https://api.github.com/users/christos-h/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-28T16:18:45Z", "updated_at": "2024-08-29T13:13:16Z", "closed_at": "2024-08-29T13:13:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2419", "html_url": "https://github.com/linera-io/linera-protocol/pull/2419", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2419.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2419.patch", "merged_at": "2024-08-29T13:13:16Z"}, "body": "## Motivation\r\n\r\nValidator on-boarding could get a bit tedious. We received feedback for a script that would take care of the entire deployment process.\r\n\r\n## Proposal\r\n\r\nAdd a script, `deploy-validator.sh` which validators can optionally use to deploy a validator in preparation to joining the network.", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2419/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2418", "id": 2492377884, "node_id": "PR_kwDOGjZjtc55uXya", "number": 2418, "title": "Enable `test` feature when testing `linera-sdk`", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4918041374, "node_id": "LA_kwDOGjZjtc8AAAABJSNbHg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/testing", "name": "testing", "color": "D2C777", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2024-08-28T15:07:26Z", "updated_at": "2024-08-28T18:21:32Z", "closed_at": "2024-08-28T15:59:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2418", "html_url": "https://github.com/linera-io/linera-protocol/pull/2418", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2418.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2418.patch", "merged_at": "2024-08-28T15:59:19Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n`cargo test -p linera-sdk --no-default-features` was running into a compile error. For some weird reason, the `with_testing` configuration alias was not being enabled when only `#[cfg(test)]` was active.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nEnable the `test` feature when `#[cfg(test)]` is enabled, which makes it follow the same convention as used in other crates.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nRan `cargo test -p linera-sdk --no-default-features` manually, and it now succeeds.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this just fixes compilation of an unreleased version.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2418/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2417", "id": 2492247012, "node_id": "PR_kwDOGjZjtc55t_lW", "number": 2417, "title": "Improve log messages.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-28T14:25:10Z", "updated_at": "2024-08-28T15:15:55Z", "closed_at": "2024-08-28T15:15:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2417", "html_url": "https://github.com/linera-io/linera-protocol/pull/2417", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2417.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2417.patch", "merged_at": "2024-08-28T15:15:52Z"}, "body": "## Motivation\r\n\r\nSome log messages are very long; on the other hand, there are a few places where additional logs would be helpful. Also, the nicknames are the same for all clients in tests.\r\n\r\n## Proposal\r\n\r\nMake the nicknames different, add a few log messages, shorten others.\r\n\r\n## Test Plan\r\n\r\nI found these more helpful when debugging a test locally.\r\n\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2417/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2416", "id": 2492151082, "node_id": "PR_kwDOGjZjtc55ttNZ", "number": 2416, "title": "Move UserApplication[Description|Id] to linera-base", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-08-28T13:53:52Z", "updated_at": "2024-08-28T17:25:40Z", "closed_at": "2024-08-28T17:25:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2416", "html_url": "https://github.com/linera-io/linera-protocol/pull/2416", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2416.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2416.patch", "merged_at": "2024-08-28T17:25:39Z"}, "body": "## Motivation\n\nWe'll use these in blobs soon\n\n## Proposal\n\nMove them to `linera-base`\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2416/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2415", "id": 2490863103, "node_id": "PR_kwDOGjZjtc55peRS", "number": 2415, "title": "Format code in doc comments", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-28T03:22:50Z", "updated_at": "2024-08-28T08:08:50Z", "closed_at": "2024-08-28T08:08:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2415", "html_url": "https://github.com/linera-io/linera-protocol/pull/2415", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2415.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2415.patch", "merged_at": "2024-08-28T08:08:50Z"}, "body": "## Motivation\r\n\r\nfixes #2370\r\n\r\n## Proposal\r\n\r\nEnable [format_code_in_doc_comments](https://rust-lang.github.io/rustfmt/?version=v1.7.0&search=#format_code_in_doc_comments)\r\n\r\n## Test Plan\r\n\r\nCI\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2415/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2414", "id": 2489690237, "node_id": "PR_kwDOGjZjtc55l2aM", "number": 2414, "title": "Add a `get_test_config` to the `AdminKeyValueStore` and simplify `linera_storage`.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-27T15:18:04Z", "updated_at": "2024-10-02T14:59:20Z", "closed_at": "2024-08-30T14:04:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2414", "html_url": "https://github.com/linera-io/linera-protocol/pull/2414", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2414.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2414.patch", "merged_at": "2024-08-30T14:04:04Z"}, "body": "## Motivation\r\n\r\nThe `linera_storage` contains a significant quantity of `store` specific code. This is due to the constraint of generating the test config.\r\n\r\n## Proposal\r\n\r\nThe following was done:\r\n* Introduce the `get_test_config` to the `AdminKeyValueStore`. Unfortunately, it was not possible to gate it with a `with_testing`.\r\n* Introduce the corresponding entries to the stores and simplify the code.\r\n* Move the code of the stores to the trait in `db_storage.rs` as it is now unified.\r\n* Eliminate the files `memory.rs` and similar.\r\n* Replace the `MemoryStorage` by `DbStorage<MemoryStore, _>` and appropriate.\r\n\r\nThis step simplifies the code, but there are surely other opportunities of unifying the source code.\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2414/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2409", "id": 2486991428, "node_id": "PR_kwDOGjZjtc55cmgD", "number": 2409, "title": "Minor fixes: documentation, imports", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-26T14:17:00Z", "updated_at": "2024-08-26T18:47:14Z", "closed_at": "2024-08-26T18:47:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2409", "html_url": "https://github.com/linera-io/linera-protocol/pull/2409", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2409.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2409.patch", "merged_at": "2024-08-26T18:47:08Z"}, "body": "## Motivation\r\n\r\nI found a few unclear formulations, typos and a bit of `std::` noise.\r\n\r\n## Proposal\r\n\r\nImport `std` submodules/types, fix typos, improve formulations.\r\n\r\n## Test Plan\r\n\r\nExisting tests should catch any regressions.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2409/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2407", "id": 2483152578, "node_id": "PR_kwDOGjZjtc55P1u_", "number": 2407, "title": "Handle Subscribe and Unsubscribe offchain.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-23T13:26:43Z", "updated_at": "2024-08-27T13:50:18Z", "closed_at": "2024-08-27T13:50:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2407", "html_url": "https://github.com/linera-io/linera-protocol/pull/2407", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2407.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2407.patch", "merged_at": "2024-08-27T13:50:14Z"}, "body": "## Motivation\r\n\r\nSome channels, like the admin one, have a lot of subscribers. Handling all the `Subscribe` messages on-chain causes scalability issues.\r\n\r\nIn the long term, channels will be replaced with events anyway. (https://github.com/linera-io/linera-protocol/issues/365)\r\n\r\n## Proposal\r\n\r\nHandle them off-chain, and send all earlier messages to the subscriber.\r\n\r\nUser applications' subscriptions are still handled on-chain, and re-send only the latest message.\r\n\r\n## Test Plan\r\n\r\nThe tests have been updated and should catch any regressions.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2407/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2405", "id": 2480959981, "node_id": "PR_kwDOGjZjtc55IqgO", "number": 2405, "title": "Make the temporary directory of the RocksDb instances part of the store and the configuration.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-22T14:37:11Z", "updated_at": "2024-10-02T15:02:19Z", "closed_at": "2024-08-27T10:57:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2405", "html_url": "https://github.com/linera-io/linera-protocol/pull/2405", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2405.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2405.patch", "merged_at": "2024-08-27T10:57:58Z"}, "body": "## Motivation\r\n\r\nThe RocksDb test stores require tracking of the temporary directory. This complicates working with that store and prevents further unification with other stores that do not require them.\r\n\r\n## Proposal\r\n\r\nThe following is done:\r\n* The `PathWithGuard`type is introduced for the RocksDb.\r\n* This allows the removal of `_dir` entries all around.\r\n\r\nThe next step is to introduce the creation of a default test config in `AdminKeyValueStore`. But since that work is fairly independent from this one, this is for another PR.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2405/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2404", "id": 2480956585, "node_id": "PR_kwDOGjZjtc55Ipv5", "number": 2404, "title": "Make cargo test work with and without the unstable-oracles feature.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-22T14:35:45Z", "updated_at": "2024-08-22T15:25:45Z", "closed_at": "2024-08-22T15:25:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2404", "html_url": "https://github.com/linera-io/linera-protocol/pull/2404", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2404.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2404.patch", "merged_at": "2024-08-22T15:25:43Z"}, "body": "## Motivation\r\n\r\nAs of https://github.com/linera-io/linera-protocol/pull/2396, `cargo test` fails because the `query_service` oracle call isn't allowed anymore.\r\n\r\n## Proposal\r\n\r\nMake the failing test only trigger the oracle call if the `unstable-oracles` feature is enabled.\r\n\r\n## Test Plan\r\n\r\n`cargo test` passes for me now, both with and without the flag.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2404/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2403", "id": 2480734862, "node_id": "PR_kwDOGjZjtc55H4fj", "number": 2403, "title": "Filter messages from unsubscribed channels.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-22T13:00:50Z", "updated_at": "2024-08-22T14:46:25Z", "closed_at": "2024-08-22T14:46:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2403", "html_url": "https://github.com/linera-io/linera-protocol/pull/2403", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2403.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2403.patch", "merged_at": "2024-08-22T14:46:22Z"}, "body": "## Motivation\r\n\r\nWe are going to handle subscriptions offchain in an upcoming PR, so validators will not always agree on the last channel message before unsubscribing.\r\n\r\nThe block in which `Unsubscribe` was _sent_, however, is the same for everyone. So we can make the inboxes appear consistent by filtering out channels we already unsubscribed from.\r\n\r\n## Proposal\r\n\r\nFilter out channels we unsubscribed from when collecting pending messages.\r\n\r\n## Test Plan\r\n\r\nThe behavior will be the same except in edge cases; existing tests should catch any regressions.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2403/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2402", "id": 2480653372, "node_id": "PR_kwDOGjZjtc55HmZp", "number": 2402, "title": "Remove notify message", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-22T12:22:32Z", "updated_at": "2024-08-22T15:40:39Z", "closed_at": "2024-08-22T15:40:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2402", "html_url": "https://github.com/linera-io/linera-protocol/pull/2402", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2402.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2402.patch", "merged_at": "2024-08-22T15:40:36Z"}, "body": "## Motivation\r\n\r\nThe `Notify` message exists mostly for debugging purposes. The subscriber will synchronize and include a message in its `received_log` anyway once it receives a message on the channel itself.\r\n\r\nMoreover, we are going to handle subscriptions offchain in an upcoming PR, so we can't send a direct `Notify` message on subscription anymore.\r\n\r\n## Proposal\r\n\r\nRemove `Notify`. This should also slightly help performance: The admin chain will send fewer messages.\r\n\r\nWe also remove an unnecessary allocation in related code.\r\n\r\n## Test Plan\r\n\r\nThe tests were adapted to not expect the `Notify` message. Any regressions should be caught by the existing tests.\r\n\r\n## Release Plan\r\n\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2402/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2400", "id": 2478544335, "node_id": "PR_kwDOGjZjtc55Av8G", "number": 2400, "title": "Expand env variables inside gql in READMEs", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2024-08-21T17:03:50Z", "updated_at": "2024-08-27T00:46:26Z", "closed_at": "2024-08-27T00:46:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2400", "html_url": "https://github.com/linera-io/linera-protocol/pull/2400", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2400.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2400.patch", "merged_at": "2024-08-27T00:46:24Z"}, "body": "## Motivation\n\nHarcoding this type of thing is generally not great, as it makes the READMEs break more easily.\n\n## Proposal\n\nAdd the hability of expanding env variables inside the graphQL queries. Also store the query result in an env variable, in case we want to actually use that result in the README (which is already the case in a few of them).\nFixes #2256\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2400/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2397", "id": 2478060739, "node_id": "PR_kwDOGjZjtc54_H3G", "number": 2397, "title": "Add a fee budget to temporary Hex game chains.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-21T13:33:44Z", "updated_at": "2024-08-21T15:06:58Z", "closed_at": "2024-08-21T15:06:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2397", "html_url": "https://github.com/linera-io/linera-protocol/pull/2397", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2397.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2397.patch", "merged_at": "2024-08-21T15:06:55Z"}, "body": "## Motivation\r\n\r\nTemporary Hex game chains need a positive balance to pay the fees.\r\n\r\n## Proposal\r\n\r\nAdd a fee budget to `Start`.\r\n\r\nOnce https://github.com/linera-io/linera-protocol/issues/1795 is implemented, this can be refunded when the temporary chain is closed.\r\n\r\n## Test Plan\r\n\r\nThe parameter is used in the tests. More complete tests including refunds will be added later, when the lobby is implemented.\r\n\r\n## Links\r\n\r\n- Part of #2326.\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2397/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2396", "id": 2477621607, "node_id": "PR_kwDOGjZjtc549mXz", "number": 2396, "title": "Feature-gate the http_post and query_service oracles.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-21T10:04:18Z", "updated_at": "2024-08-21T12:44:08Z", "closed_at": "2024-08-21T12:44:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2396", "html_url": "https://github.com/linera-io/linera-protocol/pull/2396", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2396.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2396.patch", "merged_at": "2024-08-21T12:44:06Z"}, "body": "## Motivation\r\n\r\nThe `http_post` oracle is only safe if all validators use an HTTP proxy (https://github.com/linera-io/linera-protocol/issues/2188). Both `http_post` and `query_service` will need fees and limits (https://github.com/linera-io/linera-protocol/issues/2127).\r\n\r\n## Proposal\r\n\r\nFor now, feature-gate these oracles. With the default features, they are not enabled and contract calls that try to use them fail.\r\n\r\nUsers can continue to develop applications with them if they use the `unstable-oracles` feature for local development, but the public testnets will only support them once they are safe.\r\n\r\nThis does _not_ disable blobs, which also use the oracle mechanism, since they are essential to the system. Fees and limits for them will be added soon as part of https://github.com/linera-io/linera-protocol/issues/1981.\r\n\r\n## Test Plan\r\n\r\nThe oracles continue to be tested in CI, since I added the feature there.\r\nLocally, I verified that\r\n\r\n```\r\ncargo test --features=storage-service application_with_dependency\r\n```\r\n\r\nfails but\r\n\r\n```\r\ncargo test --features=storage-service,unstable-oracles application_with_dependency\r\n```\r\n\r\npasses.\r\n\r\n## Release Plan\r\n\r\n- Need to update the developer manual.\r\n- This PR is adding or removing Cargo features.\r\n\r\n## Links\r\n\r\n- Closes https://github.com/linera-io/linera-protocol/issues/2344.\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2396/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2394", "id": 2476931161, "node_id": "PR_kwDOGjZjtc547Oou", "number": 2394, "title": "Test creating many microchains from a Faucet", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4918041374, "node_id": "LA_kwDOGjZjtc8AAAABJSNbHg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/testing", "name": "testing", "color": "D2C777", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-08-21T02:58:06Z", "updated_at": "2024-09-05T21:54:57Z", "closed_at": "2024-09-05T20:11:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2394", "html_url": "https://github.com/linera-io/linera-protocol/pull/2394", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2394.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2394.patch", "merged_at": "2024-09-05T20:11:51Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nSome issues have previously appeared as the chain used for the Faucet became quite long. These sorts of issues should be caught during tests.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nAdd an end-to-end test with a reasonably long chain used by a Faucet, and ensure that it can be used to initialize new wallets.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nAdds a new end-to-end test to CI.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this only adds a test.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n- Closes #2336\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2394/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2393", "id": 2476763000, "node_id": "PR_kwDOGjZjtc546uV1", "number": 2393, "title": "Limit network actions to tracked chains (in `main`)", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4841025925, "node_id": "LA_kwDOGjZjtc8AAAABIIwxhQ", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/performance", "name": "performance", "color": "9746CF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 1, "created_at": "2024-08-21T00:40:52Z", "updated_at": "2024-08-28T12:13:28Z", "closed_at": "2024-08-28T12:13:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2393", "html_url": "https://github.com/linera-io/linera-protocol/pull/2393", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2393.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2393.patch", "merged_at": "2024-08-28T12:13:27Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nThis PR is a port of #2035 to the `main` branch.\r\n\r\nCurrently, processing a chain on the client creates network actions for all other chains it sends messages to. This leads to cross-chain requests that create chain states on storage for those other chains. These other chains might not be relevant to the client, which means it wastes storage and hinders performance.\r\n\r\nAs a real world example, the faucet chain is used to create new chains. Every block creates a new chain. That means that when a user uses the wallet to create a chain using the faucet, it will keep in storage the initial chain states for all chains created by the faucet before it.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nAdd an optional `tracked_chains` field to `ChainWorkerState`, and only create `NetworkActions` for those tracked chains. The set of tracked chains is updated by the `Client`.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\n@afck, @Twey, could you please check to see if this fixes the issue you ran into?\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nThis changes internal client behavior, so:\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2393/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2392", "id": 2476417839, "node_id": "PR_kwDOGjZjtc545jMt", "number": 2392, "title": "`linera-base`: add `task` to abstract over spawning", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-20T19:45:05Z", "updated_at": "2024-08-21T16:05:30Z", "closed_at": "2024-08-21T16:05:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2392", "html_url": "https://github.com/linera-io/linera-protocol/pull/2392", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2392.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2392.patch", "merged_at": "2024-08-21T16:05:30Z"}, "body": "## Motivation\r\n\r\nWe currently don't have support for threads in Wasm.  This means that `tokio::task::spawn{,_blocking}` are not safe to use there, and `tokio::task::spawn_local` always requires that it be called in the context of a `LocalSet`.  However, `wasm-bindgen-futures` helpfully provides `wasm_bindgen_futures::spawn_local` which will spawn a future onto the browser's event loop.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nAdd a module `linera_base::task` that will conditionally compile to either `tokio::task::spawn` or `wasm_bindgen_futures::spawn_local` depending on the target.  For now, stub out `tokio::task::spawn_blocking` with `wasm_bindgen_futures::spawn_local` as well, until we get around to implementing Web worker support here.\r\n\r\nThis is not the ideal solution, as it involves using conditional compilation deep in our dependency tree, and the implementations differ in subtle ways that can't easily be abstracted over.  A better alternative would be to use structured concurrency to allow the top-level caller to decide how to allocate tasks across parallel threads \u2014 which would also free us from having to reason about the order in which our concurrent tasks run with respect to one another \u2014 but that requires a larger restructuring of our concurrency approach, since we currently use `tokio::spawn` in a very unstructured way throughout the codebase.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI, for the native case; on the Web, I am about to add calls to our Web extension in https://github.com/linera-io/linera-web that will execute Wasm code, hitting these codepaths.  Those calls will have tests added in the future.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nDoes not change the externally-visible API.\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2392/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2387", "id": 2475656261, "node_id": "PR_kwDOGjZjtc5427x3", "number": 2387, "title": "Fix schema_export", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-20T13:29:00Z", "updated_at": "2024-08-20T14:25:31Z", "closed_at": "2024-08-20T14:25:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2387", "html_url": "https://github.com/linera-io/linera-protocol/pull/2387", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2387.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2387.patch", "merged_at": "2024-08-20T14:25:29Z"}, "body": "## Motivation\r\n\r\nhttps://github.com/linera-io/linera-protocol/pull/2348 broke the `schema_export` by reverting https://github.com/linera-io/linera-protocol/pull/2350. \r\n\r\n## Proposal\r\n\r\nFix it again, and add it to CI to make sure it won't break again.\r\n\r\n## Test Plan\r\n\r\nAdded a check to CI, not only that `schema_export` works, but also that the schema is up-to-date.\r\n\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2387/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2386", "id": 2475576808, "node_id": "PR_kwDOGjZjtc542qW1", "number": 2386, "title": "Change of the `KeyValueStore`trait.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-08-20T12:53:41Z", "updated_at": "2024-10-02T14:50:52Z", "closed_at": "2024-08-22T13:52:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2386", "html_url": "https://github.com/linera-io/linera-protocol/pull/2386", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2386.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2386.patch", "merged_at": "2024-08-22T13:52:55Z"}, "body": "## Motivation\r\n\r\nThe use of the `AdminKeyValueStore` makes the code quite complicated in the `linera-storage`. A cleanup is needed in that respect.\r\n\r\n## Proposal\r\n\r\nIdeally, we would like to have `KeyValueStore = ReadableKeyValueStore + WritableKeyValueStore + AdminKeyValueStore`. However, this can not be done due to two obstacles:\r\n* The `ViewContainer` is taking a `Context` to build a store. So, if it were to implement the `AdminKeyValueStore` then it would need to have the `Config` type and that is just the first problem that comes to mind.\r\n* The `MeteredStore` cannot create its own store without knowing where to put the metrics and there is no simple way to do that since this is context-dependent.\r\n\r\nTherefore, the solution was to have a `KeyValueStore` that implements all 3 traits and a `RestrictedKeyValueStore` that implements the first two.\r\n\r\nThis implies the following changes:\r\n* The `LruCachingStore` implements just the Writable/Readable. The restriction is downgraded accordingly. So, the `AdminKeyValueStore` implementation is dropped.\r\n* Correspondingly, the `CacheSize` trait is removed as well.\r\n* The `ValueSplittingStore` is also using just the `RestrictedKeyValueStore`. So, the `AdminKeyValueStore` implementation is dropped as well.\r\n* The `linera-storage` and the `linera-indexer` code are simplified as that was the objective of the PR.\r\n* The `KeyValueStore` type used for the smart contracts is implementing just the `RestrictedKeyValueStore`.\r\n* There are trait implications for the traits, but the implication `impl<S: LocalKeyValueStore> LocalRestrictedKeyValueStore for S` was not put as would give two different ways to make the trait implication and the compiler would complain. This complexifies the code for `IndexedDb`.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2386/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2385", "id": 2474585362, "node_id": "PR_kwDOGjZjtc54zRDP", "number": 2385, "title": "chore: add test for `MockKeyValueStore`", "user": {"login": "duguorong009", "id": 80258679, "node_id": "MDQ6VXNlcjgwMjU4Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/80258679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguorong009", "html_url": "https://github.com/duguorong009", "followers_url": "https://api.github.com/users/duguorong009/followers", "following_url": "https://api.github.com/users/duguorong009/following{/other_user}", "gists_url": "https://api.github.com/users/duguorong009/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguorong009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguorong009/subscriptions", "organizations_url": "https://api.github.com/users/duguorong009/orgs", "repos_url": "https://api.github.com/users/duguorong009/repos", "events_url": "https://api.github.com/users/duguorong009/events{/privacy}", "received_events_url": "https://api.github.com/users/duguorong009/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-20T02:23:23Z", "updated_at": "2024-08-28T12:28:02Z", "closed_at": "2024-08-28T12:28:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2385", "html_url": "https://github.com/linera-io/linera-protocol/pull/2385", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2385.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2385.patch", "merged_at": "2024-08-28T12:28:02Z"}, "body": "## Motivation\r\n- Resolve #1986 \r\n\r\n## Proposal\r\n- Add the unit test for `MockKeyValueStore`\r\n\r\n## Test Plan\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2385/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2384", "id": 2473678492, "node_id": "PR_kwDOGjZjtc54wNH2", "number": 2384, "title": "Make hex-game create temporary chains for each game.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-19T15:48:58Z", "updated_at": "2024-08-20T16:32:15Z", "closed_at": "2024-08-20T16:32:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2384", "html_url": "https://github.com/linera-io/linera-protocol/pull/2384", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2384.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2384.patch", "merged_at": "2024-08-20T16:32:13Z"}, "body": "## Motivation\r\n\r\nWe want to make it easier to create temporary chains, and demonstrate that in the example applications.\r\n\r\n## Proposal\r\n\r\nAs a first step, make `hex-game` create its temporary chains automatically, rather than having the users set them up manually.\r\n\r\n## Test Plan\r\n\r\nThe tests were extended.\r\n\r\n## Links\r\n\r\n- Preparation for #2326.\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2384/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2382", "id": 2471277525, "node_id": "PR_kwDOGjZjtc54oPAK", "number": 2382, "title": "Compress Wasm bytecodes when publishing", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179856, "node_id": "LA_kwDOGjZjtc7Z3Z5Q", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 1, "created_at": "2024-08-17T02:15:11Z", "updated_at": "2024-08-19T14:52:35Z", "closed_at": "2024-08-19T14:51:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2382", "html_url": "https://github.com/linera-io/linera-protocol/pull/2382", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2382.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2382.patch", "merged_at": "2024-08-19T14:51:29Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nSometimes publishing application fails because the bytecodes are too large, and hit gRPC message size limits when sending the block proposal.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nCompress the bytecodes using Zstandard when including them in the `SystemOperation::PublishBytecode`. Use a new `CompressedBytecode` type to represent the compressed bytecode, and make it simple to convert to and from an uncompressed `Bytecode`.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nCI should catch any regressions, since end-to-end tests cover publishing bytecodes and using them in applications.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nA new major version must be released, because this breaks backward compatibility with bytecode publishing.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2382/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2381", "id": 2469579444, "node_id": "PR_kwDOGjZjtc54ir_V", "number": 2381, "title": "feat: split-off `MockApplication::assert_no_more_expected_calls` into two", "user": {"login": "duguorong009", "id": 80258679, "node_id": "MDQ6VXNlcjgwMjU4Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/80258679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguorong009", "html_url": "https://github.com/duguorong009", "followers_url": "https://api.github.com/users/duguorong009/followers", "following_url": "https://api.github.com/users/duguorong009/following{/other_user}", "gists_url": "https://api.github.com/users/duguorong009/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguorong009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguorong009/subscriptions", "organizations_url": "https://api.github.com/users/duguorong009/orgs", "repos_url": "https://api.github.com/users/duguorong009/repos", "events_url": "https://api.github.com/users/duguorong009/events{/privacy}", "received_events_url": "https://api.github.com/users/duguorong009/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-16T06:21:10Z", "updated_at": "2024-08-20T06:44:16Z", "closed_at": "2024-08-20T03:29:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2381", "html_url": "https://github.com/linera-io/linera-protocol/pull/2381", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2381.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2381.patch", "merged_at": "2024-08-20T03:29:26Z"}, "body": "## Motivation\r\n- Resolve #2249\r\n\r\n## Proposal\r\n- split the `assert_no_more_expected_calls` into two - itself & `assert_no_active_instances`\r\n\r\n## Test Plan\r\nCI\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2381/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2379", "id": 2468001124, "node_id": "PR_kwDOGjZjtc54du6c", "number": 2379, "title": "ChainStateView::execute_block can now activate a chain.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-15T12:56:04Z", "updated_at": "2024-08-15T15:56:46Z", "closed_at": "2024-08-15T15:56:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2379", "html_url": "https://github.com/linera-io/linera-protocol/pull/2379", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2379.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2379.patch", "merged_at": "2024-08-15T15:56:43Z"}, "body": "## Motivation\r\n\r\nThe linera-sdk `TestValidator` directly calls `execute_block`, without first handling the immediate message. That currently fails if it's the first block of a new child chain, because it has not been initialized yet.\r\n\r\n## Proposal\r\n\r\nIn `execute_block`, if it's block 0 of a child chain and the first message is `OpenChain`, execute that message before doing anything that requires the chain to be active.\r\n\r\n## Test Plan\r\n\r\nCI should catch any regressions.\r\nThe feature itself was tested locally and will be used soon when the hex-game is extended to automatically create temporary chains.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2379/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2378", "id": 2467869033, "node_id": "PR_kwDOGjZjtc54dSKV", "number": 2378, "title": "Add open_chain to the test runtime.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-15T11:19:01Z", "updated_at": "2024-08-15T16:32:57Z", "closed_at": "2024-08-15T16:32:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2378", "html_url": "https://github.com/linera-io/linera-protocol/pull/2378", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2378.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2378.patch", "merged_at": "2024-08-15T16:32:54Z"}, "body": "## Motivation\r\n\r\nThe test runtime should have the same methods as the contract runtime. That was missed in https://github.com/linera-io/linera-protocol/pull/1720 and https://github.com/linera-io/linera-protocol/pull/2327.\r\n\r\n## Proposal\r\n\r\nAdd the missing methods.\r\n\r\n## Test Plan\r\n\r\nThese aren't used in any test yet, but the implementation is simple.\r\n\r\nThey will be used in an upcoming PR when the Hex Game is extended to automatically open temporary chains.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2378/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2377", "id": 2467841576, "node_id": "PR_kwDOGjZjtc54dMM1", "number": 2377, "title": "Insert RegisterApplications before the first user outcome.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-15T10:56:32Z", "updated_at": "2024-08-15T12:15:14Z", "closed_at": "2024-08-15T12:15:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2377", "html_url": "https://github.com/linera-io/linera-protocol/pull/2377", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2377.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2377.patch", "merged_at": "2024-08-15T12:15:11Z"}, "body": "## Motivation\r\n\r\nFor any bundle with user applications, `RegisterApplications` is retroactively inserted at the beginning to make sure those applications are registered in the recipient chain. This is a problem if the first message is `OpenChain`, which is required to be the first message in the bundle.\r\n\r\n## Proposal\r\n\r\nInsert `RegisterApplications` before the first _user_ application instead of at the beginning. This makes sure that `OpenChain` is never replaced as the bundles first message, and keeps its message ID correct in more (but not all) cases.\r\n\r\n## Test Plan\r\n\r\nTests should catch any regressions. The workaround itself will be used and tested in an upcoming PR, where hex-game will create its own temporary chains.\r\n\r\n\r\n## Links\r\n\r\n- This is a partial workaround for https://github.com/linera-io/linera-protocol/issues/2362\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2377/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2376", "id": 2467696334, "node_id": "PR_kwDOGjZjtc54cshq", "number": 2376, "title": "open_chain returns the message ID.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-15T09:06:32Z", "updated_at": "2024-08-15T12:39:49Z", "closed_at": "2024-08-15T11:07:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2376", "html_url": "https://github.com/linera-io/linera-protocol/pull/2376", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2376.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2376.patch", "merged_at": "2024-08-15T11:07:18Z"}, "body": "## Motivation\r\n\r\nThe `open_chain` method allows contracts to create new chains. It returns the new chain ID. To assign a key to the new chain and add it to their wallet, users need the _message ID_, however.\r\n\r\n## Proposal\r\n\r\nReturn both the message ID and the chain ID.\r\n\r\n## Test Plan\r\n\r\nThe test was extended.\r\nThis will also be used in the hex-game example soon.\r\n\r\n## Release Plan\r\n\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n- Need to update the developer manual.\r\n\r\n## Links\r\n\r\n- #2326 \r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2376/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2375", "id": 2466400074, "node_id": "PR_kwDOGjZjtc54Y0PE", "number": 2375, "title": "Replace Bytecode with Blobs", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-08-14T17:17:13Z", "updated_at": "2024-08-27T00:49:34Z", "closed_at": "2024-08-27T00:49:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2375", "html_url": "https://github.com/linera-io/linera-protocol/pull/2375", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2375.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2375.patch", "merged_at": "2024-08-27T00:49:33Z"}, "body": "## Motivation\n\nNow that we have blobs, there are several follow ups we can do.\n\n## Proposal\n\nThis PR replaces Bytecode with Blobs. This will clean up a lot of code and also make our blocks smaller when publishing Bytecodes. Fixes #2149 #2199\n\n## Test Plan\n\nCI\nSome tests had to be altered since we don't have to subscribe to get bytecodes anymore, and also the `ApplicationId` format has changed with this.", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2375/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2374", "id": 2465889731, "node_id": "PR_kwDOGjZjtc54XOOE", "number": 2374, "title": "Remove `anyhow` from `linera-client`", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-14T13:46:15Z", "updated_at": "2024-08-15T15:30:44Z", "closed_at": "2024-08-15T15:30:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2374", "html_url": "https://github.com/linera-io/linera-protocol/pull/2374", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2374.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2374.patch", "merged_at": "2024-08-15T15:30:44Z"}, "body": "## Motivation\r\n\r\nNow that `linera-client` is a library, it shouldn't be using `anyhow` for its errors, since we'd like to give the caller more control over error-handling.  In particular, [`anyhow::Error`](https://docs.rs/anyhow/latest/anyhow/struct.Error.html) can't be represented as a [`JsError`](https://docs.rs/wasm-bindgen/latest/wasm_bindgen/struct.JsError.html) (since it doesn't implement [`std::error::Error`](https://doc.rust-lang.org/std/error/trait.Error.html), [for coherence reasons](https://github.com/dtolnay/anyhow/issues/25)), so we can't raise `anyhow::Error` to JavaScript.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nReplace `anyhow` with concrete [`thiserror`](https://crates.io/crates/thiserror) error types in `linera-client`.  Where we want to track error context, e.g. where errors occur in the process of handling other errors, introduce [`thiserror-context`](https://crates.io/crates/thiserror-context).\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nThis is a backwards-incompatible API change for `linera-client`, so should cause a major version bump.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2374/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2369", "id": 2459147927, "node_id": "PR_kwDOGjZjtc54AxK2", "number": 2369, "title": "Support `user_data` option in `transfer` cli ", "user": {"login": "duguorong009", "id": 80258679, "node_id": "MDQ6VXNlcjgwMjU4Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/80258679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguorong009", "html_url": "https://github.com/duguorong009", "followers_url": "https://api.github.com/users/duguorong009/followers", "following_url": "https://api.github.com/users/duguorong009/following{/other_user}", "gists_url": "https://api.github.com/users/duguorong009/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguorong009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguorong009/subscriptions", "organizations_url": "https://api.github.com/users/duguorong009/orgs", "repos_url": "https://api.github.com/users/duguorong009/repos", "events_url": "https://api.github.com/users/duguorong009/events{/privacy}", "received_events_url": "https://api.github.com/users/duguorong009/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-08-10T16:05:27Z", "updated_at": "2024-08-12T12:42:28Z", "closed_at": "2024-08-12T12:25:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2369", "html_url": "https://github.com/linera-io/linera-protocol/pull/2369", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2369.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2369.patch", "merged_at": "2024-08-12T12:25:58Z"}, "body": "## Motivation\r\nResolve #2335  \r\n\r\n## Proposal\r\n- Add the `user_data` option/arg to `transfer` cli command \r\n\r\n## Test Plan\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2369/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2368", "id": 2458761755, "node_id": "PR_kwDOGjZjtc53_hsh", "number": 2368, "title": "Ensure only data blobs are present in SDK/System API calls", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-09T22:52:12Z", "updated_at": "2024-08-13T22:47:59Z", "closed_at": "2024-08-13T22:47:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2368", "html_url": "https://github.com/linera-io/linera-protocol/pull/2368", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2368.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2368.patch", "merged_at": "2024-08-13T22:47:58Z"}, "body": "## Motivation\n\nWe don't want `BlobId` exposed to the SDK. Users will only be aware of `Data` blobs, the other types will be only internally used.\n\n## Proposal\n\nOnly expose `Data` blobs to the SDK, and assume when dealing with blobs that it's a `Data` blob. Because of that we don't need to use `BlobId` everywhere, and can just use the hash of the `Data` blob in most places.\n\n## Test Plan\n\nCI + also retested the NFT UI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2368/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2367", "id": 2458394434, "node_id": "PR_kwDOGjZjtc53-Swu", "number": 2367, "title": "Update the `Cargo.lock`", "user": {"login": "duguorong009", "id": 80258679, "node_id": "MDQ6VXNlcjgwMjU4Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/80258679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguorong009", "html_url": "https://github.com/duguorong009", "followers_url": "https://api.github.com/users/duguorong009/followers", "following_url": "https://api.github.com/users/duguorong009/following{/other_user}", "gists_url": "https://api.github.com/users/duguorong009/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguorong009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguorong009/subscriptions", "organizations_url": "https://api.github.com/users/duguorong009/orgs", "repos_url": "https://api.github.com/users/duguorong009/repos", "events_url": "https://api.github.com/users/duguorong009/events{/privacy}", "received_events_url": "https://api.github.com/users/duguorong009/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-09T17:50:18Z", "updated_at": "2024-08-13T18:41:08Z", "closed_at": "2024-08-10T09:27:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2367", "html_url": "https://github.com/linera-io/linera-protocol/pull/2367", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2367.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2367.patch", "merged_at": "2024-08-10T09:27:30Z"}, "body": "## Motivation\r\n- Inspired from https://github.com/linera-io/linera-protocol/pull/2364#pullrequestreview-2229821653\r\n\r\n## Proposal\r\n- Update not only `clap`, `clap-markdown`, but also other crates\r\n- Rebuild the `CLI.md`\r\n\r\n## Test Plan\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2367/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2366", "id": 2456576017, "node_id": "PR_kwDOGjZjtc534TDw", "number": 2366, "title": "Replace async locks by sync locks for `KeyValueStoreView` and `ReentrantCollectionView`.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-08T20:31:31Z", "updated_at": "2024-10-02T14:49:17Z", "closed_at": "2024-08-13T16:13:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2366", "html_url": "https://github.com/linera-io/linera-protocol/pull/2366", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2366.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2366.patch", "merged_at": "2024-08-13T16:13:32Z"}, "body": "## Motivation\r\n\r\nIt is preferable to use sync locks for memory access when possible.\r\n\r\n## Proposal\r\n\r\nFor the `KeyValueStoreView` the work is very similar to the for `HashableWrapper`.\r\n\r\nFor the `ReentrantCollectionView` the mutex is eliminated. However, a way to remove the inner async `RwLock` could not be found.\r\n\r\n## Test Plan\r\n\r\nThe compilation and the CI.\r\n\r\n## Release Plan\r\n\r\nNit relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2366/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2365", "id": 2456560368, "node_id": "PR_kwDOGjZjtc534Pnf", "number": 2365, "title": "Correct an issue for the memory-storage-service.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-08T20:21:54Z", "updated_at": "2024-10-02T15:01:31Z", "closed_at": "2024-08-13T16:12:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2365", "html_url": "https://github.com/linera-io/linera-protocol/pull/2365", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2365.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2365.patch", "merged_at": "2024-08-13T16:12:09Z"}, "body": "## Motivation\r\n\r\nA typo in the input prevents the use of RocksDb for the linera-storage-service.\r\n\r\n## Proposal\r\n\r\nThe problem is addressed directly.\r\n\r\n## Test Plan\r\n\r\nIt has been tested locally that after the correction, the storage-service works with RocksDb.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2365/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2364", "id": 2456273488, "node_id": "PR_kwDOGjZjtc533QOi", "number": 2364, "title": "feat: use \"serde_json\" for \"BlobType\" string conversion", "user": {"login": "duguorong009", "id": 80258679, "node_id": "MDQ6VXNlcjgwMjU4Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/80258679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguorong009", "html_url": "https://github.com/duguorong009", "followers_url": "https://api.github.com/users/duguorong009/followers", "following_url": "https://api.github.com/users/duguorong009/following{/other_user}", "gists_url": "https://api.github.com/users/duguorong009/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguorong009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguorong009/subscriptions", "organizations_url": "https://api.github.com/users/duguorong009/orgs", "repos_url": "https://api.github.com/users/duguorong009/repos", "events_url": "https://api.github.com/users/duguorong009/events{/privacy}", "received_events_url": "https://api.github.com/users/duguorong009/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-08-08T17:14:10Z", "updated_at": "2024-08-09T17:45:08Z", "closed_at": "2024-08-09T17:05:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2364", "html_url": "https://github.com/linera-io/linera-protocol/pull/2364", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2364.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2364.patch", "merged_at": "2024-08-09T17:05:38Z"}, "body": "## Motivation\r\nResolve #2358 \r\n\r\n## Proposal\r\nUse the `serde_json::to_string()/from_str()` for `BlobType` string conversion.\r\n\r\n## Test Plan\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2364/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2363", "id": 2455853846, "node_id": "PR_kwDOGjZjtc531zKd", "number": 2363, "title": "Add TODO comments for two bugs.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-08T13:43:57Z", "updated_at": "2024-08-08T15:33:56Z", "closed_at": "2024-08-08T15:33:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2363", "html_url": "https://github.com/linera-io/linera-protocol/pull/2363", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2363.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2363.patch", "merged_at": "2024-08-08T15:33:53Z"}, "body": "## Motivation\r\n\r\nThese two bugs should get resolved when https://github.com/linera-io/linera-protocol/issues/2167 and https://github.com/linera-io/linera-protocol/issues/365 are implemented.\r\n\r\n## Proposal\r\n\r\nAdd TODOs in the code.\r\n\r\n## Test Plan\r\n\r\nOnly comments were added.\r\n\r\n## Links\r\n\r\n- The bugs: https://github.com/linera-io/linera-protocol/issues/2351, https://github.com/linera-io/linera-protocol/issues/2362\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2363/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2356", "id": 2451487310, "node_id": "PR_kwDOGjZjtc53mp-H", "number": 2356, "title": "Check if blob exists before minting NFT", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-06T18:44:52Z", "updated_at": "2024-08-09T18:14:37Z", "closed_at": "2024-08-09T18:14:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2356", "html_url": "https://github.com/linera-io/linera-protocol/pull/2356", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2356.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2356.patch", "merged_at": "2024-08-09T18:14:35Z"}, "body": "## Motivation\n\nThis is a follow up suggested on #2354\n\n## Proposal\n\nCheck if the `Blob` exists before actually minting the NFT\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2356/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2355", "id": 2451128748, "node_id": "PR_kwDOGjZjtc53lb6e", "number": 2355, "title": "Align NFT UI with using blobs", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-08-06T15:09:53Z", "updated_at": "2024-08-08T15:05:35Z", "closed_at": "2024-08-08T15:05:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2355", "html_url": "https://github.com/linera-io/linera-protocol/pull/2355", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2355.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2355.patch", "merged_at": "2024-08-08T15:05:33Z"}, "body": "## Motivation\n\nUI is now outdated since we're not using Blobs on the NFT example\n\n## Proposal\n\nUpdate UI to also use blobs\n\n## Test Plan\n\n\n\n<div class='graphite__hidden'>\n          <div>\ud83c\udfa5 Video uploaded on Graphite:</div>\n            <a href=\"https://app.graphite.dev/media/video/HlciHFAoHZW62zn13apJ/86647f85-e5e0-4c14-b9a5-4bbd39e16443.mov\">\n              <img src=\"https://app.graphite.dev/api/v1/graphite/video/thumbnail/HlciHFAoHZW62zn13apJ/86647f85-e5e0-4c14-b9a5-4bbd39e16443.mov\">\n            </a>\n          </div>\n<video src=\"https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/HlciHFAoHZW62zn13apJ/86647f85-e5e0-4c14-b9a5-4bbd39e16443.mov\">Screen Recording 2024-08-06 at 12.08.07.mov</video>\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2355/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2354", "id": 2451071907, "node_id": "PR_kwDOGjZjtc53lPe9", "number": 2354, "title": "Add blobs to NFT example", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-08-06T14:43:58Z", "updated_at": "2024-08-06T18:45:08Z", "closed_at": "2024-08-06T18:09:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2354", "html_url": "https://github.com/linera-io/linera-protocol/pull/2354", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2354.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2354.patch", "merged_at": "2024-08-06T18:09:34Z"}, "body": "## Motivation\n\nRight now we just have the NFT's image \"payload\" (the bytes of the image) loaded in the example app's state.\n\n## Proposal\n\nLet's use blobs instead for that\n\n## Test Plan\n\ne2e test was modified to work with blobs\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2354/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2353", "id": 2450762745, "node_id": "PR_kwDOGjZjtc53kLDx", "number": 2353, "title": "Rename IncomingMessage to IncomingBundle.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-06T12:28:07Z", "updated_at": "2024-08-06T13:16:01Z", "closed_at": "2024-08-06T13:15:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2353", "html_url": "https://github.com/linera-io/linera-protocol/pull/2353", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2353.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2353.patch", "merged_at": "2024-08-06T13:15:57Z"}, "body": "## Motivation\r\n\r\nAfter https://github.com/linera-io/linera-protocol/issues/1475, what is currently the `IncomingMessage` type will contain a whole _bundle_ of messages, that have to be either all accepted or rejected.\r\n\r\n## Proposal\r\n\r\nTo reduce the diff when implementing https://github.com/linera-io/linera-protocol/issues/1475, already rename `IncomingMessage` to `IncomingBundle`, even though it's currently still only one message.\r\n\r\n## Test Plan\r\n\r\nOnly renaming.\r\n\r\n## Links\r\n\r\n- Preparation for https://github.com/linera-io/linera-protocol/issues/1475\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2353/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2352", "id": 2450755579, "node_id": "PR_kwDOGjZjtc53kJdR", "number": 2352, "title": "Don't use individual message IDs in linera-sdk testing.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-06T12:24:38Z", "updated_at": "2024-08-07T08:21:09Z", "closed_at": "2024-08-07T08:21:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2352", "html_url": "https://github.com/linera-io/linera-protocol/pull/2352", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2352.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2352.patch", "merged_at": "2024-08-07T08:21:06Z"}, "body": "## Motivation\r\n\r\nAfter https://github.com/linera-io/linera-protocol/issues/1475, we won't be able to accept or reject messages individually anymore, only whole message _bundles_. The linera-sdk tests currently handle messages individually, by ID.\r\n\r\n## Proposal\r\n\r\nUse messages from a whole certificate instead. Return the certificate from `try_sign`.\r\n\r\n## Test Plan\r\n\r\nThe existing tests should catch regressions.\r\n\r\n## Links\r\n\r\n- Preparation for https://github.com/linera-io/linera-protocol/issues/1475\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2352/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2350", "id": 2448796059, "node_id": "PR_kwDOGjZjtc53dbEM", "number": 2350, "title": "Fix schema_export: create namespace before using it.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-05T15:08:27Z", "updated_at": "2024-08-05T18:36:57Z", "closed_at": "2024-08-05T17:12:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2350", "html_url": "https://github.com/linera-io/linera-protocol/pull/2350", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2350.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2350.patch", "merged_at": "2024-08-05T17:12:51Z"}, "body": "## Motivation\r\n\r\n`cargo run --locked --bin linera-schema-export` fails with:\r\n\r\n```\r\nthread 'main' panicked at linera-service/src/schema_export.rs:168:10:\r\nstorage: NotExistentNamespace\r\n```\r\n\r\n## Proposal\r\n\r\nCall `MemoryStorage::initialize` instead of `MemoryStorage::new`, to create the namespace.\r\n\r\n## Test Plan\r\n\r\nWith this change, `linera-schema-export` works for me locally.\r\n\r\n## Links\r\n\r\n- Possibly related: https://github.com/linera-io/linera-protocol/pull/2316\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2350/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2349", "id": 2448759075, "node_id": "PR_kwDOGjZjtc53dS8W", "number": 2349, "title": "Some leftover renames after BlobContent", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-08-05T14:52:57Z", "updated_at": "2024-08-05T19:20:32Z", "closed_at": "2024-08-05T19:20:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2349", "html_url": "https://github.com/linera-io/linera-protocol/pull/2349", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2349.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2349.patch", "merged_at": "2024-08-05T19:20:30Z"}, "body": "## Motivation\n\nWe renamed this in a previous PR, but some names were still incorrect\n\n## Proposal\n\nUse blob content wherever is appropriate \n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2349/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2348", "id": 2448635457, "node_id": "PR_kwDOGjZjtc53c37G", "number": 2348, "title": "Implement the `root_key` for the stores.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-05T13:58:41Z", "updated_at": "2024-10-02T15:02:45Z", "closed_at": "2024-08-19T14:15:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2348", "html_url": "https://github.com/linera-io/linera-protocol/pull/2348", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2348.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2348.patch", "merged_at": "2024-08-19T14:15:28Z"}, "body": "## Motivation\r\n\r\nThe keys that we are using are very long and the prefix can be very long and unwieldy. As a consequence, the notion of `root_key` is introduced to the `AdminKeyValueStore`. This ends up simplifying the code\r\n\r\nThis addresses issues #1069, $2252, #2253 and #2254.\r\n\r\n## Proposal\r\n\r\nThe work is done on the trait and the consequences are done everywhere.\r\n\r\nGeneral changes related to the traits and `ContextFromDb`.\r\n* The `root_key` was introduced for the `connect` operation of a`AdminKeyValueStore`. The `root_key` is part of the construction of a `KeyValueStore`.\r\n* The function `clone_with_root_key` is introduced to the `AdminKeyValueStore`. It takes an existing store and creates a new one that contains a new `root_key`.\r\n* The name `base_key` is kept and `root_key` is added. \"Root\" feels like underground while \"base\" feels like ground level which implies that the rest (of the key that is) is above it.\r\n* The `clear_journal` and the `write_journal` are no longer taking a `base_key`. For journaling operations, the internal `root_key` is used.\r\n* The creation of a context no longer takes a `base_key` as an argument. That is a newly created context has a `base_key` equal to `[]` which gets expanded as the view has some substructures.\r\n\r\nSpecific design for individual stores:\r\n* The `CacheSize` trait is introduced for the `Config` type of the `AdminKeyValueStore`. It allows to make the `LruCachingStore` supports the `AdminKeyValueStore`. However, we cannot use this feature because the `Metering` introduces some extra dependency, so we are forced to have the usual nested construction. So, maybe we should eventually remove the `CacheSize`.\r\n* For the `LineraStorageService` there is no gain as the key are appended in the form of `namespace + root_key + key`. In further work, optimization will be done on that aspect.\r\n* For the `RocksDbStore` we are forced to introduce a global variable `ROCKSDB_STORES` that keeps track of the opened stores with respect to the `(namespace,root_key)`. If we do not do that then we have problems with two `clone_with_root_key` creating two opened stores on the same directory which fails (the failing test being `test_timeouts`).\r\n* For the `ScyllaDbStore` the root_key takes the place of the `dummy` key and allows using the partition key. Note that the keys need to have non-zero length so a prefix 0 is added.\r\n* For the `DynamoDbStore` the root_key takes the place of the `DUMMY_PARTITION_KEY`. Again this makes a good partition key and a prefix 0 has to be added.\r\n* For the `MemoryStore` we use the global variables for storing them according to `(namespace,root_key)`. This means that operations on the stores require a single lock operation.\r\n* For the `IndexedDb` store, the operation is done with a concatenation of key with `root_key + key`. Possibly better work can be done on that part.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2348/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2347", "id": 2446410462, "node_id": "PR_kwDOGjZjtc53VV5h", "number": 2347, "title": "`linera-version`: use a committed cache of the API hashes", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-03T15:29:33Z", "updated_at": "2024-08-03T16:31:17Z", "closed_at": "2024-08-03T16:31:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2347", "html_url": "https://github.com/linera-io/linera-protocol/pull/2347", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2347.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2347.patch", "merged_at": "2024-08-03T16:31:17Z"}, "body": "## Motivation\r\n\r\nCurrently `linera-service --version` is broken on installations resulting from `cargo install linera-service`.  This is because the information we need to generate the API hashes (from `linera-rpc`, `linera-sdk`, and `linera-service-graphql-client`) isn't necessarily available at build time, these crates not being dependencies of `linera-service`.\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nInstead, compute the hashes at commit-time, except for the git commit hash, which would be computationally difficult to commit to git.  The git commit hash can instead be read from a special-purpose file `.cargo_vcs_info.json` added to the packaged crate by `cargo publish` at publish time.\r\n\r\nAlso, add a test to CI that ensures that file is up-to-date.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nI have tested locally by modifying my Cargo cache, and by using the `scripts/test_publish.sh` script.  However, it is hard to test conclusively without performing a real release.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nBugfix.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n- Fixes https://github.com/linera-io/linera-protocol/issues/2147.\r\n- Fixes https://github.com/linera-io/linera-protocol/issues/2002.", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2347/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2346", "id": 2445790668, "node_id": "PR_kwDOGjZjtc53TTRp", "number": 2346, "title": "Remove python HTTP server from LLM example README", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179854, "node_id": "LA_kwDOGjZjtc7Z3Z5O", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-08-02T21:34:58Z", "updated_at": "2024-08-03T00:07:01Z", "closed_at": "2024-08-03T00:07:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2346", "html_url": "https://github.com/linera-io/linera-protocol/pull/2346", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2346.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2346.patch", "merged_at": "2024-08-03T00:07:01Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nSince #2258, the model is no longer downloaded from a local server. Unfortunately the README was not updated to reflect that.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nUpdate the README file to remove the mention of setting up a local HTTP server with the models.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nCI should catch any issues with the README file.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this only changes the README file.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2346/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2345", "id": 2442985831, "node_id": "PR_kwDOGjZjtc53JkQX", "number": 2345, "title": "Blob->BlobContent HashedBlob->Blob", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-01T17:24:07Z", "updated_at": "2024-08-02T16:40:34Z", "closed_at": "2024-08-02T16:40:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2345", "html_url": "https://github.com/linera-io/linera-protocol/pull/2345", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2345.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2345.patch", "merged_at": "2024-08-02T16:40:33Z"}, "body": "## Motivation\n\n`HashedBlob` isn't really a hashed blob anymore, as the `BlobId` now has more than just the hash.\n\n## Proposal\n\nChange `Blob` to be `BlobContent`, and change `HashedBlob` to `Blob`. Hopefully this makes the code a bit less confusing.\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2345/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2343", "id": 2442490868, "node_id": "PR_kwDOGjZjtc53H21R", "number": 2343, "title": "Execute messages from the same transaction to the same destination atomically.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-01T13:36:02Z", "updated_at": "2024-08-14T15:21:38Z", "closed_at": "2024-08-14T15:01:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2343", "html_url": "https://github.com/linera-io/linera-protocol/pull/2343", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2343.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2343.patch", "merged_at": "2024-08-14T15:01:40Z"}, "body": "## Motivation\r\n\r\nCurrently if a transaction sends multiple messages to the same destination, the recipient can reject some and accept others. In many use cases that's not desirable.\r\n\r\nE.g. imagine an exchange application (like the AMM or matching engine examples) that uses the fungible application so users can swap tokens. When a user deposits tokens, that is done via a fungible app message. Along with that we'd send an exchange app message that contains information about the order (e.g. the price). Once this feature is implemented, the exchange application will know that whenever it receives such a message, a corresponding fungible app message has also been received on the same chain, so the tokens in question are already here.\r\n\r\n## Proposal\r\n\r\nReplace `Event` with `MessageBundle`, which contains a complete list of messages created by one one transaction that go to one destination. A `MessageAction` (reject or accept) now applies to a whole bundle, and the bundle itself is treated as a transaction again. That means if executing different messages from the bundle causes multiple messages to a particular destination, these messages are again collected in a single bundle.\r\n\r\n## Test Plan\r\n\r\nThere is now only one `MessageAction` per bundle, so a block that accepts some and rejects other messages from the same bundle can't be constructed.\r\n\r\nThe existing tests should catch regressions.\r\n\r\n## Release Plan\r\n\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n- Need to update the developer manual.\r\n\r\n## Links\r\n\r\n- Closes https://github.com/linera-io/linera-protocol/issues/1475\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2343/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2342", "id": 2441481790, "node_id": "PR_kwDOGjZjtc53EXVk", "number": 2342, "title": "Several memory store refactorings.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-01T05:04:25Z", "updated_at": "2024-10-02T15:06:21Z", "closed_at": "2024-08-03T09:01:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2342", "html_url": "https://github.com/linera-io/linera-protocol/pull/2342", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2342.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2342.patch", "merged_at": "2024-08-03T09:01:11Z"}, "body": "## Motivation\r\n\r\nThe work on the global memory store revealed some issues with the memory context/store. They are here addressed separately.\r\n\r\n## Proposal\r\n\r\nThe following was done:\r\n* Renaming `TestMemoryStoreInternal` as `LimitedMemoryStore`.\r\n* Eliminate `TestMemoryStore`.\r\n* Rename `create_memory_store` as `create_test_memory_store` and same for `context`.\r\n* Put `create_test_memory_context/store` under a `#[cfg(with_testing)]` which forces some changes in two `Cargo.toml` files.\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n## Release Plan\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2342/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2339", "id": 2440341703, "node_id": "PR_kwDOGjZjtc53AsX_", "number": 2339, "title": "Replace async locks by sync locks in `HashableWrapper` and `LruCachingStore`.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-31T15:30:53Z", "updated_at": "2024-10-02T15:04:20Z", "closed_at": "2024-08-03T08:21:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2339", "html_url": "https://github.com/linera-io/linera-protocol/pull/2339", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2339.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2339.patch", "merged_at": "2024-08-03T08:21:17Z"}, "body": "## Motivation\r\n\r\nThe async locks are not adequate for the locking of memory resources. It is preferable to simply wait for the memory to be released.\r\n\r\n## Proposal\r\n\r\nThe following is done:\r\n* The `Mutex` in `hashable_wrapper` is replaced from async_lock to sync lock.\r\n* The same is done for the Lru caching. This requires eliminating the drop and replacing it with scopes.\r\n\r\nThe next steps are doing the same for `ReentrantCollectionView` and `KeyValueStoreView`.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2339/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2337", "id": 2440260672, "node_id": "PR_kwDOGjZjtc53Aa4N", "number": 2337, "title": "Workaround `cargo-local-registry` installation issue in CI", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4856244298, "node_id": "LA_kwDOGjZjtc8AAAABIXRoSg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/chore", "name": "chore", "color": "08717B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-07-31T14:52:46Z", "updated_at": "2024-07-31T16:27:00Z", "closed_at": "2024-07-31T16:24:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2337", "html_url": "https://github.com/linera-io/linera-protocol/pull/2337", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2337.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2337.patch", "merged_at": "2024-07-31T16:24:13Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nInstallation of [`cargo-local-registry`](https://github.com/dhovart/cargo-local-registry) is currently failing in CI ([e.g.](https://github.com/linera-io/linera-protocol/actions/runs/10172900962/job/28136159315)). This is an issue upstream, and should be solved on the next release.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nWhile a new version isn't released, pin the version used to a newer commit that fixes the issue.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nManually triggered a CI run to ensure it works: https://github.com/linera-io/linera-protocol/actions/runs/10182832759/job/28166341536\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this only affects CI.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2337/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2334", "id": 2439824675, "node_id": "PR_kwDOGjZjtc52-6t2", "number": 2334, "title": "Introduce micro-benchmarks for the stores.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-31T11:33:13Z", "updated_at": "2024-10-02T14:48:23Z", "closed_at": "2024-08-20T14:17:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2334", "html_url": "https://github.com/linera-io/linera-protocol/pull/2334", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2334.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2334.patch", "merged_at": "2024-08-20T14:17:36Z"}, "body": "## Motivation\r\n\r\nThe microbenchmarks allow measurements of simple operations of the stores.\r\n\r\n\r\n## Proposal\r\n\r\nThe code was implemented by using the `KeyValueStore` template function.\r\nIt reveals the following:\r\n* The `join` operation for RocksDb is less efficient than simple iterating, which is expected.\r\n* The grouping of operations (e.g. `read_value_bytes` -> `read_multi_values_bytes`) gets worse performance for the `memory`store.\r\n\r\n## Test Plan\r\n\r\nNot relevant.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2334/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2333", "id": 2438915514, "node_id": "PR_kwDOGjZjtc527zah", "number": 2333, "title": "Tweak chain race warning", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179854, "node_id": "LA_kwDOGjZjtc7Z3Z5O", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-07-31T01:16:13Z", "updated_at": "2024-07-31T12:20:31Z", "closed_at": "2024-07-31T02:12:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2333", "html_url": "https://github.com/linera-io/linera-protocol/pull/2333", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2333.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2333.patch", "merged_at": "2024-07-31T02:12:05Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nI mixed up PRs and merged #2330 before doing a final tweak to the documentation.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nRephrase the warning so that it's clearer to read\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nNothing needed, because this only affects documentation.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this only affects documentation.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2333/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2332", "id": 2438556737, "node_id": "PR_kwDOGjZjtc526lzI", "number": 2332, "title": "Tweak the README of the Gen-NFT example", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3655179854, "node_id": "LA_kwDOGjZjtc7Z3Z5O", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-07-30T19:44:52Z", "updated_at": "2024-07-31T12:21:17Z", "closed_at": "2024-07-31T02:11:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2332", "html_url": "https://github.com/linera-io/linera-protocol/pull/2332", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2332.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2332.patch", "merged_at": "2024-07-31T02:11:43Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nThe README file for the Generative Non-Fungible Token example does not provide much information focused on its AI aspect. Most of the information present is very similar to the information already present on the NFT example's README.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nRephrase the initial description of the README file, providing more focus on the differences between this application and the NFT application, as well as providing more details on how AI is used.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nNothing needed, because only documentation is affected.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because only documentation is affected.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2332/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2330", "id": 2438156097, "node_id": "PR_kwDOGjZjtc525Ovt", "number": 2330, "title": "Remove chain guards", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4754403100, "node_id": "LA_kwDOGjZjtc8AAAABG2JvHA", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/refactor", "name": "refactor", "color": "1D216D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 1, "created_at": "2024-07-30T15:48:13Z", "updated_at": "2024-07-31T01:10:16Z", "closed_at": "2024-07-31T00:50:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2330", "html_url": "https://github.com/linera-io/linera-protocol/pull/2330", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2330.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2330.patch", "merged_at": "2024-07-31T00:50:45Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nChain guards were originally used to synchronize access to chain states in storage. With the chain workers (#2135), that is no longer needed.\r\n\r\nHowever, without the chain guards, there's a future risk of concurrent chain access, which could in the worst case lead to data corruption.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nRemove the chain guards, and add a CI check for chain load operations to mitigate the future risk of code changes introducing data races.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nRan the CI script manually, and checked that it succeeds if everything is as expected and fails if there are any new unexpected chain load operations.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this is an internal refactor/cleanup.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2330/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2329", "id": 2438082915, "node_id": "PR_kwDOGjZjtc524-vB", "number": 2329, "title": "Make HashedBlob's fields private", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-07-30T15:11:51Z", "updated_at": "2024-08-01T17:24:24Z", "closed_at": "2024-07-31T21:27:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2329", "html_url": "https://github.com/linera-io/linera-protocol/pull/2329", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2329.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2329.patch", "merged_at": "2024-07-31T21:27:01Z"}, "body": "## Motivation\n\nThe `HashedBlob` type should guarantee that, unless you use a function containing `unchecked`, the hash in the ID always matches the content.\n\n## Proposal\n\nMake `HashedBlob` fields private\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2329/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2327", "id": 2437949760, "node_id": "PR_kwDOGjZjtc524hSg", "number": 2327, "title": "Add open_chain to runtime.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-30T14:13:45Z", "updated_at": "2024-07-30T15:10:40Z", "closed_at": "2024-07-30T15:10:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2327", "html_url": "https://github.com/linera-io/linera-protocol/pull/2327", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2327.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2327.patch", "merged_at": "2024-07-30T15:10:38Z"}, "body": "## Motivation\r\n\r\nIn https://github.com/linera-io/linera-protocol/pull/1720, `open_chain` was added to the system API, but not the contract runtime.\r\n\r\n## Proposal\r\n\r\nAdd it to the contract runtime, to make it easy to use.\r\n\r\n## Test Plan\r\n\r\nThis will be tested as part of the integration test for the Hex Lobby soon: https://github.com/linera-io/linera-protocol/issues/2326\r\n\r\n## Release Plan\r\n\r\n- Need to bump the major/minor version number in the next release of the crates.\r\n- Need to update the developer manual.\r\n\r\n## Links\r\n\r\n- https://github.com/linera-io/linera-protocol/issues/2326\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2327/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2325", "id": 2437807912, "node_id": "PR_kwDOGjZjtc524B5m", "number": 2325, "title": "Use `chunks_exact` when post-loading multiple entries", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4754403100, "node_id": "LA_kwDOGjZjtc8AAAABG2JvHA", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/refactor", "name": "refactor", "color": "1D216D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-07-30T13:10:51Z", "updated_at": "2024-07-30T15:41:15Z", "closed_at": "2024-07-30T14:43:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2325", "html_url": "https://github.com/linera-io/linera-protocol/pull/2325", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2325.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2325.patch", "merged_at": "2024-07-30T14:43:46Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nWhen loading multiple entries in the `ReentrantCollectionView`, a single read for a batch of keys is issued. The batch is built from the keys for each entry, which means that the result is an array with chunks of values, one chunk for each entry. Accessing the chunks was done through indices, but since there were other usages for positions in different arrays and indices as the entries' keys, it could lead to confusion.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nReplace the index calculations for the array with the batch read results with [`slice::chunks_exact`](https://doc.rust-lang.org/std/primitive.slice.html#method.chunks_exact).\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nNothing needed, because this is an internal refactor and CI should catch any regressions.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this is an internal refactor with no changes visible to users.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2325/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2324", "id": 2437695602, "node_id": "PR_kwDOGjZjtc523o_V", "number": 2324, "title": "Fix subscription race condition in social pub-sub test", "user": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4918041374, "node_id": "LA_kwDOGjZjtc8AAAABJSNbHg", "url": "https://api.github.com/repos/linera-io/linera-protocol/labels/testing", "name": "testing", "color": "D2C777", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "jvff", "id": 3216731, "node_id": "MDQ6VXNlcjMyMTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3216731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvff", "html_url": "https://github.com/jvff", "followers_url": "https://api.github.com/users/jvff/followers", "following_url": "https://api.github.com/users/jvff/following{/other_user}", "gists_url": "https://api.github.com/users/jvff/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvff/subscriptions", "organizations_url": "https://api.github.com/users/jvff/orgs", "repos_url": "https://api.github.com/users/jvff/repos", "events_url": "https://api.github.com/users/jvff/events{/privacy}", "received_events_url": "https://api.github.com/users/jvff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3", "html_url": "https://github.com/linera-io/linera-protocol/milestone/3", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/milestones/3/labels", "id": 8809430, "node_id": "MI_kwDOGjZjtc4AhmvW", "number": 3, "title": "Testnet #1", "description": "", "creator": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 226, "state": "closed", "created_at": "2022-12-31T09:45:47Z", "updated_at": "2025-03-10T11:45:12Z", "due_on": null, "closed_at": "2025-03-10T11:45:12Z"}, "comments": 0, "created_at": "2024-07-30T12:15:58Z", "updated_at": "2024-07-30T13:02:57Z", "closed_at": "2024-07-30T13:01:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2324", "html_url": "https://github.com/linera-io/linera-protocol/pull/2324", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2324.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2324.patch", "merged_at": "2024-07-30T13:01:20Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\nCI was having intermittent failures when running the `test_wasm_end_to_end_social_user_pub_sub` test ([e.g.](https://github.com/linera-io/linera-protocol/actions/runs/10160563243/job/28097195712#step:8:8087)). This was caused by a race condition between the poster and the subscriber, where sometimes the poster would post a message before handling the subscriber's subscription request.\r\n\r\n## Proposal\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\nProcess the inbox of the poster before posting the message. An assertion was also added to check that the poster's node service contains the subscriber's block requesting for the subscription. This increases the chance that it has already produced a block to accept the subscription.\r\n\r\n## Test Plan\r\n\r\n<!-- How to test that the changes are correct. -->\r\nNothing needed, because this only fixes a bug in an existing test.\r\n\r\n## Release Plan\r\n\r\n<!--\r\nHow to safely release the changes.\r\n\r\nPlease only include the relevant items (if any) and create issues to track future release work.\r\n-->\r\nNothing needed, because this only affects tests.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2324/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2323", "id": 2435832190, "node_id": "PR_kwDOGjZjtc52xMih", "number": 2323, "title": "Remove 3 `process_inbox` that are not needed.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T16:16:52Z", "updated_at": "2024-10-02T15:16:04Z", "closed_at": "2024-07-30T10:20:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2323", "html_url": "https://github.com/linera-io/linera-protocol/pull/2323", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2323.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2323.patch", "merged_at": "2024-07-30T10:20:21Z"}, "body": "## Motivation\r\n\r\nWith the advent of the `ProcessInbox::Skip` we can identify some `process_inbox` operations that are not needed.\r\n\r\n## Proposal\r\n\r\nThe following was done:\r\n* 2 process inbox operations related to transfer were removed.\r\n* 1 process inbox related to the matching engine was removed.\r\n* Documentation of `process_inbox` when available was put.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2323/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2322", "id": 2435780213, "node_id": "PR_kwDOGjZjtc52xBOz", "number": 2322, "title": "Don't handle redundant notifications.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T15:51:10Z", "updated_at": "2024-07-29T16:36:15Z", "closed_at": "2024-07-29T16:36:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2322", "html_url": "https://github.com/linera-io/linera-protocol/pull/2322", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2322.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2322.patch", "merged_at": "2024-07-29T16:36:12Z"}, "body": "## Motivation\r\n\r\n`process_notification` checks whether a notification is redundant (e.g. because we already know the new block), logs a debug message and then (as of (#1183)[https://github.com/linera-io/linera-protocol/pull/1183]\u2014my bad!) just continues handling the notification as if it were new.\r\n\r\n## Proposal\r\n\r\nReturn from `process_notification` if the notification isn't new. This should reduce the number of unnecessary chain info requests.\r\n\r\n## Test Plan\r\n\r\nCI should catch any regressions.\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2322/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2321", "id": 2435680092, "node_id": "PR_kwDOGjZjtc52wrKW", "number": 2321, "title": "Make sure certificate last used by a blob is valid", "user": {"login": "ndr-ds", "id": 2917611, "node_id": "MDQ6VXNlcjI5MTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2917611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndr-ds", "html_url": "https://github.com/ndr-ds", "followers_url": "https://api.github.com/users/ndr-ds/followers", "following_url": "https://api.github.com/users/ndr-ds/following{/other_user}", "gists_url": "https://api.github.com/users/ndr-ds/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndr-ds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndr-ds/subscriptions", "organizations_url": "https://api.github.com/users/ndr-ds/orgs", "repos_url": "https://api.github.com/users/ndr-ds/repos", "events_url": "https://api.github.com/users/ndr-ds/events{/privacy}", "received_events_url": "https://api.github.com/users/ndr-ds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-07-29T15:06:51Z", "updated_at": "2024-07-30T12:15:02Z", "closed_at": "2024-07-29T16:52:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2321", "html_url": "https://github.com/linera-io/linera-protocol/pull/2321", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2321.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2321.patch", "merged_at": "2024-07-29T16:52:49Z"}, "body": "## Motivation\n\nThis is a follow up from #2220: https://github.com/linera-io/linera-protocol/pull/2220#discussion_r1694135909\n\n## Proposal\n\nMake sure that the certificates we're getting actually use the blob\n\n## Test Plan\n\nCI\n\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2321/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2320", "id": 2435488323, "node_id": "PR_kwDOGjZjtc52wA0t", "number": 2320, "title": "Minor cleanups in the ChainClient implementation.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T13:48:47Z", "updated_at": "2024-07-29T14:47:03Z", "closed_at": "2024-07-29T14:47:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2320", "html_url": "https://github.com/linera-io/linera-protocol/pull/2320", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2320.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2320.patch", "merged_at": "2024-07-29T14:47:01Z"}, "body": "## Motivation\r\n\r\nMany `ChainClient` methods are undocumented. The test-only `read_blob` is used only twice.\r\n\r\n## Proposal\r\n\r\nAdd documentation, remove `read_blob`. Also use `while let` instead of `loop` where appropriate and add a few trace logs.\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2320/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2319", "id": 2435037813, "node_id": "PR_kwDOGjZjtc52ucbN", "number": 2319, "title": "Add the `multi_get` to the MapView type.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T10:25:42Z", "updated_at": "2024-10-02T15:10:12Z", "closed_at": "2024-07-31T13:48:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2319", "html_url": "https://github.com/linera-io/linera-protocol/pull/2319", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2319.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2319.patch", "merged_at": "2024-07-31T13:48:23Z"}, "body": "## Motivation\r\n\r\nThe `MapView` has a natural usage for the `multi_get` operation. This PR implements it.\r\n\r\n## Proposal\r\n\r\nThe following is done:\r\n* The `multi_get`is introduced\r\n* The `from_bytes_option` is used in order to avoid adding a trait requirement to `V`.\r\n\r\n## Test Plan\r\n\r\nThe test is added to the random test\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2319/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2318", "id": 2434995120, "node_id": "PR_kwDOGjZjtc52uS81", "number": 2318, "title": "`flake.lock`: update to enable Rust 1.80", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T10:04:36Z", "updated_at": "2024-07-29T10:48:21Z", "closed_at": "2024-07-29T10:48:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2318", "html_url": "https://github.com/linera-io/linera-protocol/pull/2318", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2318.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2318.patch", "merged_at": "2024-07-29T10:48:21Z"}, "body": "## Motivation\r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\nCurrently our Nix environment doesn't include Rust 1.80, so builds using Nix (e.g. on GitPod) will fail.\r\n\r\n## Proposal\r\n\r\nBump our Nix flake to include Rust 1.80 in our Nix environment.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nTested locally.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nNo special handling required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2318/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2317", "id": 2434928187, "node_id": "PR_kwDOGjZjtc52uEB9", "number": 2317, "title": "Upgrade to Rust 1.80.0, remove linera_base::sync.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-29T09:33:54Z", "updated_at": "2024-07-29T12:07:39Z", "closed_at": "2024-07-29T12:07:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2317", "html_url": "https://github.com/linera-io/linera-protocol/pull/2317", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2317.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2317.patch", "merged_at": "2024-07-29T12:07:34Z"}, "body": "## Motivation\r\n\r\nRust 1.80.0 stabilizes `LazyLock`, which makes `linera_base::sync` obsolete.\r\n\r\n## Proposal\r\n\r\nUpgrade and remove `linera_base::sync`.\r\n\r\n(linera-explorer still uses the once_cell crate for now, because it uses `OnceCell::set`. And the CLI wrappers still use `tokio::sync::OnceCell`.)\r\n\r\n## Test Plan\r\n\r\nCI\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2317/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2316", "id": 2434071510, "node_id": "PR_kwDOGjZjtc52rJ4U", "number": 2316, "title": "Make the memory stores persistent within a run.", "user": {"login": "MathieuDutSik", "id": 2412074, "node_id": "MDQ6VXNlcjI0MTIwNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2412074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDutSik", "html_url": "https://github.com/MathieuDutSik", "followers_url": "https://api.github.com/users/MathieuDutSik/followers", "following_url": "https://api.github.com/users/MathieuDutSik/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDutSik/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDutSik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDutSik/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDutSik/orgs", "repos_url": "https://api.github.com/users/MathieuDutSik/repos", "events_url": "https://api.github.com/users/MathieuDutSik/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDutSik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-07-28T19:08:06Z", "updated_at": "2024-10-02T15:16:51Z", "closed_at": "2024-08-03T16:45:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2316", "html_url": "https://github.com/linera-io/linera-protocol/pull/2316", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2316.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2316.patch", "merged_at": "2024-08-03T16:45:44Z"}, "body": "## Motivation\r\n\r\nThe memory store has the weakness that it does not implement the namespace. Each instance is a specific one.\r\n\r\n## Proposal\r\n\r\nThe following was done:\r\n* A global variable `MEMORY_STORES` for storing the existing memory stores is introduced.\r\n* The implementation uses `std::sync::Mutex` to avoid being async.\r\n* The switch from `read().await` to `read()?` leads to some `PoisonError` being emitted which are converted with relevant `From` operators.\r\n* The `now_or_never` calls are eliminated when the stores are created, which is cleaner. The `async` features of the stores are blanks.\r\n* The `MemoryStore` is now using a `Arc<RwLock<MemoryStoreMap>>` and the `MutexGuard` is eliminated.\r\n* The `admin_test` has been added for the `memory` and the `admin_test` has been strengthened by adding multiple connections to the test.\r\n* The `views_test.rs` code has been streamlined for the `MemoryStore`, `KeyValueStoreView` and `LruMemoryStore` which simplifies the test code.\r\n* The `MemoryStorage` code is changed accordingly.\r\n* The `MemoryStore` if not limited by `[cfg(with_testing)]`. However, the generation of random namespace remains restricted to the testing frameworks.\r\n\r\n## Test Plan\r\n\r\nThe CI.\r\n\r\n## Release Plan\r\n\r\nNot relevant.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2316/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2314", "id": 2433382446, "node_id": "PR_kwDOGjZjtc52o_Cy", "number": 2314, "title": "`linera_core::worker`: don't hold mutexes over `await` points", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-27T09:02:43Z", "updated_at": "2024-07-31T20:19:57Z", "closed_at": "2024-07-31T20:19:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2314", "html_url": "https://github.com/linera-io/linera-protocol/pull/2314", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2314.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2314.patch", "merged_at": "2024-07-31T20:19:57Z"}, "body": "## Motivation\r\n\r\nCurrently the `linera_core::worker` has a pattern in which it takes an async mutex (`futures::lock::Mutex`) and holds it while doing other async work.  This results in deadlocks if the future that holds the mutex is not known and being polled at the same time.  \r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nRestructure `linera_core::worker` so that mutexes are not held over `await` points.  Once this is done, there is no need to use the heavyweight `futures::lock::Mutex`, and we can replace it with the much lighter `std::sync::Mutex`, whose guards also conveniently don't implement `Send` and so will error if accidentally held over an `await` point.\r\n\r\nAlso, add a (static) test to ensure that the future returned from `ChainClient::listen` (with memory storage and the test provider) is `Send`, ensuring that even if we remove `tokio::spawn` calls later on, we will still catch this failure case. \r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCI.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nInternal refactor: no particular care required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [the `tokio` project's advice on this code structure](https://tokio.rs/tokio/tutorial/shared-state)\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2314/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2313", "id": 2432553249, "node_id": "PR_kwDOGjZjtc52mQFL", "number": 2313, "title": "`linera_base::tracing`: don't try to guess when the caller wants JSON", "user": {"login": "Twey", "id": 101639, "node_id": "MDQ6VXNlcjEwMTYzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Twey", "html_url": "https://github.com/Twey", "followers_url": "https://api.github.com/users/Twey/followers", "following_url": "https://api.github.com/users/Twey/following{/other_user}", "gists_url": "https://api.github.com/users/Twey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Twey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Twey/subscriptions", "organizations_url": "https://api.github.com/users/Twey/orgs", "repos_url": "https://api.github.com/users/Twey/repos", "events_url": "https://api.github.com/users/Twey/events{/privacy}", "received_events_url": "https://api.github.com/users/Twey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-26T16:15:55Z", "updated_at": "2024-07-31T13:06:07Z", "closed_at": "2024-07-31T13:06:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2313", "html_url": "https://github.com/linera-io/linera-protocol/pull/2313", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2313.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2313.patch", "merged_at": "2024-07-31T13:06:07Z"}, "body": "## Motivation\r\n\r\nWe have several places in our code where we effectively nuke the environment, so can't override this behaviour with `RUST_LOG_FORMAT=plain`, but nevertheless still want non-JSON output. \r\n\r\n<!-- Short text indicating what this PR aims to accomplish. -->\r\n\r\n## Proposal\r\n\r\nDon't output JSON when `stderr` is not a terminal, just disable ANSI colouring.\r\n\r\n<!-- What are the proposed changes and why are they appropriate? -->\r\n\r\n## Test Plan\r\n\r\nCheck CI.\r\n\r\n<!-- How to test that the changes are correct. -->\r\n\r\n## Release Plan\r\n\r\nMostly a cosmetic change; no version bump required.\r\n\r\n## Links\r\n\r\n<!--\r\nOptional section for related PRs, related issues, and other references.\r\n\r\nIf needed, please create issues to track future improvements and link them here.\r\n-->\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2313/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2312", "id": 2431317383, "node_id": "PR_kwDOGjZjtc52iCsO", "number": 2312, "title": "CI: lock dependencies in cargo install", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-26T03:02:59Z", "updated_at": "2024-07-26T20:48:42Z", "closed_at": "2024-07-26T20:48:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2312", "html_url": "https://github.com/linera-io/linera-protocol/pull/2312", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2312.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2312.patch", "merged_at": "2024-07-26T20:48:41Z"}, "body": "## Motivation\r\n\r\nI'm seeing a suspicious failure on main\r\n\r\n## Proposal\r\n\r\nUse `cargo install --locked` for this test\r\n\r\n## Test Plan\r\n\r\nCI\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2312/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2311", "id": 2431283653, "node_id": "PR_kwDOGjZjtc52h7ly", "number": 2311, "title": "fix comment", "user": {"login": "ma2bd", "id": 1105398, "node_id": "MDQ6VXNlcjExMDUzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1105398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ma2bd", "html_url": "https://github.com/ma2bd", "followers_url": "https://api.github.com/users/ma2bd/followers", "following_url": "https://api.github.com/users/ma2bd/following{/other_user}", "gists_url": "https://api.github.com/users/ma2bd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ma2bd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ma2bd/subscriptions", "organizations_url": "https://api.github.com/users/ma2bd/orgs", "repos_url": "https://api.github.com/users/ma2bd/repos", "events_url": "https://api.github.com/users/ma2bd/events{/privacy}", "received_events_url": "https://api.github.com/users/ma2bd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-26T02:19:09Z", "updated_at": "2024-07-26T10:03:12Z", "closed_at": "2024-07-26T10:03:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2311", "html_url": "https://github.com/linera-io/linera-protocol/pull/2311", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2311.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2311.patch", "merged_at": "2024-07-26T10:03:12Z"}, "body": "## Motivation\r\n\r\nFix grammar in comment\r\n\r\n## Proposal\r\n\r\nFix grammar in comment\r\n\r\n--> feel free to land the PR for me <--\r\n\r\n## Test Plan\r\n\r\nCI", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2311/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310", "repository_url": "https://api.github.com/repos/linera-io/linera-protocol", "labels_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310/labels{/name}", "comments_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310/comments", "events_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310/events", "html_url": "https://github.com/linera-io/linera-protocol/pull/2310", "id": 2430561975, "node_id": "PR_kwDOGjZjtc52fg4D", "number": 2310, "title": "Check cargo-rdme for all examples where it applies. Fix gen-nft README.", "user": {"login": "afck", "id": 7894725, "node_id": "MDQ6VXNlcjc4OTQ3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7894725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afck", "html_url": "https://github.com/afck", "followers_url": "https://api.github.com/users/afck/followers", "following_url": "https://api.github.com/users/afck/following{/other_user}", "gists_url": "https://api.github.com/users/afck/gists{/gist_id}", "starred_url": "https://api.github.com/users/afck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afck/subscriptions", "organizations_url": "https://api.github.com/users/afck/orgs", "repos_url": "https://api.github.com/users/afck/repos", "events_url": "https://api.github.com/users/afck/events{/privacy}", "received_events_url": "https://api.github.com/users/afck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-25T16:53:27Z", "updated_at": "2024-07-26T09:04:36Z", "closed_at": "2024-07-26T02:04:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/linera-io/linera-protocol/pulls/2310", "html_url": "https://github.com/linera-io/linera-protocol/pull/2310", "diff_url": "https://github.com/linera-io/linera-protocol/pull/2310.diff", "patch_url": "https://github.com/linera-io/linera-protocol/pull/2310.patch", "merged_at": "2024-07-26T02:04:54Z"}, "body": "## Motivation\r\n\r\n`rust.yml` currently contains a line to check that `cargo-rdme` has been applied to each example, and the `README.md` matches the documentation in `lib.rs`. That line lists each example explicitly, and whenever we add one we have to remember including it here.\r\n\r\nIn fact, we already forgot to do this for `gen-nft`, and its `README.md` is outdated!\r\n\r\n## Proposal\r\n\r\nChange the line so it automatically finds all subdirectories with a `README.md` containing the line `<!-- cargo-rdme start -->`.\r\n\r\nUpdate the `gen-nft` README file.\r\n\r\n## Test Plan\r\n\r\nI ran it locally and it found the outdated `gen-nft` README!\r\n\r\n## Links\r\n\r\n- [reviewer checklist](https://github.com/linera-io/linera-protocol/blob/main/CONTRIBUTING.md#reviewer-checklist)\r\n", "reactions": {"url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/linera-io/linera-protocol/issues/2310/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]