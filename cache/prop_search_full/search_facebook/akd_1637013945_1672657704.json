[{"url": "https://api.github.com/repos/facebook/akd/issues/330", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/330/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/330/events", "html_url": "https://github.com/facebook/akd/pull/330", "id": 1515856707, "node_id": "PR_kwDOFr0TCM5Gddnp", "number": 330, "title": "Bump version to 0.8.4 to re-attempt publish", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-01T21:55:54Z", "updated_at": "2023-01-02T09:45:41Z", "closed_at": "2023-01-02T09:45:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/330", "html_url": "https://github.com/facebook/akd/pull/330", "diff_url": "https://github.com/facebook/akd/pull/330.diff", "patch_url": "https://github.com/facebook/akd/pull/330.patch", "merged_at": "2023-01-02T09:45:37Z"}, "body": "Unfortunately, the workflow to publish the akd v0.8.3 failed after akd_core and akd_client v0.8.3 was published: https://github.com/facebook/akd/actions/runs/3817658498/jobs/6494059254\r\n\r\nWe also have to bump the version number for all crates to attempt a republish, since we cannot overwrite already published crates.\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/330/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/329", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/329/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/329/events", "html_url": "https://github.com/facebook/akd/pull/329", "id": 1515646869, "node_id": "PR_kwDOFr0TCM5GcuSz", "number": 329, "title": "Specify blake3 feature flag when publishing", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-01T15:35:47Z", "updated_at": "2023-01-01T15:43:32Z", "closed_at": "2023-01-01T15:43:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/329", "html_url": "https://github.com/facebook/akd/pull/329", "diff_url": "https://github.com/facebook/akd/pull/329.diff", "patch_url": "https://github.com/facebook/akd/pull/329.patch", "merged_at": "2023-01-01T15:43:31Z"}, "body": "The GH actions run to publish the v0.8.3 crate was failing: https://github.com/facebook/akd/actions/runs/3816632953\r\n\r\nIn #292 we dropped the `blake3` feature flag from the `akd_core` crate's default features. Therefore we now need to specify the feature flag when publishing so that a hash function is included in the build. \r\n\r\nRunning the new command in dry-run mode succeeds locally:\r\n```console\r\n$ cargo publish --dry-run --manifest-path Cargo.toml -p akd_core -F blake3\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/329/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/328", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/328/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/328/events", "html_url": "https://github.com/facebook/akd/pull/328", "id": 1515126633, "node_id": "PR_kwDOFr0TCM5Ga8MZ", "number": 328, "title": "Reduce and cleanup writes to storage during insertion", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-31T14:10:00Z", "updated_at": "2023-01-01T11:25:02Z", "closed_at": "2023-01-01T11:24:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/328", "html_url": "https://github.com/facebook/akd/pull/328", "diff_url": "https://github.com/facebook/akd/pull/328.diff", "patch_url": "https://github.com/facebook/akd/pull/328.patch", "merged_at": "2023-01-01T11:24:58Z"}, "body": "# Overview\r\nNow that node insertion is fully recursive, it's easy to identify the redundant calls writing nodes to storage. While we have a transaction object that make these writes fairly fast, they still result in some contention under parallelism. Furthermore, the inconsistent callsites make it unclear when objects have already been written to storage. This PR cuts out the unnecessary calls.\r\n\r\n# Benchmark\r\nRan the `azks.rs` benchmark, which inserts 100K leaves into a tree with 10K leaves.:\r\n\r\n```console\r\n$ cargo bench -p akd --bench azks -F bench\r\n```\r\n\r\nNote that the benchmark does use a transaction object (as a write cache) as opposed to writing to the DB directly, which is reflective of real-world usage.\r\n\r\n## Main\r\n\r\n<img width=\"478\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/210159110-08defd21-d84b-431f-8192-cd883d77b82a.png\">\r\n\r\n\r\n\r\n## This PR\r\n\r\n<img width=\"478\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/210159115-240dfc8a-1ac1-4b0b-b678-d80c28d49f1d.png\">\r\n\r\nThat's... quite a huge improvement \ud83d\ude00\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/328/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/328/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/326", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/326/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/326/events", "html_url": "https://github.com/facebook/akd/pull/326", "id": 1514944237, "node_id": "PR_kwDOFr0TCM5GaWKm", "number": 326, "title": "Upgrade tokio from 1.10 to 1.21", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-31T01:33:37Z", "updated_at": "2023-01-01T00:38:52Z", "closed_at": "2022-12-31T03:00:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/326", "html_url": "https://github.com/facebook/akd/pull/326", "diff_url": "https://github.com/facebook/akd/pull/326.diff", "patch_url": "https://github.com/facebook/akd/pull/326.patch", "merged_at": "2022-12-31T03:00:01Z"}, "body": "As title, so as to use more recent API and features. I made sure to check all `Cargo.toml` files, and verified that existing feature flags are still valid.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/326/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/325", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/325/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/325/events", "html_url": "https://github.com/facebook/akd/pull/325", "id": 1514931474, "node_id": "PR_kwDOFr0TCM5GaUEP", "number": 325, "title": "Remove reference passing in CTORs", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-31T00:41:45Z", "updated_at": "2022-12-31T01:12:14Z", "closed_at": "2022-12-31T01:12:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/325", "html_url": "https://github.com/facebook/akd/pull/325", "diff_url": "https://github.com/facebook/akd/pull/325.diff", "patch_url": "https://github.com/facebook/akd/pull/325.patch", "merged_at": "2022-12-31T01:12:00Z"}, "body": "There's a few instances where we take a reference to a struct an nearly immediately clone it. This should be left to the caller, since if they are only say constructing a database to pass it to the storage manager, we may be inducing a clone for no real reason.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/325/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/325/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/323", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/323/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/323/events", "html_url": "https://github.com/facebook/akd/pull/323", "id": 1514500457, "node_id": "PR_kwDOFr0TCM5GY1zK", "number": 323, "title": "Skip preloading when cache is not present", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-30T12:48:40Z", "updated_at": "2023-01-01T00:38:51Z", "closed_at": "2022-12-30T22:29:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/323", "html_url": "https://github.com/facebook/akd/pull/323", "diff_url": "https://github.com/facebook/akd/pull/323.diff", "patch_url": "https://github.com/facebook/akd/pull/323.patch", "merged_at": "2022-12-30T22:29:58Z"}, "body": "Preloading nodes only makes sense when a cache is present. This PR adds a check to skip preloading if the storage manager does not have a cache.\r\n\r\nAlso moved the `recursive_batch_insert_nodes` function up next to `batch_insert_nodes`.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/323/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/322", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/322/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/322/events", "html_url": "https://github.com/facebook/akd/pull/322", "id": 1514194675, "node_id": "PR_kwDOFr0TCM5GX0qt", "number": 322, "title": "Preload nodes in lookups", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-30T02:39:16Z", "updated_at": "2022-12-30T07:46:54Z", "closed_at": "2022-12-30T03:51:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/322", "html_url": "https://github.com/facebook/akd/pull/322", "diff_url": "https://github.com/facebook/akd/pull/322.diff", "patch_url": "https://github.com/facebook/akd/pull/322.patch", "merged_at": "2022-12-30T03:51:04Z"}, "body": "In `batch_lookups` we utilize node preloading to minimize individual `GET` operations. We can do the same optimization for regular lookups -- which this PR adds. Performance results are shown below. \r\n\r\nIn summary, instead of 40 individual `GET` operations, with this PR, we only have 2 `GET` + 8 `BATCH GET` operations which gives a total of 10 compared to 40. This should improve the performance of lookups quite a bit considering database access delays.\r\n\r\n---\r\nWithout this PR:\r\n\r\n```\r\nPost look-up metrics:\r\nCache hit since last: 47, cached size: 40 items\r\n\r\n===================================================\r\n============ Database operation counts ============\r\n===================================================\r\n    SET 2, \r\n    BATCH SET 3, \r\n    GET 40, \r\n    BATCH GET 0\r\n    TOMBSTONE 0\r\n    GET USER STATE 1\r\n    GET USER DATA 0\r\n    GET USER STATE VERSIONS 3\r\n===================================================\r\n============ Database operation timing ============\r\n===================================================\r\n    TIME READ 98 ms\r\n    TIME WRITE 1380 ms\r\n```\r\n\r\n\r\nWith this PR:\r\n```\r\nPost look-up metrics:\r\nCache hit since last: 80, cached size: 40 items\r\n\r\n===================================================\r\n============ Database operation counts ============\r\n===================================================\r\n    SET 2, \r\n    BATCH SET 3, \r\n    GET 2, \r\n    BATCH GET 8\r\n    TOMBSTONE 0\r\n    GET USER STATE 1\r\n    GET USER DATA 0\r\n    GET USER STATE VERSIONS 3\r\n===================================================\r\n============ Database operation timing ============\r\n===================================================\r\n    TIME READ 143 ms\r\n    TIME WRITE 1379 ms\r\n ```\r\n  \r\n ---\r\n> **NOTE:** Tests done after patching #320. A single lookup operation costs are shown only for post-lookup. Generated with the diff below:\r\n \r\n ```diff\r\n+            mysql_db.flush_cache().await;\r\n+            println!(\"Pre look-up metrics:\");\r\n+            mysql_db.log_metrics(log::Level::Trace).await;\r\n             // Perform 10 random lookup proofs on the published users\r\n             for user in users.iter().choose_multiple(&mut rng, 10) {\r\n                 let key = AkdLabel::from_utf8_str(user);\r\n                 match dir.lookup(key.clone()).await {\r\n                     Err(error) => panic!(\"Error looking up user information {:?}\", error),\r\n                     Ok((proof, root_hash)) => {\r\n+                        println!(\"Post look-up metrics:\");\r\n+                        mysql_db.log_metrics(log::Level::Trace).await;\r\n+                        return;\r\n```\r\n---", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/322/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/321", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/321/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/321/events", "html_url": "https://github.com/facebook/akd/pull/321", "id": 1514076351, "node_id": "PR_kwDOFr0TCM5GXbiu", "number": 321, "title": "Add Send and Sync trait bounds to Database trait", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-29T21:54:54Z", "updated_at": "2023-01-01T00:38:49Z", "closed_at": "2022-12-29T22:23:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/321", "html_url": "https://github.com/facebook/akd/pull/321", "diff_url": "https://github.com/facebook/akd/pull/321.diff", "patch_url": "https://github.com/facebook/akd/pull/321.patch", "merged_at": "2022-12-29T22:23:17Z"}, "body": "Per suggestion in https://github.com/facebook/akd/pull/302#discussion_r1057996150, this simplifies the use of the `Database` trait. It seems reasonable to expect that all implementors of the trait will be thread-safe.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/321/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/320", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/320/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/320/events", "html_url": "https://github.com/facebook/akd/pull/320", "id": 1514059267, "node_id": "PR_kwDOFr0TCM5GXX-O", "number": 320, "title": "Invert Filter on Preload to Ensure Appropriate Nodes are Preloaded", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-29T21:20:12Z", "updated_at": "2023-06-19T22:17:13Z", "closed_at": "2022-12-31T00:13:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/320", "html_url": "https://github.com/facebook/akd/pull/320", "diff_url": "https://github.com/facebook/akd/pull/320.diff", "patch_url": "https://github.com/facebook/akd/pull/320.patch", "merged_at": "2022-12-31T00:13:35Z"}, "body": "- Prior to a more functional approach to preloading being adopted in #312, the \"filter\" that was being applied was used to continue within a loop. However, now that we're filtering in an iterator, the check should be inverted such that we continue iterating over the appropriate nodes.\r\n\r\n\r\n- [x] Manually test to verify that preload is preloading more than one value\r\n- [x] Add unit tests to catch this case", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/320/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/320/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/317", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/317/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/317/events", "html_url": "https://github.com/facebook/akd/pull/317", "id": 1513975444, "node_id": "PR_kwDOFr0TCM5GXGwZ", "number": 317, "title": "Bump version to 0.8.3 in preparation for release", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-29T18:57:15Z", "updated_at": "2023-01-01T00:39:03Z", "closed_at": "2022-12-31T03:18:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/317", "html_url": "https://github.com/facebook/akd/pull/317", "diff_url": "https://github.com/facebook/akd/pull/317.diff", "patch_url": "https://github.com/facebook/akd/pull/317.patch", "merged_at": "2022-12-31T03:18:16Z"}, "body": "As title :)", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/317/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/316", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/316/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/316/events", "html_url": "https://github.com/facebook/akd/pull/316", "id": 1513267372, "node_id": "PR_kwDOFr0TCM5GUudP", "number": 316, "title": "Add TODO for Issue 314", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-29T00:42:58Z", "updated_at": "2022-12-29T01:02:32Z", "closed_at": "2022-12-29T01:02:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/316", "html_url": "https://github.com/facebook/akd/pull/316", "diff_url": "https://github.com/facebook/akd/pull/316.diff", "patch_url": "https://github.com/facebook/akd/pull/316.patch", "merged_at": "2022-12-29T01:02:32Z"}, "body": "- Add a TODO linking a panic that we'd like to convert into a compile-time error instead. For more information, please see: https://github.com/facebook/akd/issues/314.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/316/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/315", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/315/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/315/events", "html_url": "https://github.com/facebook/akd/pull/315", "id": 1513263257, "node_id": "PR_kwDOFr0TCM5GUtj6", "number": 315, "title": "Fixing VRF map for already-existing labels and introducing VersionFreshness enum", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-29T00:34:10Z", "updated_at": "2022-12-29T02:37:43Z", "closed_at": "2022-12-29T02:37:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/315", "html_url": "https://github.com/facebook/akd/pull/315", "diff_url": "https://github.com/facebook/akd/pull/315.diff", "patch_url": "https://github.com/facebook/akd/pull/315.patch", "merged_at": "2022-12-29T02:37:42Z"}, "body": "Closes #304 by using a flat_map in publish when computing the VRF map.\r\n\r\nAlso, instead of using a boolean stale value passed around, I am introducing a `VersionFreshness` enum to track whether or not a node is marked as stale or fresh.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/315/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/313", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/313/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/313/events", "html_url": "https://github.com/facebook/akd/pull/313", "id": 1512668182, "node_id": "PR_kwDOFr0TCM5GSsWi", "number": 313, "title": "Add abstraction for insertion sets and optimize recursive insert", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-28T10:51:08Z", "updated_at": "2023-01-01T00:39:07Z", "closed_at": "2022-12-29T02:57:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/313", "html_url": "https://github.com/facebook/akd/pull/313", "diff_url": "https://github.com/facebook/akd/pull/313.diff", "patch_url": "https://github.com/facebook/akd/pull/313.patch", "merged_at": "2022-12-29T02:57:29Z"}, "body": "# Overview\r\n1. Adding a `NodeSet` enum that encodes information about whether a vector of nodes is binary searchable (i.e. nodes have the same label length AND are sorted). Our functions can then decide whether to apply binary search based on the enum variant.\r\n    - This addresses the [minor issue in #306](https://github.com/facebook/akd/pull/306/files#r1057887531) where insertion sets are assumed to be binary searchable when they may not necessarily be.\r\n\r\n2. Adding binary search to the partitioning of insertion sets + more efficient computation of LCP in an insertion set, as [suggested in #301](https://github.com/facebook/akd/pull/301#issuecomment-1365706006)\r\n\r\n# Benchmark\r\nUsed 5fdad25 to represent main branch (it includes the fix for the benchmark I am running). Ran:\r\n```console\r\n$ cargo bench -p akd --bench azks -F bench\r\n```\r\n\r\n\r\n## Inserting 10K Nodes\r\n\r\nMain:\r\n![image](https://user-images.githubusercontent.com/20502803/209892339-66f0edf2-4958-47c3-b85c-6ec7f3d9ad4c.png)\r\n\r\n\r\n\r\nThis PR:\r\n![image](https://user-images.githubusercontent.com/20502803/209892380-9fa8da78-e923-43c8-8688-f38a8a8c5975.png)\r\n\r\nNo improvements observed at this scale.\r\n\r\n\r\n## Inserting 100K Nodes\r\nMain:\r\n![image](https://user-images.githubusercontent.com/20502803/209892467-2c5a966f-9661-4f9c-9b46-608e931f3f65.png)\r\n\r\nThis PR:\r\n![image](https://user-images.githubusercontent.com/20502803/209892447-485058e7-01e6-42dd-8994-8d1287f219e6.png)\r\n\r\nMinor perf improvements observed.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/313/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/312", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/312/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/312/events", "html_url": "https://github.com/facebook/akd/pull/312", "id": 1512348834, "node_id": "PR_kwDOFr0TCM5GRocS", "number": 312, "title": "Reduce Duplicated Code in BFS Preload Paths", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-28T03:03:00Z", "updated_at": "2022-12-29T20:49:52Z", "closed_at": "2022-12-28T22:51:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/312", "html_url": "https://github.com/facebook/akd/pull/312", "diff_url": "https://github.com/facebook/akd/pull/312.diff", "patch_url": "https://github.com/facebook/akd/pull/312.patch", "merged_at": "2022-12-28T22:51:04Z"}, "body": "- Prior to this patch, the code for preloading nodes via BFS in both for both the sorted and unsorted variants contained a fair bit of duplicated code. This change introduces a private method which reduces duplication between the two public methods exposed by `Azks`.\r\n- Various other code duplication reductions in tests.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/312/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/312/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/311", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/311/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/311/events", "html_url": "https://github.com/facebook/akd/pull/311", "id": 1512290945, "node_id": "PR_kwDOFr0TCM5GRdA7", "number": 311, "title": "Remove Unnecessary Clone Impls in Favor of Derive", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-28T00:41:56Z", "updated_at": "2022-12-28T01:33:14Z", "closed_at": "2022-12-28T01:33:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/311", "html_url": "https://github.com/facebook/akd/pull/311", "diff_url": "https://github.com/facebook/akd/pull/311.diff", "patch_url": "https://github.com/facebook/akd/pull/311.patch", "merged_at": "2022-12-28T01:33:14Z"}, "body": "- Remove manual implementations of the Clone trait in favor of deriving the trait instead.\r\n- Convert some usages of `assert!` with equality checks to `assert_eq!`.\r\n- Update .gitignore to ignore .iml files (IDEA IDEs).", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/311/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/309", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/309/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/309/events", "html_url": "https://github.com/facebook/akd/pull/309", "id": 1511441935, "node_id": "PR_kwDOFr0TCM5GOlsL", "number": 309, "title": "Parallelizing CI workflow", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-27T05:10:48Z", "updated_at": "2022-12-27T13:24:34Z", "closed_at": "2022-12-27T13:24:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/309", "html_url": "https://github.com/facebook/akd/pull/309", "diff_url": "https://github.com/facebook/akd/pull/309.diff", "patch_url": "https://github.com/facebook/akd/pull/309.patch", "merged_at": "2022-12-27T13:24:11Z"}, "body": "Should allow CI tests to be run in parallel", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/309/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/308", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/308/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/308/events", "html_url": "https://github.com/facebook/akd/pull/308", "id": 1511372115, "node_id": "PR_kwDOFr0TCM5GOXP7", "number": 308, "title": "Use enums to distinguish regular and auditor directory constructions", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-27T02:22:48Z", "updated_at": "2023-01-01T00:39:08Z", "closed_at": "2022-12-27T22:21:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/308", "html_url": "https://github.com/facebook/akd/pull/308", "diff_url": "https://github.com/facebook/akd/pull/308.diff", "patch_url": "https://github.com/facebook/akd/pull/308.patch", "merged_at": "2022-12-27T22:21:19Z"}, "body": "Per suggestion from @slawlor in #301 , this PR replaces the use of booleans with enums to distinguish between regular and auditor directory constructions/hashing. This is clearer and less error-prone.\r\n\r\nNote that there were actually two spots where the parameter of `include_ep` was passed to a function expecting `exclude_ep` without negating the variable (see in-line comment). I believe these were just function naming errors and not actual bugs. This PR will help avoid such mistakes in future.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/308/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/308/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/307", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/307/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/307/events", "html_url": "https://github.com/facebook/akd/pull/307", "id": 1511289953, "node_id": "PR_kwDOFr0TCM5GOGK5", "number": 307, "title": "Optimizing VRF computation by saving expanded private key and public key", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-26T22:37:39Z", "updated_at": "2022-12-27T13:23:12Z", "closed_at": "2022-12-27T13:23:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/307", "html_url": "https://github.com/facebook/akd/pull/307", "diff_url": "https://github.com/facebook/akd/pull/307.diff", "patch_url": "https://github.com/facebook/akd/pull/307.patch", "merged_at": "2022-12-27T13:23:12Z"}, "body": "One more VRF computation optimization that we can do:\r\n\r\nRather than re-expanding the VRF private key into a VRFExpandedPrivateKey and recomputing the public key every time we call evaluate, we can just compute the expanded private key and public key once, and then reuse them across VRF evaluate calls.\r\n\r\nBefore this change:\r\n```\r\nBatch insertion (100000 initial leaves) took 14172 ms\r\nBatch insertion (100000 initial leaves, 100000 inserted leaves) took 16920 ms\r\n```\r\n\r\nAfter this change:\r\n```\r\nBatch insertion (100000 initial leaves) took 13712 ms\r\nBatch insertion (100000 initial leaves, 100000 inserted leaves) took 15315 ms\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/307/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/306", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/306/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/306/events", "html_url": "https://github.com/facebook/akd/pull/306", "id": 1511184530, "node_id": "PR_kwDOFr0TCM5GNuwa", "number": 306, "title": "Optimizing the BFS preloading prefix computation", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-26T19:40:33Z", "updated_at": "2022-12-28T00:30:32Z", "closed_at": "2022-12-26T22:46:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/306", "html_url": "https://github.com/facebook/akd/pull/306", "diff_url": "https://github.com/facebook/akd/pull/306.diff", "patch_url": "https://github.com/facebook/akd/pull/306.patch", "merged_at": "2022-12-26T22:46:28Z"}, "body": "Previously we computed the preloading of nodes by first taking the insertion set of labels, computing all prefixes, and then loading the nodes in BFS manner and checking each node's label against the prefix set. For N labels to insert, this was a set of size `256 * N`, which resulted in about `256 * N` work.\r\n\r\nNow, we are using a BinaryHeap to insert the labels in sorted order (sorted by label value), and then instead of building a prefix set, we do a binary search to check if the current node during the BFS traversal is contained as a prefix in the sorted insertion set of labels. This is roughly `N * log(N)` work to build the sorted list, and then about `log^2(N)` work for prefix-checking during insertion. This should be much faster -- see benchmarks below.\r\n\r\nBefore this change:\r\nInserting 100k nodes into an empty tree:\r\n```\r\n[00:02:50.423] INFO   Preload of tree (1 objects loaded), took 31.261086083 s (append_only_zks:217)\r\n```\r\nInserting another 100k nodes into the tree subsequently:\r\n```\r\n[00:06:14.654] INFO   Preload of tree (150813 objects loaded), took 34.730958 s (append_only_zks:217)\r\n```\r\n\r\nAfter this change:\r\n\r\nInserting 100k nodes into an empty tree:\r\n```\r\n[00:02:18.657] INFO   Preload of tree (1 objects loaded), took 0.005568666 s (append_only_zks:265)\r\n```\r\nInserting another 100k nodes into the tree subsequently:\r\n```\r\n[00:05:06.851] INFO   Preload of tree (151035 objects loaded), took 1.7127710409999999 s (append_only_zks:265)\r\n```\r\n\r\n-----------\r\n\r\n**Edit**: Those above numbers are run with `--profile = dev` mode. In `--profile = release` mode, the numbers are less drastic but about the same in terms of scaling:\r\n\r\nBefore:\r\n```\r\n[00:00:21.253] INFO   Preload of tree (1 objects loaded), took 4.403417458 s (append_only_zks:217)\r\nBatch insertion (100000 initial leaves) took 22996 ms\r\n\r\n[00:00:45.232] INFO   Preload of tree (150755 objects loaded), took 4.546898041 s (append_only_zks:217)\r\nBatch insertion (100000 initial leaves, 100000 inserted leaves) took 25390 ms\r\n```\r\n\r\nAfter:\r\n```\r\n[00:00:16.759] INFO   Preload of tree (1 objects loaded), took 0.000585958 s (append_only_zks:265)\r\nBatch insertion (100000 initial leaves) took 17196 ms\r\n\r\n[00:00:34.034] INFO   Preload of tree (151191 objects loaded), took 0.199543458 s (append_only_zks:265)\r\nBatch insertion (100000 initial leaves, 100000 inserted leaves) took 19388 ms\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/306/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/305", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/305/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/305/events", "html_url": "https://github.com/facebook/akd/pull/305", "id": 1510699632, "node_id": "PR_kwDOFr0TCM5GMFxV", "number": 305, "title": "Speeding up vrf computation by directly producing output without proof", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-26T07:33:35Z", "updated_at": "2022-12-26T20:46:57Z", "closed_at": "2022-12-26T20:46:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/305", "html_url": "https://github.com/facebook/akd/pull/305", "diff_url": "https://github.com/facebook/akd/pull/305.diff", "patch_url": "https://github.com/facebook/akd/pull/305.patch", "merged_at": "2022-12-26T20:46:56Z"}, "body": "In Directory::publish(), we are doing some unnecessary computation when evaluating VRFs, by first generating the proof, then turning the proof into the VRF output. It is faster to just generate the output directly. Also added a benchmark for a single VRF evaluation on a random label, plus some small performance improvements to generating ECVRF proofs.\r\n\r\nSee the following benchmarks...\r\n\r\nBefore this change:\r\n```\r\n% cargo bench -p akd_core -F bench\r\nSequential VRFs         time:   [133.90 ms 134.97 ms 136.56 ms]\r\nParallel VRFs (all cores)\r\n                        time:   [22.571 ms 22.866 ms 23.350 ms]\r\nParallel VRFs (4 cores) time:   [35.997 ms 36.036 ms 36.077 ms]\r\n ```\r\n\r\n\r\nAfter this change:\r\n```\r\n% cargo bench -p akd_core -F bench\r\nSequential VRFs         time:   [55.253 ms 55.502 ms 55.792 ms]\r\nParallel VRFs (all cores)\r\n                        time:   [9.8533 ms 9.9332 ms 10.019 ms]\r\nParallel VRFs (4 cores) time:   [15.230 ms 15.259 ms 15.289 ms]\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/302", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/302/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/302/events", "html_url": "https://github.com/facebook/akd/pull/302", "id": 1509882841, "node_id": "PR_kwDOFr0TCM5GJe8p", "number": 302, "title": "Parallelize leaf insertion and hashing", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-24T00:32:22Z", "updated_at": "2023-01-01T00:38:54Z", "closed_at": "2022-12-31T13:49:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/302", "html_url": "https://github.com/facebook/akd/pull/302", "diff_url": "https://github.com/facebook/akd/pull/302.diff", "patch_url": "https://github.com/facebook/akd/pull/302.patch", "merged_at": "2022-12-31T13:49:32Z"}, "body": "# Overview\r\nThis PR builds upon #301 to finally parallelize leaf insertion and hashing. A tokio task is spawned for every recursive call on the left child, while the right child's work is executed in the current task. \r\n\r\nWhile tokio tasks are [lightweight](https://docs.rs/tokio/latest/tokio/task/#what-are-tasks), benchmarking has revealed that the best performance is had when the number of spawned tasks approximately equals the number of available CPU cores. To restrict the number of tasks spawned, I get the available number of threads and calculate the level by which we have to stop spawning new tasks. This is a rough measure that might not yield the ideal parallelism in all circumstances, but will be reasonably close to it. \r\n\r\n# Benchmark\r\nRan the `azks.rs` benchmark, which inserts 100K leaves into a tree with 10K leaves.\r\n\r\n## Sequential\r\n```console\r\n$ cargo bench -p akd --bench azks --no-default-features -F bench\r\n```\r\n<img width=\"397\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/210122970-be665f16-1729-4be5-8ad8-fa8b3d669d83.png\">\r\n\r\n\r\n## Parallel\r\n```console\r\n$ cargo bench -p akd --bench azks --no-default-features -F bench -F parallel_insert\r\n```\r\n<img width=\"482\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/210122991-333b1ec2-57df-43bf-acea-f39ee842fed5.png\">\r\n\r\nA whopping 80% improvement in execution time \ud83c\udfce\ud83d\udca8\r\n\r\n\r\n# Progress\r\n- [x] Parallelize recursive insert\r\n- [x] Gate parallelism behind feature flag\r\n- [x] Convert transaction to use dashmap\r\n- [x] Restrict tasks spawned\r\n- [x] Benchmark \r\n- [x] Update GH actions to run tests without feature flag\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/302/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/301", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/301/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/301/events", "html_url": "https://github.com/facebook/akd/pull/301", "id": 1509276981, "node_id": "PR_kwDOFr0TCM5GHcwZ", "number": 301, "title": "Make leaf insertion and hashing recursive", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-23T12:08:44Z", "updated_at": "2023-01-01T00:39:10Z", "closed_at": "2022-12-27T13:21:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/301", "html_url": "https://github.com/facebook/akd/pull/301", "diff_url": "https://github.com/facebook/akd/pull/301.diff", "patch_url": "https://github.com/facebook/akd/pull/301.patch", "merged_at": "2022-12-27T13:21:13Z"}, "body": "# Overview\r\nTo parallelize leaf insertion and hashing, the process needs to be made fully recursive, such that work can be split into subtasks and performed independently of one another. As an additional plus point, a fully recursive approach is more concise and easier to reason about. \r\n\r\nTo this end, this PR does the necessary refactor. I do this by partitioning the set of leaves to be inserted based on the current node, then delegating the partitions to the left and right child nodes to handle recursively. When both child nodes return, the current node is hashed and returned to its parent.\r\n\r\nThe actual parallelization comes in #302, for ease of review.\r\n\r\n# Benchmark\r\n\r\n**Main**\r\nCherry-picked the updated benchmark (6c9f83e, 3ade785) on top of main (see: https://github.com/afterdusk/akd/tree/benchmark) to compare this PR against.\r\n\r\n<img width=\"486\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/209638545-6c8178ed-e9fb-43f7-ad54-cbf8f60884fb.png\">\r\n\r\n\r\n**This PR**\r\n<img width=\"480\" alt=\"image\" src=\"https://user-images.githubusercontent.com/20502803/209639737-48453bd4-0d7e-48cd-b879-b496365b03d5.png\">\r\n\r\n\r\n# Progress\r\n- [x] Rewrite leaf insertion and hashing to be recursive\r\n- [x] Rebase on main branch\r\n- [x] Consider porting some tests from `tree_node.rs` to `append_only_zks.rs`, as tree traversal logic was largely abstracted out of `tree_node.rs` in this PR (will relook in a separate PR)\r\n- [x] Benchmark", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/301/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/300", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/300/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/300/events", "html_url": "https://github.com/facebook/akd/pull/300", "id": 1508430832, "node_id": "PR_kwDOFr0TCM5GElGR", "number": 300, "title": "Fix incorrect conditional check in common prefix function", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-22T19:19:34Z", "updated_at": "2022-12-22T19:56:07Z", "closed_at": "2022-12-22T19:56:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/300", "html_url": "https://github.com/facebook/akd/pull/300", "diff_url": "https://github.com/facebook/akd/pull/300.diff", "patch_url": "https://github.com/facebook/akd/pull/300.patch", "merged_at": "2022-12-22T19:56:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/300/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/299", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/299/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/299/events", "html_url": "https://github.com/facebook/akd/pull/299", "id": 1508086793, "node_id": "PR_kwDOFr0TCM5GDXpv", "number": 299, "title": "Minimize over-the-wire encoding in protobuf formats.", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-22T15:29:57Z", "updated_at": "2022-12-22T19:16:53Z", "closed_at": "2022-12-22T19:16:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/299", "html_url": "https://github.com/facebook/akd/pull/299", "diff_url": "https://github.com/facebook/akd/pull/299.diff", "patch_url": "https://github.com/facebook/akd/pull/299.patch", "merged_at": "2022-12-22T19:16:50Z"}, "body": "This change removes trailing 0's from the node labels as they go over the wire, since we know the length will ALWAYS be 32 bytes. Therefore if there's a bunch of trailing 0's in the label, we can safely trim them off keeping only the most significant data (this is common with nodes higher up in the tree).\n\nWhen decoding, we see how many bytes are there and put them in the leading spaces, in-order, with a simple slice copy.\n\nUnit test coverage added in `akd_core/src/proto/tests.rs`", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/298", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/298/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/298/events", "html_url": "https://github.com/facebook/akd/pull/298", "id": 1507168785, "node_id": "PR_kwDOFr0TCM5GANu6", "number": 298, "title": "Remove Stale Profiling Results + Images", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-22T02:45:07Z", "updated_at": "2022-12-22T04:51:45Z", "closed_at": "2022-12-22T04:51:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/298", "html_url": "https://github.com/facebook/akd/pull/298", "diff_url": "https://github.com/facebook/akd/pull/298.diff", "patch_url": "https://github.com/facebook/akd/pull/298.patch", "merged_at": "2022-12-22T04:51:45Z"}, "body": "- Remove images and text files associated with past profiling experiments.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/298/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/296", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/296/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/296/events", "html_url": "https://github.com/facebook/akd/pull/296", "id": 1506772589, "node_id": "PR_kwDOFr0TCM5F-4OH", "number": 296, "title": "General cleanups", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-21T18:57:20Z", "updated_at": "2022-12-25T15:20:41Z", "closed_at": "2022-12-25T15:20:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/296", "html_url": "https://github.com/facebook/akd/pull/296", "diff_url": "https://github.com/facebook/akd/pull/296.diff", "patch_url": "https://github.com/facebook/akd/pull/296.patch", "merged_at": "2022-12-25T15:20:40Z"}, "body": "An assortment of renaming of variables, simplifying unwraps and complex code segments, and fixing documentation typos. Doesn't change any actual functionality.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/295", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/295/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/295/events", "html_url": "https://github.com/facebook/akd/pull/295", "id": 1504754230, "node_id": "PR_kwDOFr0TCM5F4J7T", "number": 295, "title": "Support for parallel calculations of VRF labels", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-20T15:29:49Z", "updated_at": "2022-12-21T21:33:53Z", "closed_at": "2022-12-21T21:33:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/295", "html_url": "https://github.com/facebook/akd/pull/295", "diff_url": "https://github.com/facebook/akd/pull/295.diff", "patch_url": "https://github.com/facebook/akd/pull/295.patch", "merged_at": "2022-12-21T21:33:50Z"}, "body": "VRFs are relatively expensive to compute especially for the directory's publish operation. They're presently done sequentially as we iterate over the data. Servers which will be processing thousands of new leaves generally will have more than 1 core available to compute VRF labels, and therefore we should be able to parallelize this operation trivially and store the result into a lookup map.\r\n\r\nThis PR adds support for parallel VRFs via a toggle-able feature flag (`parallel_vrf`) on both `akd` and `akd_core`. Disabled by default, it allows opt-in for this behaviour dependent on deployment configuration.\r\n\r\nAdditionally a benchmark on parallel VRF calculations was added. Run it with\r\n\r\n```bash\r\ncargo bench -p akd_core -F bench\r\n```\r\n\r\nSample output\r\n![image](https://user-images.githubusercontent.com/9451356/208703918-aa0b738d-e3fd-495b-8562-6f239bf18665.png)\r\n\r\nThis benchmark is based off 1K labels needing to be computed, which we see already is a large improvement (just with a parallelism level of 4 we see a nearly 4x improvement).\r\n\r\nNOTE: Additionally this adds another caching test which should have been added in a previous PR", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/292", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/292/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/292/events", "html_url": "https://github.com/facebook/akd/pull/292", "id": 1503176922, "node_id": "PR_kwDOFr0TCM5Fy4Jx", "number": 292, "title": "Change direction from Option<usize> to u8 + Sha512/256 support", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-19T15:47:59Z", "updated_at": "2022-12-19T18:11:27Z", "closed_at": "2022-12-19T18:11:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/292", "html_url": "https://github.com/facebook/akd/pull/292", "diff_url": "https://github.com/facebook/akd/pull/292.diff", "patch_url": "https://github.com/facebook/akd/pull/292.patch", "merged_at": "2022-12-19T18:11:24Z"}, "body": "This PR \r\n\r\n1. Moves direction from an `Option<usize>` to a `u8` formatted enum. (We aren't supporting an arity >= 2 so it's unnecessary to have a larger tree size and due to the risk of encoding problems between usize on architectures, we should be hard-setting a lower-risk type.)\r\n2. Adds sync_fork.sh to help automate fork synchronization with the GitHub CLI\r\n3. Adds support for Sha512/256 hashing (truncated SHA512 hashes to 256 bits)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/292/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/291", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/291/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/291/events", "html_url": "https://github.com/facebook/akd/pull/291", "id": 1500443226, "node_id": "PR_kwDOFr0TCM5Fpz6b", "number": 291, "title": "Fixes discovered in manual testing", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-16T15:36:54Z", "updated_at": "2022-12-16T20:52:25Z", "closed_at": "2022-12-16T20:51:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/291", "html_url": "https://github.com/facebook/akd/pull/291", "diff_url": "https://github.com/facebook/akd/pull/291.diff", "patch_url": "https://github.com/facebook/akd/pull/291.patch", "merged_at": "2022-12-16T20:51:26Z"}, "body": "1. Previously, if we failed in the `Akzs::batch _insert_leaves` call in `Directory::publish`, we wouldn't rollback the transaction which effectively deadlocked future publish attempts without restarting the process. This rolls back the transaction on batch insert failure\r\n2. Version bump and adjustment of min required versions between crates\r\n3. Storage tests covering transactional + caching coverage\r\n4. The cache wasn't being populated on calls to `batch_get` in the StorageManager \ud83d\udc19 \r\n\r\n\r\nMore may come...", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/291/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/290", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/290/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/290/events", "html_url": "https://github.com/facebook/akd/pull/290", "id": 1499405161, "node_id": "PR_kwDOFr0TCM5FmRRg", "number": 290, "title": "Removing a lot of needless debug statements", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-16T01:12:17Z", "updated_at": "2022-12-16T02:32:16Z", "closed_at": "2022-12-16T02:32:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/290", "html_url": "https://github.com/facebook/akd/pull/290", "diff_url": "https://github.com/facebook/akd/pull/290.diff", "patch_url": "https://github.com/facebook/akd/pull/290.patch", "merged_at": "2022-12-16T02:32:13Z"}, "body": "This PR removes a lot of `debug!(\"BEGIN...` and `debug!(\"END...` statements which required a lot of string formatting needlessly", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/289", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/289/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/289/events", "html_url": "https://github.com/facebook/akd/pull/289", "id": 1490538920, "node_id": "PR_kwDOFr0TCM5FHlGC", "number": 289, "title": "Updating VRF label derivation, commitment generation, and switching to big-endian", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-11T22:54:58Z", "updated_at": "2022-12-19T18:40:46Z", "closed_at": "2022-12-19T18:40:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/289", "html_url": "https://github.com/facebook/akd/pull/289", "diff_url": "https://github.com/facebook/akd/pull/289.diff", "patch_url": "https://github.com/facebook/akd/pull/289.patch", "merged_at": "2022-12-19T18:40:46Z"}, "body": "**Warning: This PR will break existing stored hashes and data because it changes the hashing mechanism in multiple ways!**\r\n\r\nTo convert a regular label (arbitrary string of bytes) into a [NodeLabel], we compute the output as: H(label || stale || version)\r\n\r\nSpecifically, we concatenate the following together:\r\n- I2OSP(len(label) as u64, label)\r\n- A single byte encoded as 0u8 if \"stale\", 1u8 if \"fresh\"\r\n- A u64 representing the version\r\n\r\nThis saves on the number of hash computations we do (previously, 3).\r\n\r\nIn addition, I am adjusting the serialization of things to use big-endian instead of little-endian. This is mainly because the I2OSP serialization follows network byte order and does big-endian, and I'm hoping to keep endianness conversions consistent across the akd library. But let me know if there are reasons why we should avoid big-endian and would be happy to discuss...\r\n\r\nFinally, this PR will also add back in the incorporating of the \"version\" to the commitment generated by `commit_value`. This was previously removed, perhaps accidentally, but should be re-added.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/288", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/288/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/288/events", "html_url": "https://github.com/facebook/akd/pull/288", "id": 1490454561, "node_id": "PR_kwDOFr0TCM5FHR1w", "number": 288, "title": "General cleanups and renamings", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-11T21:19:36Z", "updated_at": "2022-12-15T05:41:53Z", "closed_at": "2022-12-15T05:41:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/288", "html_url": "https://github.com/facebook/akd/pull/288", "diff_url": "https://github.com/facebook/akd/pull/288.diff", "patch_url": "https://github.com/facebook/akd/pull/288.patch", "merged_at": "2022-12-15T05:41:53Z"}, "body": "- Changed the name of the field `least_descendant_ep` to `min_descendant_epoch`\r\n- Removed some `debug!(...)` statements\r\n- Eliminated some unnecessary functions that weren't being used\r\n- Adjusted visibility for some functions only used internally", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/287", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/287/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/287/events", "html_url": "https://github.com/facebook/akd/pull/287", "id": 1485430593, "node_id": "PR_kwDOFr0TCM5E1VKc", "number": 287, "title": "Missed one version bump", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T21:28:23Z", "updated_at": "2022-12-08T21:40:16Z", "closed_at": "2022-12-08T21:40:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/287", "html_url": "https://github.com/facebook/akd/pull/287", "diff_url": "https://github.com/facebook/akd/pull/287.diff", "patch_url": "https://github.com/facebook/akd/pull/287.patch", "merged_at": "2022-12-08T21:40:13Z"}, "body": "Need to put `akd` at v0.8.1 as well as all the other crates. Not the end of the world, but a proper release will fail.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/286", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/286/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/286/events", "html_url": "https://github.com/facebook/akd/pull/286", "id": 1485247602, "node_id": "PR_kwDOFr0TCM5E0sRT", "number": 286, "title": "Moving the local auditing module and adjusting proof generation return types", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T19:09:25Z", "updated_at": "2022-12-08T21:13:04Z", "closed_at": "2022-12-08T21:12:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/286", "html_url": "https://github.com/facebook/akd/pull/286", "diff_url": "https://github.com/facebook/akd/pull/286.diff", "patch_url": "https://github.com/facebook/akd/pull/286.patch", "merged_at": "2022-12-08T21:12:59Z"}, "body": "1. Moving the `akd::proto` module to a new location `akd::local_auditing` so that it doesn't mask `akd_core::proto` which is re-exported by `akd`.\r\n2. Resolve #285 by returning an epoch hash with each proof generation request. This assures that proofs generated are on the same epoch as the resolved hash, minimizing race conditions. See Issue FMI", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/284", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/284/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/284/events", "html_url": "https://github.com/facebook/akd/pull/284", "id": 1484918658, "node_id": "PR_kwDOFr0TCM5Ezi1D", "number": 284, "title": "Adding a test for WASM lookup proof verification", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T15:50:35Z", "updated_at": "2022-12-08T19:37:53Z", "closed_at": "2022-12-08T19:37:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/284", "html_url": "https://github.com/facebook/akd/pull/284", "diff_url": "https://github.com/facebook/akd/pull/284.diff", "patch_url": "https://github.com/facebook/akd/pull/284.patch", "merged_at": "2022-12-08T19:37:50Z"}, "body": "The test is executed with\r\n\r\n```\r\ncd akd_client\r\nwasm-pack test --node --features wasm\r\n```\r\n\r\nwhich emits\r\n\r\n```\r\n$ wasm-pack test --node --features wasm\r\n[INFO]: \ud83c\udfaf  Checking for the Wasm target...\r\nwarning: profiles for the non root package will be ignored, specify profiles at the workspace root:\r\npackage:   /Users/seanlawlor/Code/slawlor_akd/akd_core/Cargo.toml\r\nworkspace: /Users/seanlawlor/Code/slawlor_akd/Cargo.toml\r\nwarning: profiles for the non root package will be ignored, specify profiles at the workspace root:\r\npackage:   /Users/seanlawlor/Code/slawlor_akd/akd_client/Cargo.toml\r\nworkspace: /Users/seanlawlor/Code/slawlor_akd/Cargo.toml\r\n   Compiling akd v0.8.0 (/Users/seanlawlor/Code/slawlor_akd/akd)\r\n   Compiling akd_client v0.8.0 (/Users/seanlawlor/Code/slawlor_akd/akd_client)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 4.38s\r\n[INFO]: \u2b07\ufe0f  Installing wasm-bindgen...\r\nwarning: profiles for the non root package will be ignored, specify profiles at the workspace root:\r\npackage:   /Users/seanlawlor/Code/slawlor_akd/akd_core/Cargo.toml\r\nworkspace: /Users/seanlawlor/Code/slawlor_akd/Cargo.toml\r\nwarning: profiles for the non root package will be ignored, specify profiles at the workspace root:\r\npackage:   /Users/seanlawlor/Code/slawlor_akd/akd_client/Cargo.toml\r\nworkspace: /Users/seanlawlor/Code/slawlor_akd/Cargo.toml\r\n    Finished test [unoptimized + debuginfo] target(s) in 0.74s\r\n     Running unittests src/lib.rs (/Users/seanlawlor/Code/slawlor_akd/target/wasm32-unknown-unknown/debug/deps/akd_client-3dfab7e06dc18fa8.wasm)\r\nSet timeout to 20 seconds...\r\nrunning 1 test                                    \r\n\r\ntest akd_client::wasm::tests::test_simple_wasm_lookup ... ok\r\n\r\ntest result: ok. 1 passed; 0 failed; 0 ignored\r\n```\r\n\r\nAdditionally I took the opportunity to cleanup some of the usage around `Digest`s, a shared parsing function along with more common application of the `Digest` type alias rather than `[u8; DIGEST_BYTES]`.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/281", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/281/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/281/events", "html_url": "https://github.com/facebook/akd/pull/281", "id": 1480091479, "node_id": "PR_kwDOFr0TCM5EiYu4", "number": 281, "title": "Best practices for build.rs code generation", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-06T20:18:25Z", "updated_at": "2022-12-06T20:34:06Z", "closed_at": "2022-12-06T20:34:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/281", "html_url": "https://github.com/facebook/akd/pull/281", "diff_url": "https://github.com/facebook/akd/pull/281.diff", "patch_url": "https://github.com/facebook/akd/pull/281.patch", "merged_at": "2022-12-06T20:34:02Z"}, "body": "We shouldn't be generating the protobuf sources **directly** in the source tree apparently. This change generates to the targets directory and then uses the standard-practice `include!` macro to include the generated code when needed\r\n\r\nhttps://doc.rust-lang.org/cargo/reference/build-script-examples.html", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/281/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/278", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/278/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/278/events", "html_url": "https://github.com/facebook/akd/pull/278", "id": 1467330417, "node_id": "PR_kwDOFr0TCM5D2YQr", "number": 278, "title": "Migrate shared logic to `akd_core` crate which contains all the base type implementations", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-29T01:58:43Z", "updated_at": "2022-12-06T14:40:04Z", "closed_at": "2022-12-06T14:39:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/278", "html_url": "https://github.com/facebook/akd/pull/278", "diff_url": "https://github.com/facebook/akd/pull/278.diff", "patch_url": "https://github.com/facebook/akd/pull/278.patch", "merged_at": "2022-12-06T14:39:59Z"}, "body": "Shared logic relates to \r\n\r\n1. hashing (with this we can remove dependence on `winter_*`)\r\n2. ecvrf (removes code duplication in multiple crates)\r\n3. types specifications and protobuf specifications (more common logic removal)\r\n4. clearer logic separation and test coverage on core logic components\r\n\r\n`akd_core` is specifically very flexible (i.e. a lot of features) in order to facilitate multiple ways of utilization of `akd` and `akd_client`. It isn't meant to be utilized directly, and its features should be set and managed by the parent crate(s).\r\n\r\nAdditional CI coverage has also been added.\r\n\r\nNOTE: This also addresses potentially compiling `akd` to WASM targets for auditing (#270)", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/278/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/277", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/277/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/277/events", "html_url": "https://github.com/facebook/akd/pull/277", "id": 1466603457, "node_id": "PR_kwDOFr0TCM5Dz_Wd", "number": 277, "title": "Minimize the dependencies on Tokio. ", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-28T15:14:42Z", "updated_at": "2022-11-30T00:19:06Z", "closed_at": "2022-11-30T00:15:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/277", "html_url": "https://github.com/facebook/akd/pull/277", "diff_url": "https://github.com/facebook/akd/pull/277.diff", "patch_url": "https://github.com/facebook/akd/pull/277.patch", "merged_at": "2022-11-30T00:15:12Z"}, "body": "This change leans out the features in the `tokio` crate to just \"sync\" and \"time\" for synchronization and communication management features utilized\r\n\r\nin the `akd` crate. In the test configuration, more functionality is enabled with \"rt\" and \"macros\" due to the tokio testing frameworks utilized in `akd`. This removes the inherited\r\ndependency on `mio` as well as many other downstream crates which should assist in WASM compliation (see: #270)", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/275", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/275/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/275/events", "html_url": "https://github.com/facebook/akd/pull/275", "id": 1463512479, "node_id": "PR_kwDOFr0TCM5Dp8WG", "number": 275, "title": "Passing in knowledge of if we're in a transaction to the db batch_set", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T15:28:55Z", "updated_at": "2022-11-24T15:47:48Z", "closed_at": "2022-11-24T15:47:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/275", "html_url": "https://github.com/facebook/akd/pull/275", "diff_url": "https://github.com/facebook/akd/pull/275.diff", "patch_url": "https://github.com/facebook/akd/pull/275.patch", "merged_at": "2022-11-24T15:47:45Z"}, "body": "Currently `batch_set` at the db layer if a transaction is committing and that has some downstream implications if the data layer isn't atomic, or had other atomic wrappers included. This allows us to know if we are calling the underlying batch_set from a transaction commit operation for better handling.\r\n\r\nAdditionally the db impl doesn't need to implement tombstoning, that's done by the storage manager, and this was just an artifact to cleanup", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/275/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/274", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/274/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/274/events", "html_url": "https://github.com/facebook/akd/pull/274", "id": 1463441661, "node_id": "PR_kwDOFr0TCM5DptFo", "number": 274, "title": "Fixing crate inter-dependencies with contract break", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T14:36:17Z", "updated_at": "2022-11-24T14:48:19Z", "closed_at": "2022-11-24T14:48:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/274", "html_url": "https://github.com/facebook/akd/pull/274", "diff_url": "https://github.com/facebook/akd/pull/274.diff", "patch_url": "https://github.com/facebook/akd/pull/274.patch", "merged_at": "2022-11-24T14:48:16Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/273", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/273/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/273/events", "html_url": "https://github.com/facebook/akd/pull/273", "id": 1463431254, "node_id": "PR_kwDOFr0TCM5Dpq4Y", "number": 273, "title": "version bump", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T14:28:19Z", "updated_at": "2022-11-24T14:28:47Z", "closed_at": "2022-11-24T14:28:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/273", "html_url": "https://github.com/facebook/akd/pull/273", "diff_url": "https://github.com/facebook/akd/pull/273.diff", "patch_url": "https://github.com/facebook/akd/pull/273.patch", "merged_at": "2022-11-24T14:28:44Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/271", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/271/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/271/events", "html_url": "https://github.com/facebook/akd/pull/271", "id": 1462789831, "node_id": "PR_kwDOFr0TCM5DngbI", "number": 271, "title": "Update bugged get_root_hash_at_epoch function", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-24T05:41:00Z", "updated_at": "2023-01-01T00:39:18Z", "closed_at": "2022-11-24T22:58:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/271", "html_url": "https://github.com/facebook/akd/pull/271", "diff_url": "https://github.com/facebook/akd/pull/271.diff", "patch_url": "https://github.com/facebook/akd/pull/271.patch", "merged_at": "2022-11-24T22:58:45Z"}, "body": "The API does not function as intended - instead of getting the root hash at a specific epoch, it gets the root hash at the latest epoch. \r\n\r\nAs we no longer store all nodes from past epochs, we are unable to generate root hashes of past epochs with the directory. Therefore I update the function to `get_root_hash_safe`, which instead checks that the input epoch is equivalent to the latest epoch before returning the root hash (of the latest epoch). This gives callers a way to know if the root hash they are trying to retrieve is not from the epoch that they expect.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/269", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/269/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/269/events", "html_url": "https://github.com/facebook/akd/pull/269", "id": 1460263698, "node_id": "PR_kwDOFr0TCM5DezRe", "number": 269, "title": "Performance enhancements related to caching", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-22T17:15:56Z", "updated_at": "2022-11-24T14:21:36Z", "closed_at": "2022-11-24T14:21:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/269", "html_url": "https://github.com/facebook/akd/pull/269", "diff_url": "https://github.com/facebook/akd/pull/269.diff", "patch_url": "https://github.com/facebook/akd/pull/269.patch", "merged_at": "2022-11-24T14:21:33Z"}, "body": "This PR adds support for \r\n\r\n1. `dashmap` which is a more performant multi-access cache when there are multiple readers and writers\r\n2. Removing `tokio::sync::RwLock<bool>` and replacing it with an `AtomicBool` which is also more performant under high-parallel load\r\n3. Adding support for memory pressure processing to limit the cache size based on the memory pressure on the system\r\n4. A complete rewrite of the storage layer to a `Database` trait and `StorageManager` struct which manages the specified database. This greatly simplifies what a db needs to implement and abstracts away caching & transaction management to a shared logic space.\r\n\r\n\r\nUpdate: closes #217", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/269/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/268", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/268/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/268/events", "html_url": "https://github.com/facebook/akd/pull/268", "id": 1457061629, "node_id": "PR_kwDOFr0TCM5DT0_h", "number": 268, "title": "Removing the ability to disable VRFs by baking in the vrf feature", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-20T21:59:30Z", "updated_at": "2022-11-21T20:43:49Z", "closed_at": "2022-11-21T20:43:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/268", "html_url": "https://github.com/facebook/akd/pull/268", "diff_url": "https://github.com/facebook/akd/pull/268.diff", "patch_url": "https://github.com/facebook/akd/pull/268.patch", "merged_at": "2022-11-21T20:43:49Z"}, "body": "Closes #261.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/268/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/267", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/267/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/267/events", "html_url": "https://github.com/facebook/akd/pull/267", "id": 1454306205, "node_id": "PR_kwDOFr0TCM5DKnxw", "number": 267, "title": "Fixing mysql_async dependency issues", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-18T01:51:49Z", "updated_at": "2022-11-18T04:04:46Z", "closed_at": "2022-11-18T04:04:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/267", "html_url": "https://github.com/facebook/akd/pull/267", "diff_url": "https://github.com/facebook/akd/pull/267.diff", "patch_url": "https://github.com/facebook/akd/pull/267.patch", "merged_at": "2022-11-18T04:04:46Z"}, "body": "funty 1.2.0 was yanked, which was a dependency for mysql_async v0.29. Upgrading to mysql_async v0.31 fixes the issue.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/266", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/266/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/266/events", "html_url": "https://github.com/facebook/akd/pull/266", "id": 1454271395, "node_id": "PR_kwDOFr0TCM5DKgFv", "number": 266, "title": "Changing lookup + history verification APIs to return VerifyResult structs", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-18T01:16:51Z", "updated_at": "2022-11-23T21:56:10Z", "closed_at": "2022-11-23T21:56:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/266", "html_url": "https://github.com/facebook/akd/pull/266", "diff_url": "https://github.com/facebook/akd/pull/266.diff", "patch_url": "https://github.com/facebook/akd/pull/266.patch", "merged_at": "2022-11-23T21:56:10Z"}, "body": "Lookup proofs and history proofs now return a `VerifyResult` struct, defined as follows:\r\n```\r\npub struct VerifyResult {\r\n    /// The epoch of this record\r\n    pub epoch: u64,\r\n    /// Version at this update\r\n    pub version: u64,\r\n    /// The plaintext value associated with the record\r\n    pub value: AkdValue,\r\n}\r\n```\r\nThat way, a consumer of the lookup proof / history proof verification API can potentially use these plaintext values to check consistency with the \"expected\" values.\r\n\r\nAlso in this PR, I adjusted the API for history proof generation and verification to use enums for custom parameters:\r\n\r\nFor history proof generation, in order to support the creating of a limited key history, we now have this enum:\r\n```\r\npub enum HistoryParams {\r\n    /// Returns a complete history for a label\r\n    Complete,\r\n    /// Returns up to the most recent N updates for a label\r\n    MostRecent(usize),\r\n    /// Returns all updates since a specified epoch (inclusive)\r\n    SinceEpoch(u64),\r\n}\r\n```\r\nSo a HistoryParams::MostRecent(3) will return the 3 most recent updates for the history proof.\r\n\r\nFor history proof verification, we used to have a boolean value denoting whether or not we should allow tombstoned values. This has been replaced with the following enum:\r\n```\r\npub enum HistoryVerificationParams {\r\n    /// No customization to the verification procedure\r\n    Default,\r\n    /// Allows for the encountering of missing (tombstoned) values\r\n    /// instead of attempting to check if their hash matches the leaf node\r\n    /// hash\r\n    AllowMissingValues,\r\n}\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/266/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/263", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/263/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/263/events", "html_url": "https://github.com/facebook/akd/pull/263", "id": 1446590008, "node_id": "PR_kwDOFr0TCM5CwxET", "number": 263, "title": "Moving hasher generic from directory functions to its struct", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-12T20:18:36Z", "updated_at": "2022-11-15T05:43:00Z", "closed_at": "2022-11-15T05:43:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/263", "html_url": "https://github.com/facebook/akd/pull/263", "diff_url": "https://github.com/facebook/akd/pull/263.diff", "patch_url": "https://github.com/facebook/akd/pull/263.patch", "merged_at": "2022-11-15T05:42:59Z"}, "body": "Closes #178.\r\n\r\nShould be merged only after merging #262.\r\n\r\nThis could be merged against the dev branch instead of the main branch if that makes more sense. Since it introduces breaking changes to the high-level API.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/262", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/262/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/262/events", "html_url": "https://github.com/facebook/akd/pull/262", "id": 1446576640, "node_id": "PR_kwDOFr0TCM5CwuV7", "number": 262, "title": "Documentation pass over high-level API", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-12T19:34:38Z", "updated_at": "2022-11-14T14:07:13Z", "closed_at": "2022-11-14T14:07:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/262", "html_url": "https://github.com/facebook/akd/pull/262", "diff_url": "https://github.com/facebook/akd/pull/262.diff", "patch_url": "https://github.com/facebook/akd/pull/262.patch", "merged_at": "2022-11-14T14:07:12Z"}, "body": "Improves the akd rust docs by simplifying the examples and adding some more text to explain what an AKD is.\r\n\r\nNo actual code changes other than documentation comments in this PR.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/259", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/259/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/259/events", "html_url": "https://github.com/facebook/akd/pull/259", "id": 1442711525, "node_id": "PR_kwDOFr0TCM5CjpwB", "number": 259, "title": "0.7.6", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T20:33:38Z", "updated_at": "2022-11-09T20:33:58Z", "closed_at": "2022-11-09T20:33:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/259", "html_url": "https://github.com/facebook/akd/pull/259", "diff_url": "https://github.com/facebook/akd/pull/259.diff", "patch_url": "https://github.com/facebook/akd/pull/259.patch", "merged_at": "2022-11-09T20:33:55Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/258", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/258/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/258/events", "html_url": "https://github.com/facebook/akd/pull/258", "id": 1442704613, "node_id": "PR_kwDOFr0TCM5CjoP8", "number": 258, "title": "Slawlor/74", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T20:27:02Z", "updated_at": "2022-11-09T20:27:51Z", "closed_at": "2022-11-09T20:27:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/258", "html_url": "https://github.com/facebook/akd/pull/258", "diff_url": "https://github.com/facebook/akd/pull/258.diff", "patch_url": "https://github.com/facebook/akd/pull/258.patch", "merged_at": "2022-11-09T20:27:34Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/257", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/257/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/257/events", "html_url": "https://github.com/facebook/akd/pull/257", "id": 1442388186, "node_id": "PR_kwDOFr0TCM5Cij2s", "number": 257, "title": "Publish tweak due to missing dependency between AKD + akd_client", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T16:24:00Z", "updated_at": "2022-11-09T20:12:28Z", "closed_at": "2022-11-09T20:12:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/257", "html_url": "https://github.com/facebook/akd/pull/257", "diff_url": "https://github.com/facebook/akd/pull/257.diff", "patch_url": "https://github.com/facebook/akd/pull/257.patch", "merged_at": "2022-11-09T20:12:25Z"}, "body": "Requires a re-publish of v0.7.3 as v0.7.4", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/256", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/256/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/256/events", "html_url": "https://github.com/facebook/akd/pull/256", "id": 1440521768, "node_id": "PR_kwDOFr0TCM5CcOzW", "number": 256, "title": "Upgrade protobuf to version 3.2.0", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T16:27:46Z", "updated_at": "2022-11-09T16:08:19Z", "closed_at": "2022-11-09T16:08:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/256", "html_url": "https://github.com/facebook/akd/pull/256", "diff_url": "https://github.com/facebook/akd/pull/256.diff", "patch_url": "https://github.com/facebook/akd/pull/256.patch", "merged_at": "2022-11-09T16:08:15Z"}, "body": "As titled, we're bringing protobuf up to the latest specification.\r\n\r\nThis PR \r\n\r\n1. Regenerates the protobuf generated code\r\n2. Updates all the converters to handle the new type formats\r\n3. Re-checks all tests", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/255", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/255/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/255/events", "html_url": "https://github.com/facebook/akd/pull/255", "id": 1438875662, "node_id": "PR_kwDOFr0TCM5CWmuO", "number": 255, "title": "Retry: Update to most recent VRF draft.", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-07T19:40:07Z", "updated_at": "2022-11-21T21:39:42Z", "closed_at": "2022-11-21T21:39:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/255", "html_url": "https://github.com/facebook/akd/pull/255", "diff_url": "https://github.com/facebook/akd/pull/255.diff", "patch_url": "https://github.com/facebook/akd/pull/255.patch", "merged_at": "2022-11-21T21:39:39Z"}, "body": "Previously reverted PR for VRF update can now be landed with updated clippy lints applied\r\n\r\n* Update to most recent VRF draft.\r\n\r\n* Apply same changes to testing ECVRF implementation.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/254", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/254/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/254/events", "html_url": "https://github.com/facebook/akd/pull/254", "id": 1438660655, "node_id": "PR_kwDOFr0TCM5CV4xH", "number": 254, "title": "akd_client feature adjustment", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-07T16:44:42Z", "updated_at": "2022-11-07T17:01:51Z", "closed_at": "2022-11-07T17:01:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/254", "html_url": "https://github.com/facebook/akd/pull/254", "diff_url": "https://github.com/facebook/akd/pull/254.diff", "patch_url": "https://github.com/facebook/akd/pull/254.patch", "merged_at": "2022-11-07T17:01:46Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/253", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/253/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/253/events", "html_url": "https://github.com/facebook/akd/pull/253", "id": 1438542849, "node_id": "PR_kwDOFr0TCM5CVfpp", "number": 253, "title": "AKD_CLIENT cleanup and leanout", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-07T15:22:37Z", "updated_at": "2022-11-07T16:21:09Z", "closed_at": "2022-11-07T16:20:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/253", "html_url": "https://github.com/facebook/akd/pull/253", "diff_url": "https://github.com/facebook/akd/pull/253.diff", "patch_url": "https://github.com/facebook/akd/pull/253.patch", "merged_at": "2022-11-07T16:20:49Z"}, "body": "This PR \r\n\r\n1. Re-organizes the dependencies in the `Cargo.toml` of `akd_client` to be easier to maintain in the future\r\n2. Removes the `serde` feature from `ed25519-dalek` and makes it only enabled if `serde` serialization is requested of this crate.\r\n3. Does some crate re-aliasing to make features cleaner", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/252", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/252/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/252/events", "html_url": "https://github.com/facebook/akd/pull/252", "id": 1437244304, "node_id": "PR_kwDOFr0TCM5CRTWA", "number": 252, "title": "Disable build.rs in akd/ as well", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-06T01:07:17Z", "updated_at": "2022-11-06T01:43:34Z", "closed_at": "2022-11-06T01:43:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/252", "html_url": "https://github.com/facebook/akd/pull/252", "diff_url": "https://github.com/facebook/akd/pull/252.diff", "patch_url": "https://github.com/facebook/akd/pull/252.patch", "merged_at": "2022-11-06T01:43:34Z"}, "body": "Similar to #251 but also covers the akd/ Cargo.toml in addition to akd_client/.\r\n\r\nRight now, running `cargo test` in the root directory produces an error because of this.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/252/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/251", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/251/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/251/events", "html_url": "https://github.com/facebook/akd/pull/251", "id": 1436410420, "node_id": "PR_kwDOFr0TCM5COlkj", "number": 251, "title": "Disable build.rs building except when protobuf changes are necessary", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-04T17:27:16Z", "updated_at": "2022-11-04T17:51:54Z", "closed_at": "2022-11-04T17:51:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/251", "html_url": "https://github.com/facebook/akd/pull/251", "diff_url": "https://github.com/facebook/akd/pull/251.diff", "patch_url": "https://github.com/facebook/akd/pull/251.patch", "merged_at": "2022-11-04T17:51:32Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/249", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/249/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/249/events", "html_url": "https://github.com/facebook/akd/pull/249", "id": 1436404897, "node_id": "PR_kwDOFr0TCM5COka8", "number": 249, "title": "Revert \"Update to most recent VRF draft.\"", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-04T17:22:20Z", "updated_at": "2022-11-04T17:23:23Z", "closed_at": "2022-11-04T17:23:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/249", "html_url": "https://github.com/facebook/akd/pull/249", "diff_url": "https://github.com/facebook/akd/pull/249.diff", "patch_url": "https://github.com/facebook/akd/pull/249.patch", "merged_at": "2022-11-04T17:23:07Z"}, "body": "Reverts novifinancial/akd#245 due to broken CI build (clippy lints broken). Additionally let's wait on merging the VRF changes", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/246", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/246/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/246/events", "html_url": "https://github.com/facebook/akd/pull/246", "id": 1430034272, "node_id": "PR_kwDOFr0TCM5B5OFV", "number": 246, "title": "Adding protobuf serialization support for akd_client types", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-31T15:24:53Z", "updated_at": "2022-11-01T12:56:56Z", "closed_at": "2022-11-01T12:56:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/246", "html_url": "https://github.com/facebook/akd/pull/246", "diff_url": "https://github.com/facebook/akd/pull/246.diff", "patch_url": "https://github.com/facebook/akd/pull/246.patch", "merged_at": "2022-11-01T12:56:52Z"}, "body": "Protobuf is utilized for many backwards compatible serializations, and this is no exception. Should anyone want to send types over the wire with compatibility safety this allows serialization via protobuf. It's an opt-in feature.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/245", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/245/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/245/events", "html_url": "https://github.com/facebook/akd/pull/245", "id": 1426597372, "node_id": "PR_kwDOFr0TCM5Bt3LW", "number": 245, "title": "Update to most recent VRF draft.", "user": {"login": "Bren2010", "id": 416022, "node_id": "MDQ6VXNlcjQxNjAyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/416022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bren2010", "html_url": "https://github.com/Bren2010", "followers_url": "https://api.github.com/users/Bren2010/followers", "following_url": "https://api.github.com/users/Bren2010/following{/other_user}", "gists_url": "https://api.github.com/users/Bren2010/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bren2010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bren2010/subscriptions", "organizations_url": "https://api.github.com/users/Bren2010/orgs", "repos_url": "https://api.github.com/users/Bren2010/repos", "events_url": "https://api.github.com/users/Bren2010/events{/privacy}", "received_events_url": "https://api.github.com/users/Bren2010/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-28T03:23:12Z", "updated_at": "2022-11-04T15:39:40Z", "closed_at": "2022-11-04T15:39:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/245", "html_url": "https://github.com/facebook/akd/pull/245", "diff_url": "https://github.com/facebook/akd/pull/245.diff", "patch_url": "https://github.com/facebook/akd/pull/245.patch", "merged_at": "2022-11-04T15:39:39Z"}, "body": "This PR updates the ECVRF implementation to the most recent draft version (https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-vrf-15).", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/245/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/244", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/244/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/244/events", "html_url": "https://github.com/facebook/akd/pull/244", "id": 1426160124, "node_id": "PR_kwDOFr0TCM5Bsa5r", "number": 244, "title": "Adding a BFS preload for audit proof generation.", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-27T19:22:24Z", "updated_at": "2022-10-31T15:10:49Z", "closed_at": "2022-10-31T15:10:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/244", "html_url": "https://github.com/facebook/akd/pull/244", "diff_url": "https://github.com/facebook/akd/pull/244.diff", "patch_url": "https://github.com/facebook/akd/pull/244.patch", "merged_at": "2022-10-31T15:10:20Z"}, "body": "Audit proofs don't currently due batch-retrieval preloading, meaning they walk the binary-tree in a depth-first manner. This is wildly inefficient at-scale, and a BFS is far more efficient.\r\n\r\nThis adds a BFS preload step to audit proof generation, such that we shouldn't need to retrieve any other nodes along the path to generate the proof itself as we greedily generate it.\r\n\r\nThis is critically important if we have a cold cache (i.e. no cache at all) and therefore need to go all the way to the data layer.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/241", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/241/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/241/events", "html_url": "https://github.com/facebook/akd/pull/241", "id": 1379476759, "node_id": "PR_kwDOFr0TCM4_R0ye", "number": 241, "title": "Verify that there is only 1 version of an object in S3 storage", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-20T14:01:18Z", "updated_at": "2022-09-20T20:46:42Z", "closed_at": "2022-09-20T20:16:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/241", "html_url": "https://github.com/facebook/akd/pull/241", "diff_url": "https://github.com/facebook/akd/pull/241.diff", "patch_url": "https://github.com/facebook/akd/pull/241.patch", "merged_at": "2022-09-20T20:16:09Z"}, "body": "S3's object lock does not prevent multiple versions of an object from being present (with the same key). This means, that naively once could enumerate the proofs and there be an updated proof without noticing, leading to a vulnerability. Since the previous + current hashes are part of the key naming, the entire proof would *technically* need to contain the same content, or there would be 2 separate keys with the same epoch, but this PR adds an explicit check of the object's version information to assert that if there are > 1 version for an object, they're all the same hash (`etag`), and if not error out and not validate the proof.\r\n\r\nThis should not be necessary, but in the event a publisher publishes the same proof multiple times (due to some technical glitch for example), that should not prohibit proof validation, and therefore we still want to be able to utilize this tool. However if multiple versions of a key are present, then we should return a legitimate error!", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/241/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/240", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/240/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/240/events", "html_url": "https://github.com/facebook/akd/pull/240", "id": 1369809140, "node_id": "PR_kwDOFr0TCM4-x2IK", "number": 240, "title": "Fixing the AWS pipeline and reorganizing other workflows", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-12T12:20:08Z", "updated_at": "2022-09-15T14:22:35Z", "closed_at": "2022-09-15T14:22:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/240", "html_url": "https://github.com/facebook/akd/pull/240", "diff_url": "https://github.com/facebook/akd/pull/240.diff", "patch_url": "https://github.com/facebook/akd/pull/240.patch", "merged_at": "2022-09-15T14:22:30Z"}, "body": "This PR fixes errors in the triggers on the of the AWS test suite. Additionally it reworks the CI pipeline testing layouts so that tests requiring the MySQL container to be running are in a separate CI to manage what's regular unit test breaks vs more involved integration-test style breaks.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/239", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/239/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/239/events", "html_url": "https://github.com/facebook/akd/pull/239", "id": 1368015311, "node_id": "PR_kwDOFr0TCM4-sFRX", "number": 239, "title": "Adding dynamo DB storage support for local auditor", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T15:48:35Z", "updated_at": "2022-09-09T21:22:21Z", "closed_at": "2022-09-09T21:22:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/239", "html_url": "https://github.com/facebook/akd/pull/239", "diff_url": "https://github.com/facebook/akd/pull/239.diff", "patch_url": "https://github.com/facebook/akd/pull/239.patch", "merged_at": "2022-09-09T21:22:18Z"}, "body": "This PR adds support for a dynamo DB based index of the epochs which provides faster listing operations than iterating the S3 bucket (in principal).\r\n\r\nWe can support further optimizations for queries of epochs in Dynamo in the future as well.\r\n\r\nIt also fixes a header which was incorrect", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/238", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/238/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/238/events", "html_url": "https://github.com/facebook/akd/pull/238", "id": 1366840765, "node_id": "PR_kwDOFr0TCM4-oJmT", "number": 238, "title": "Add API for serializing proofs", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-08T18:54:57Z", "updated_at": "2022-09-08T19:49:04Z", "closed_at": "2022-09-08T19:49:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/238", "html_url": "https://github.com/facebook/akd/pull/238", "diff_url": "https://github.com/facebook/akd/pull/238.diff", "patch_url": "https://github.com/facebook/akd/pull/238.patch", "merged_at": "2022-09-08T19:49:04Z"}, "body": "Provide a serialization API from the `akd_client` so that its users do not need to know the underlying serialization used.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/237", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/237/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/237/events", "html_url": "https://github.com/facebook/akd/pull/237", "id": 1359612241, "node_id": "PR_kwDOFr0TCM4-QHmC", "number": 237, "title": "Update Copyright Headers from Facebook to Meta", "user": {"login": "dillongeorge", "id": 53984247, "node_id": "MDQ6VXNlcjUzOTg0MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53984247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dillongeorge", "html_url": "https://github.com/dillongeorge", "followers_url": "https://api.github.com/users/dillongeorge/followers", "following_url": "https://api.github.com/users/dillongeorge/following{/other_user}", "gists_url": "https://api.github.com/users/dillongeorge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dillongeorge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dillongeorge/subscriptions", "organizations_url": "https://api.github.com/users/dillongeorge/orgs", "repos_url": "https://api.github.com/users/dillongeorge/repos", "events_url": "https://api.github.com/users/dillongeorge/events{/privacy}", "received_events_url": "https://api.github.com/users/dillongeorge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-02T01:56:57Z", "updated_at": "2024-04-22T00:16:27Z", "closed_at": "2022-09-06T17:41:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/237", "html_url": "https://github.com/facebook/akd/pull/237", "diff_url": "https://github.com/facebook/akd/pull/237.diff", "patch_url": "https://github.com/facebook/akd/pull/237.patch", "merged_at": "2022-09-06T17:41:04Z"}, "body": "- Update file headers across the codebase to include copyright appropriate\r\n copyright notices. For reference: `Copyright (c) Meta Platforms, Inc. and\r\n affiliates.`\r\n- Update the `.gitignore` file to ignore idea related directories.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/237/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/236", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/236/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/236/events", "html_url": "https://github.com/facebook/akd/pull/236", "id": 1358132996, "node_id": "PR_kwDOFr0TCM4-LH_U", "number": 236, "title": "Include AZKS storage get error message in read only mode", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-01T01:50:38Z", "updated_at": "2024-09-10T05:01:29Z", "closed_at": "2022-09-01T02:34:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/236", "html_url": "https://github.com/facebook/akd/pull/236", "diff_url": "https://github.com/facebook/akd/pull/236.diff", "patch_url": "https://github.com/facebook/akd/pull/236.patch", "merged_at": "2022-09-01T02:34:46Z"}, "body": "Will help with debugging any errors thrown from the Storage layer.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/236/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/235", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/235/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/235/events", "html_url": "https://github.com/facebook/akd/pull/235", "id": 1357492428, "node_id": "PR_kwDOFr0TCM4-I7_d", "number": 235, "title": "Missing copyright headers", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-31T15:17:21Z", "updated_at": "2022-08-31T16:45:43Z", "closed_at": "2022-08-31T16:45:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/235", "html_url": "https://github.com/facebook/akd/pull/235", "diff_url": "https://github.com/facebook/akd/pull/235.diff", "patch_url": "https://github.com/facebook/akd/pull/235.patch", "merged_at": "2022-08-31T16:45:41Z"}, "body": "`akd/src/proto/mod.rs` is missing the copyright header. Adding it", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/234", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/234/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/234/events", "html_url": "https://github.com/facebook/akd/pull/234", "id": 1356450817, "node_id": "PR_kwDOFr0TCM4-FYrl", "number": 234, "title": "Add serialized proof verification to akd_client", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-30T23:22:22Z", "updated_at": "2022-09-07T18:17:10Z", "closed_at": "2022-09-07T18:17:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/234", "html_url": "https://github.com/facebook/akd/pull/234", "diff_url": "https://github.com/facebook/akd/pull/234.diff", "patch_url": "https://github.com/facebook/akd/pull/234.patch", "merged_at": "2022-09-07T18:17:10Z"}, "body": "Adding the API and tests for verifying serialized proofs. JSON is used as the medium to serialize with since it offers easier debugging and more interoperability (maybe).\r\n\r\n\r\nSince an AKD user will need to convert the AKD types to AKD_CLIENT types first before serializing proofs, this PR also adds support for the `converters` feature.\r\n\r\nTesting:\r\n\r\n`cargo build/test` passes as well as `cargo build/test --features=converters`", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/233", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/233/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/233/events", "html_url": "https://github.com/facebook/akd/pull/233", "id": 1355952945, "node_id": "PR_kwDOFr0TCM4-DrsS", "number": 233, "title": "Migrate to usage of rustyrepl for easy REPL processing + S3 integration tests", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-30T15:33:05Z", "updated_at": "2022-09-07T18:16:36Z", "closed_at": "2022-09-07T18:14:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/233", "html_url": "https://github.com/facebook/akd/pull/233", "diff_url": "https://github.com/facebook/akd/pull/233.diff", "patch_url": "https://github.com/facebook/akd/pull/233.patch", "merged_at": "2022-09-07T18:14:55Z"}, "body": "`rustyrepl` is a new crate to facilitate a lot of the boiler plate with REPL processing. It provides a cleaner syntax and is easy to manage.\r\n\r\nAdditionally this PR adds integration tests around the `s3` integration logic utilizing an s3-minic (`minio`) docker container.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/232", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/232/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/232/events", "html_url": "https://github.com/facebook/akd/pull/232", "id": 1355870665, "node_id": "PR_kwDOFr0TCM4-DZ2O", "number": 232, "title": "Fix mismatched types in trait based on features", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-30T14:35:03Z", "updated_at": "2022-08-30T17:22:34Z", "closed_at": "2022-08-30T17:22:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/232", "html_url": "https://github.com/facebook/akd/pull/232", "diff_url": "https://github.com/facebook/akd/pull/232.diff", "patch_url": "https://github.com/facebook/akd/pull/232.patch", "merged_at": "2022-08-30T17:22:01Z"}, "body": "This was preventing version publication, so with this merged we'll try and re-publish version v0.7.1\r\n\r\nResolved #230 ", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/231", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/231/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/231/events", "html_url": "https://github.com/facebook/akd/pull/231", "id": 1354288952, "node_id": "PR_kwDOFr0TCM49-FZZ", "number": 231, "title": "Fix the in-memory database implementations to properly handle transactions", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723651, "node_id": "MDU6TGFiZWwzMTI3NzIzNjUx", "url": "https://api.github.com/repos/facebook/akd/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-29T13:19:59Z", "updated_at": "2022-08-29T17:31:27Z", "closed_at": "2022-08-29T17:19:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/231", "html_url": "https://github.com/facebook/akd/pull/231", "diff_url": "https://github.com/facebook/akd/pull/231.diff", "patch_url": "https://github.com/facebook/akd/pull/231.patch", "merged_at": "2022-08-29T17:19:20Z"}, "body": "The `batch_set` implementations in both memory databases wasn't updating the transaction logs, causing improper construction of the transaction log. This makes both `batch_set` implementations adhere to the spec for transaction handling, as well as adding some test coverage around the ordering of the aZKS commitment to storage (aZKS record must be **last**).", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/228", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/228/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/228/events", "html_url": "https://github.com/facebook/akd/pull/228", "id": 1348516518, "node_id": "PR_kwDOFr0TCM49q_61", "number": 228, "title": "Add new \"public_auditing\" functionality backed by S3 storage", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-23T20:36:30Z", "updated_at": "2022-08-29T18:48:22Z", "closed_at": "2022-08-29T18:48:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/228", "html_url": "https://github.com/facebook/akd/pull/228", "diff_url": "https://github.com/facebook/akd/pull/228.diff", "patch_url": "https://github.com/facebook/akd/pull/228.patch", "merged_at": "2022-08-29T18:48:20Z"}, "body": "First of multiple changes to support public auditors using open-source tooling to verify audit proofs. Adds rudimentary console client w/QR code generation and the protobuf spec for audit proofs", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/228/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/228/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/226", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/226/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/226/events", "html_url": "https://github.com/facebook/akd/pull/226", "id": 1336515209, "node_id": "PR_kwDOFr0TCM49DkOQ", "number": 226, "title": "Adding hash trait to DbRecord ", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-11T21:30:01Z", "updated_at": "2022-08-17T21:07:37Z", "closed_at": "2022-08-17T21:05:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/226", "html_url": "https://github.com/facebook/akd/pull/226", "diff_url": "https://github.com/facebook/akd/pull/226.diff", "patch_url": "https://github.com/facebook/akd/pull/226.patch", "merged_at": "2022-08-17T21:05:46Z"}, "body": "Just a minor tweak to help with downstream comparisons of DbRecords with database implementations", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/225", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/225/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/225/events", "html_url": "https://github.com/facebook/akd/pull/225", "id": 1332584965, "node_id": "PR_kwDOFr0TCM482hzW", "number": 225, "title": "Remove forced logger initialization in test suite", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-09T01:28:14Z", "updated_at": "2023-01-01T00:38:33Z", "closed_at": "2022-08-09T23:31:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/225", "html_url": "https://github.com/facebook/akd/pull/225", "diff_url": "https://github.com/facebook/akd/pull/225.diff", "patch_url": "https://github.com/facebook/akd/pull/225.patch", "merged_at": "2022-08-09T23:31:00Z"}, "body": "This PR removes the logger initialization in the `run_test_cases_for_storage_impl` test suite. This is so that clients calling this test suite can initialize their own logger without conflicting with the AKD logger. The AKD logger can still be manually initialized by calling `akd::test_utils::init_logger` in client code.\r\n\r\nThis PR also renames remaining instances of `previous_val_*` variables to `previous_version_*`. This variable/attribute was renamed in #215 but a few instances were left behind.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/224", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/224/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/224/events", "html_url": "https://github.com/facebook/akd/pull/224", "id": 1332192333, "node_id": "PR_kwDOFr0TCM481MPB", "number": 224, "title": "Updated history checks", "user": {"login": "Jasleen1", "id": 6677430, "node_id": "MDQ6VXNlcjY2Nzc0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/6677430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jasleen1", "html_url": "https://github.com/Jasleen1", "followers_url": "https://api.github.com/users/Jasleen1/followers", "following_url": "https://api.github.com/users/Jasleen1/following{/other_user}", "gists_url": "https://api.github.com/users/Jasleen1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jasleen1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jasleen1/subscriptions", "organizations_url": "https://api.github.com/users/Jasleen1/orgs", "repos_url": "https://api.github.com/users/Jasleen1/repos", "events_url": "https://api.github.com/users/Jasleen1/events{/privacy}", "received_events_url": "https://api.github.com/users/Jasleen1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-08T17:45:20Z", "updated_at": "2022-11-14T23:01:18Z", "closed_at": "2022-11-14T23:01:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/224", "html_url": "https://github.com/facebook/akd/pull/224", "diff_url": "https://github.com/facebook/akd/pull/224.diff", "patch_url": "https://github.com/facebook/akd/pull/224.patch", "merged_at": "2022-11-14T23:01:17Z"}, "body": "Minor update to key history verification to ensure previous versions were retired at appropriate times. Addresses https://github.com/novifinancial/akd/issues/222", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/223", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/223/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/223/events", "html_url": "https://github.com/facebook/akd/pull/223", "id": 1329406550, "node_id": "PR_kwDOFr0TCM48sLXw", "number": 223, "title": "Fix significant cache utilization drop for TreeNodes", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-05T03:43:33Z", "updated_at": "2022-08-17T02:55:31Z", "closed_at": "2022-08-17T02:55:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/223", "html_url": "https://github.com/facebook/akd/pull/223", "diff_url": "https://github.com/facebook/akd/pull/223.diff", "patch_url": "https://github.com/facebook/akd/pull/223.patch", "merged_at": "2022-08-17T02:55:31Z"}, "body": "Recently we enabled concurrent reads (proof generations) and writes (publish) by keeping also the previous value of a `TreeNode`. During experiments, we noticed that the cache utilization significantly dropped. For comparison, this is pre-:\r\n\r\n```\r\nMySQL writes: 887, MySQL reads: 16, Time read: 0.076431639 s, Time write: 0.921964539 s\r\n        Tree size: 499\r\n        Value state count: 150\r\nRead call stats: [(\"get_direct:~Azks\", 1), (\"get_user_data~\", 2), (\"get_user_state_versions~\", 3), (\"get_user_state~\", 10)]\r\nWrite call stats: [(\"internal_batch_set~\", 9), (\"internal_set~\", 2)]\r\n```\r\n\r\nPost:\r\n\r\n```\r\nMySQL writes: 878, MySQL reads: 515, Time read: 0.992529763 s, Time write: 2.507405077 s\r\n        Tree size: 499\r\n        Value state count: 150\r\nRead call stats: [(\"get_direct:~Azks\", 1), (\"get_direct:~TreeNode\", 499), (\"get_user_data~\", 2), (\"get_user_state_versions~\", 3), (\"get_user_state~\", 10)]\r\nWrite call stats: [(\"internal_batch_set~\", 9), (\"internal_set~\", 2)]\r\n```\r\nNote the **(\"get_direct:~TreeNode\", 499)** change.\r\n\r\nAfter some digging, I noticed that this is due to for each node we write we look up the previous version of the node. However, this is unnecessary for **new** nodes since their previous value is already known and is `None`. More concerningly, all these calls hit the database -- since this information is not in the cache either.\r\n\r\nThis change ensures that (1) we don't go to the database for previous values of new nodes (and just return `None` for them), (2) new nodes are always saved so they can be fetched from the cache.\r\n\r\n\r\nFor comparison, new values:\r\n\r\n```\r\nMySQL writes: 891, MySQL reads: 16, Time read: 0.072592335 s, Time write: 2.734630483 s\r\n        Tree size: 499\r\n        Value state count: 150\r\nRead call stats: [(\"get_direct:~Azks\", 1), (\"get_user_data~\", 2), (\"get_user_state_versions~\", 3), (\"get_user_state~\", 10)]\r\nWrite call stats: [(\"internal_batch_set~\", 9), (\"internal_set~\", 3)]\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/223/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/219", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/219/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/219/events", "html_url": "https://github.com/facebook/akd/pull/219", "id": 1320444533, "node_id": "PR_kwDOFr0TCM48OXlp", "number": 219, "title": "[RFC] Remove epochs vector from HistoryProof struct", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-28T06:14:54Z", "updated_at": "2023-01-01T00:38:31Z", "closed_at": "2022-08-05T04:22:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/219", "html_url": "https://github.com/facebook/akd/pull/219", "diff_url": "https://github.com/facebook/akd/pull/219.diff", "patch_url": "https://github.com/facebook/akd/pull/219.patch", "merged_at": "2022-08-05T04:22:40Z"}, "body": "HistoryProof contains a vector of `UpdateProof`s and a vector of epochs:\r\n\r\nhttps://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/proof_structs.rs#L227-L234\r\n\r\nAn `UpdateProof` itself contains an epoch:\r\n\r\nhttps://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/proof_structs.rs#L274-L276\r\n\r\nFrom what I can tell, these two fields are populated with the same value:\r\n\r\nhttps://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/directory.rs#L429-L436\r\n\r\n- An update proof is created (line 429) with `create_single_update_proof()` and appended to the end of `update_proofs` (line 430)\r\n- `user_state.epoch` is appended to the end of `epochs` vector (line 436)\r\n\r\nhttps://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/directory.rs#L716-L721\r\n\r\n- In `create_single_update_proof()`, `user_state.epoch` is assigned to the `epoch` attribute (line 721)\r\n\r\nAs such, I propose removing the `epochs` vector of the `HistoryProof` struct in favor of relying on the `epoch` attribute of the contained `UpdateProof` structs.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/218", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/218/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/218/events", "html_url": "https://github.com/facebook/akd/pull/218", "id": 1316282186, "node_id": "PR_kwDOFr0TCM48AuEL", "number": 218, "title": "Remove unused module node_state.rs", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-25T05:16:25Z", "updated_at": "2023-01-01T00:38:28Z", "closed_at": "2022-07-25T14:29:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/218", "html_url": "https://github.com/facebook/akd/pull/218", "diff_url": "https://github.com/facebook/akd/pull/218.diff", "patch_url": "https://github.com/facebook/akd/pull/218.patch", "merged_at": "2022-07-25T14:29:25Z"}, "body": "[`node_state.rs`](https://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/storage/node_state.rs) is an unused, stale copy of [`node_label.rs`](https://github.com/novifinancial/akd/blob/97b2e90589083fef4600f732618715fac29a24f2/akd/src/node_label.rs).\r\n\r\nVerified that no other instances of `node_state` found in `*.rs` files:\r\n```\r\n$ grep -l -r --exclude-dir target --include \\*.rs node_state .\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/216", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/216/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/216/events", "html_url": "https://github.com/facebook/akd/pull/216", "id": 1309949251, "node_id": "PR_kwDOFr0TCM47rG--", "number": 216, "title": "Addressing the concurrency access of the storage layer mid-update", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-19T19:25:05Z", "updated_at": "2022-07-21T20:33:41Z", "closed_at": "2022-07-21T20:33:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/216", "html_url": "https://github.com/facebook/akd/pull/216", "diff_url": "https://github.com/facebook/akd/pull/216.diff", "patch_url": "https://github.com/facebook/akd/pull/216.patch", "merged_at": "2022-07-21T20:33:37Z"}, "body": "Added TreeNodeWithPreviousValue to handle keeping the \"previous\" state of a tree node. This allows us to access the previous value when a node might be in a future state, since the entire tree hasn't completed update yet.\r\n\r\nRelated: #213 ", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/215", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/215/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/215/events", "html_url": "https://github.com/facebook/akd/pull/215", "id": 1298109883, "node_id": "PR_kwDOFr0TCM47DxkD", "number": 215, "title": "Ozks refactor", "user": {"login": "Jasleen1", "id": 6677430, "node_id": "MDQ6VXNlcjY2Nzc0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/6677430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jasleen1", "html_url": "https://github.com/Jasleen1", "followers_url": "https://api.github.com/users/Jasleen1/followers", "following_url": "https://api.github.com/users/Jasleen1/following{/other_user}", "gists_url": "https://api.github.com/users/Jasleen1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jasleen1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jasleen1/subscriptions", "organizations_url": "https://api.github.com/users/Jasleen1/orgs", "repos_url": "https://api.github.com/users/Jasleen1/repos", "events_url": "https://api.github.com/users/Jasleen1/events{/privacy}", "received_events_url": "https://api.github.com/users/Jasleen1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-07T21:11:53Z", "updated_at": "2022-07-21T16:21:48Z", "closed_at": "2022-07-21T16:21:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/215", "html_url": "https://github.com/facebook/akd/pull/215", "diff_url": "https://github.com/facebook/akd/pull/215.diff", "patch_url": "https://github.com/facebook/akd/pull/215.patch", "merged_at": "2022-07-21T16:21:47Z"}, "body": "Addressing the checklists in https://github.com/novifinancial/akd/issues/212\r\n\r\nCloses #212", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/214", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/214/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/214/events", "html_url": "https://github.com/facebook/akd/pull/214", "id": 1288172418, "node_id": "PR_kwDOFr0TCM46ieCB", "number": 214, "title": "Fix example test fixture", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-29T04:57:08Z", "updated_at": "2023-01-01T00:38:26Z", "closed_at": "2022-06-29T13:04:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/214", "html_url": "https://github.com/facebook/akd/pull/214", "diff_url": "https://github.com/facebook/akd/pull/214.diff", "patch_url": "https://github.com/facebook/akd/pull/214.patch", "merged_at": "2022-06-29T13:04:56Z"}, "body": "Noticed that the example test fixture file `test.yaml` was not in a good state post-Ozks merge - this PR fixes it.\r\n\r\nThis involves serializing `TreeNode` hashes to hex with `serde` (so that they will be formatted as hex strings in the fixture file) and re-generating the fixture file with the following command in the `akd_test_tools` directory:\r\n\r\n```\r\nakd_test_tools % cargo run -- \\\r\n  --epochs 10 \\\r\n  --max_updates 5 \\\r\n  --capture_states 9 10 \\\r\n  --capture_deltas 10 \\\r\n  --out src/fixture_generator/examples/test.yaml\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/211", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/211/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/211/events", "html_url": "https://github.com/facebook/akd/pull/211", "id": 1279135955, "node_id": "PR_kwDOFr0TCM46EQRa", "number": 211, "title": "Eozturk1/optimized azks", "user": {"login": "Jasleen1", "id": 6677430, "node_id": "MDQ6VXNlcjY2Nzc0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/6677430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jasleen1", "html_url": "https://github.com/Jasleen1", "followers_url": "https://api.github.com/users/Jasleen1/followers", "following_url": "https://api.github.com/users/Jasleen1/following{/other_user}", "gists_url": "https://api.github.com/users/Jasleen1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jasleen1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jasleen1/subscriptions", "organizations_url": "https://api.github.com/users/Jasleen1/orgs", "repos_url": "https://api.github.com/users/Jasleen1/repos", "events_url": "https://api.github.com/users/Jasleen1/events{/privacy}", "received_events_url": "https://api.github.com/users/Jasleen1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-21T21:40:01Z", "updated_at": "2022-06-23T18:01:54Z", "closed_at": "2022-06-23T18:01:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/211", "html_url": "https://github.com/facebook/akd/pull/211", "diff_url": "https://github.com/facebook/akd/pull/211.diff", "patch_url": "https://github.com/facebook/akd/pull/211.patch", "merged_at": "2022-06-23T18:01:51Z"}, "body": "Merged ozks update with main and updated the corresponding failing tests in `akd_test_tools`.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/204", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/204/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/204/events", "html_url": "https://github.com/facebook/akd/pull/204", "id": 1257463246, "node_id": "PR_kwDOFr0TCM448HaK", "number": 204, "title": "Bump version number to v0.6.2", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-02T01:30:14Z", "updated_at": "2022-06-02T03:12:44Z", "closed_at": "2022-06-02T03:12:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/204", "html_url": "https://github.com/facebook/akd/pull/204", "diff_url": "https://github.com/facebook/akd/pull/204.diff", "patch_url": "https://github.com/facebook/akd/pull/204.patch", "merged_at": "2022-06-02T03:12:43Z"}, "body": "This version bump is to create a release that has a commit hash at which the `akd_test_tools` crate exists. This will resolve some downstream import issues.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/202", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/202/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/202/events", "html_url": "https://github.com/facebook/akd/pull/202", "id": 1254340769, "node_id": "PR_kwDOFr0TCM44w_oM", "number": 202, "title": "Moving parsers out of the integration tests to independent crate", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-31T19:39:42Z", "updated_at": "2022-06-02T15:52:32Z", "closed_at": "2022-05-31T22:00:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/202", "html_url": "https://github.com/facebook/akd/pull/202", "diff_url": "https://github.com/facebook/akd/pull/202.diff", "patch_url": "https://github.com/facebook/akd/pull/202.patch", "merged_at": "2022-05-31T22:00:12Z"}, "body": "Creating an independent fixture generation (and parser) which is separate from the integration tests\r\n\r\nThis allows us to import test fixture generators and parsers more easily for downstream dependencies", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/201", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/201/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/201/events", "html_url": "https://github.com/facebook/akd/pull/201", "id": 1249928025, "node_id": "PR_kwDOFr0TCM44iij6", "number": 201, "title": "Hotfix conditional compilation attributes", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-26T18:53:07Z", "updated_at": "2022-05-31T13:22:37Z", "closed_at": "2022-05-26T20:27:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/201", "html_url": "https://github.com/facebook/akd/pull/201", "diff_url": "https://github.com/facebook/akd/pull/201.diff", "patch_url": "https://github.com/facebook/akd/pull/201.patch", "merged_at": "2022-05-26T20:27:36Z"}, "body": "These errors unfortunately did not surface in CI but only during the [attempted publish to `crates.io`](https://github.com/novifinancial/akd/actions/runs/2392203760).\r\n\r\nManually ran a dry-run publish:\r\n```console\r\n$ cargo publish --dry-run --manifest-path Cargo.toml -p akd \r\n```\r\nNo errors or warnings surfaced.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/200", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/200/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/200/events", "html_url": "https://github.com/facebook/akd/pull/200", "id": 1247570504, "node_id": "PR_kwDOFr0TCM44aupA", "number": 200, "title": "Add fixture reader", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-25T06:31:53Z", "updated_at": "2023-01-01T00:38:24Z", "closed_at": "2022-05-26T11:34:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/200", "html_url": "https://github.com/facebook/akd/pull/200", "diff_url": "https://github.com/facebook/akd/pull/200.diff", "patch_url": "https://github.com/facebook/akd/pull/200.patch", "merged_at": "2022-05-26T11:34:21Z"}, "body": "This PR adds a module for reading files created by the fixture generator tool introduced in #195 . \r\n\r\nI've also included a simple example illustrating how fixtures can be used in tests in the `examples` module.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/199", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/199/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/199/events", "html_url": "https://github.com/facebook/akd/pull/199", "id": 1242028779, "node_id": "PR_kwDOFr0TCM44IjEp", "number": 199, "title": "Add missing copyright header", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-19T16:28:27Z", "updated_at": "2022-05-19T17:34:39Z", "closed_at": "2022-05-19T17:34:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/199", "html_url": "https://github.com/facebook/akd/pull/199", "diff_url": "https://github.com/facebook/akd/pull/199.diff", "patch_url": "https://github.com/facebook/akd/pull/199.patch", "merged_at": "2022-05-19T17:34:35Z"}, "body": "As title.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/198", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/198/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/198/events", "html_url": "https://github.com/facebook/akd/pull/198", "id": 1240443811, "node_id": "PR_kwDOFr0TCM44DO-g", "number": 198, "title": "Skip duplicate values for a user if they're equal in a publish", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723660, "node_id": "MDU6TGFiZWwzMTI3NzIzNjYw", "url": "https://api.github.com/repos/facebook/akd/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-18T19:50:47Z", "updated_at": "2022-05-25T17:21:22Z", "closed_at": "2022-05-25T17:21:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/198", "html_url": "https://github.com/facebook/akd/pull/198", "diff_url": "https://github.com/facebook/akd/pull/198.diff", "patch_url": "https://github.com/facebook/akd/pull/198.patch", "merged_at": "2022-05-25T17:21:19Z"}, "body": "When a user requests publishing a new value to the directory, check that it's not ALREADY the latest value. This helps solve some corner cases around potential race conditions batching changes from upstream queue-like services. See Issue #197 for context.\r\n\r\nThis pull request adds the described functionality as well as a new test around that functionality. It also cleans up existing tests where we apparently were double-publishing the same value for users sequentially.\r\n\r\nAs a note! Publishing value \"a\", then \"b\", then \"a\" again **is** valid! This is a set of changes. However publishing \"a\" then \"a\" again is a no-op in this case, as nothing has changed.\r\n\r\nResolves #197 ", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/195", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/195/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/195/events", "html_url": "https://github.com/facebook/akd/pull/195", "id": 1234527711, "node_id": "PR_kwDOFr0TCM43v7D6", "number": 195, "title": "Fixture generator tool for tests", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-12T22:08:29Z", "updated_at": "2022-05-17T23:38:59Z", "closed_at": "2022-05-17T23:38:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/195", "html_url": "https://github.com/facebook/akd/pull/195", "diff_url": "https://github.com/facebook/akd/pull/195.diff", "patch_url": "https://github.com/facebook/akd/pull/195.patch", "merged_at": "2022-05-17T23:38:55Z"}, "body": "Users of AKD might want to run integration tests against a fixed state of the directory. To this end, this PR adds a CLI tool that generates \"fixture\" files containing entire DB states, as well as directory updates between states. Users can then load this file to set up directories with fixed states, apply a given changeset, and assert that the output directory is as expected as part of their tests.\r\n\r\n## Follow-Up Tasks\r\n\r\n- Fixture reader so that users do not need to write their own parser. \r\n- ~~Support using a database other than the in-memory one.~~ Not necessary, see discussion\r\n- Support using a custom VRF key rather than the hardcoded one.\r\n- Support using a custom hasher rather than Blake3.\r\n- Better CLI binary name - it currently adopts the crate name (akd_integration_tests).\r\n- Error handling instead of unwraps.\r\n- Add mode to allow specification of a number of users to randomly generate updates for, without needing to list out the epochs or usernames.\r\n\r\nI will create an issue tracking these tasks after this PR is approved.\r\n\r\n\r\n## Options\r\n\r\nThe available configuration parameters can be accessed with the `--help` flag:\r\n```console\r\nakd_integration_tests \r\nThis tool allows a directory to be created with specified and random contents, capturing the\r\ndirectory state and epoch-to-epoch delta in an output file for use in debugging and as test fixtures\r\n\r\nUSAGE:\r\n    akd_integration_tests [OPTIONS] --epochs <EPOCHS>\r\n\r\nOPTIONS:\r\n    -u, --user <USERS>\r\n            Users and their associated update events. A username is expected, followed by a colon\r\n            and a list of epochs OR (epoch, value). Usernames are expected to be utf-8 strings,\r\n            which will be internally interpreted as bytes. The following are valid examples of user\r\n            arguments: --user \"username: 1, 3, (5, 'xyz')\" --user=\"username: [(1,'abc'), 2]\" -u\r\n            \"some username: 1\"\r\n\r\n    -e, --epochs <EPOCHS>\r\n            Number of epochs to advance the tree by e.g. a value of 3 will perform 3 publishes on an\r\n            empty directory\r\n\r\n        --max_updates <MAX_UPDATES>\r\n            Maximum number of updates **per epoch** the tool should perform. Note that all user\r\n            events explicitly passed for an epoch will be included even if the number exceeds this\r\n            value [default: 10]\r\n\r\n        --min_updates <MIN_UPDATES>\r\n            Minimum number of updates **per epoch** the tool should perform. The tool will generate\r\n            random labels and values to include in an epoch if the user events explicitly passed for\r\n            an epoch are not sufficients [default: 0]\r\n\r\n    -s, --capture_states <CAPTURE_STATES>...\r\n            Epochs where the state of the directory should be captured in the output e.g. the value\r\n            3 will output all db records after epoch 3 is performed. Multiple values should be\r\n            separated with \",\"\r\n\r\n    -d, --capture_deltas <CAPTURE_DELTAS>...\r\n            Epochs where the updates required to bring the directory to the epoch should be captured\r\n            in the output. e.g. the value 3 will output all updates that were performed to advance\r\n            the directory from epoch 2 to 3. Multiple values should be separated with \",\"\r\n\r\n    -o, --out <OUT>\r\n            Name of output file. If omitted, output will be printed to stdout\r\n\r\n    -n, --no_generated_updates\r\n            Stops tool from generating random updates in publishes. Use this if you want the tool to\r\n            only use explicitly passed updates. Explicilty passed updates without values would still\r\n            use randomly generated values\r\n\r\n    -h, --help\r\n            Print help information\r\n```\r\n\r\n## Example\r\nThe following is a simple run with just 2 users and 1 epoch, as the fixture file does get pretty large for larger directories. The upcoming compression of the directory state in #189 should help with this.\r\n\r\n```console\r\ncargo run -- \\\r\n    --user \"User1: (1,\u2019abc')\" \\\r\n    --user \"User2: 1\" \\\r\n    --epochs 1 \\\r\n    --max_updates 2  \\\r\n    --capture_states 1 \\\r\n    --capture_deltas 1\r\n```\r\nOutput:\r\n```yaml\r\n# @generated This file was automatically generated by \r\n# the fixture generator tool with the following command:\r\n# \r\n# cargo run -- \\\r\n#   --user User1: (1,\u2019abc') \\\r\n#   --user User2: 1 \\\r\n#   --epochs 1 \\\r\n#   --max_updates 2 \\\r\n#   --capture_states 1 \\\r\n#   --capture_deltas 1 \\\r\n\r\n# Metadata\r\n---\r\nargs:\r\n  users:\r\n    - label: \"5573657231\"\r\n      events:\r\n        - epoch: 1\r\n          value: ~\r\n    - label: \"5573657232\"\r\n      events:\r\n        - epoch: 1\r\n          value: ~\r\n  epochs: 1\r\n  max_updates: 2\r\n  min_updates: 0\r\n  capture_states:\r\n    - 1\r\n  capture_deltas:\r\n    - 1\r\n  out: ~\r\n  no_generated_updates: false\r\nversion: 0.0.0\r\n\r\n# Delta - Epoch 1\r\n---\r\nepoch: 1\r\nupdates:\r\n  - - \"5573657232\"\r\n    - 496F684550476557707A46374548623253566F525A534246706A4745674A4876\r\n  - - \"5573657231\"\r\n    - 37473842516A656D4F565951376565573357636F57584A43334C456E52794D5A\r\n\r\n# State - Epoch 1\r\n---\r\nepoch: 1\r\nrecords:\r\n  - HistoryNodeState:\r\n      value: BA04DF61914ED989AA49483C51AA65A06700F4481EF6D335629C2CF713BFBA06\r\n      child_states:\r\n        - label:\r\n            val: 0103D3A12A093B1D1D0A39EC77C4B20185CE3384E22CC25BCFC4563D54C5FC7E\r\n            len: 256\r\n          hash_val: 6C724ABB2EAA5FF1934E95D40136BDD0F3089592AEA7C8BDD4E6845F0B27FE13\r\n          epoch_version: 1\r\n        - label:\r\n            val: 7A16746720D4DBAAF15D636AE7A638731203E25FC1FF76E07E347A25D6343F1D\r\n            len: 256\r\n          hash_val: DC3EB184BC9F94426271D9A6721EB3329468258A0A9023E1EFEC452D85937339\r\n          epoch_version: 1\r\n      key:\r\n        - val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n          len: 1\r\n        - 1\r\n  - HistoryNodeState:\r\n      value: AC4E406A635C407964A941871D3A0293BAC6BF721EA314D90C25975C25592FBE\r\n      child_states:\r\n        - label:\r\n            val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n            len: 1\r\n          hash_val: 024356D80D8DBD4D2017F31A4DC2A714C605EA0E27E903E9E3F40E09251E955C\r\n          epoch_version: 1\r\n        - ~\r\n      key:\r\n        - val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n          len: 0\r\n        - 1\r\n  - HistoryTreeNode:\r\n      label:\r\n        val: 0103D3A12A093B1D1D0A39EC77C4B20185CE3384E22CC25BCFC4563D54C5FC7E\r\n        len: 256\r\n      last_epoch: 1\r\n      birth_epoch: 1\r\n      parent:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 1\r\n      node_type: Leaf\r\n  - Azks:\r\n      latest_epoch: 1\r\n      num_nodes: 4\r\n  - HistoryTreeNode:\r\n      label:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 1\r\n      last_epoch: 1\r\n      birth_epoch: 1\r\n      parent:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 0\r\n      node_type: Interior\r\n  - HistoryNodeState:\r\n      value: 2D3ADEDFF11B61F14C886E35AFA036736DCD87A74D27B5C1510225D0F592E213\r\n      child_states:\r\n        - ~\r\n        - ~\r\n      key:\r\n        - val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n          len: 0\r\n        - 0\r\n  - HistoryTreeNode:\r\n      label:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 0\r\n      last_epoch: 1\r\n      birth_epoch: 0\r\n      parent:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 0\r\n      node_type: Root\r\n  - HistoryTreeNode:\r\n      label:\r\n        val: 7A16746720D4DBAAF15D636AE7A638731203E25FC1FF76E07E347A25D6343F1D\r\n        len: 256\r\n      last_epoch: 1\r\n      birth_epoch: 1\r\n      parent:\r\n        val: \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n        len: 1\r\n      node_type: Leaf\r\n  - HistoryNodeState:\r\n      value: 1ABF704F58B8807A5F7E971BCC2B23CBDBF90A146F02C9EBA7D6E1CAC179248F\r\n      child_states:\r\n        - ~\r\n        - ~\r\n      key:\r\n        - val: 0103D3A12A093B1D1D0A39EC77C4B20185CE3384E22CC25BCFC4563D54C5FC7E\r\n          len: 256\r\n        - 1\r\n  - HistoryNodeState:\r\n      value: 3389E70D92C1D519762F293EC941A5EB5D6D5F99DFBF56B7756DDC0FC4F6A754\r\n      child_states:\r\n        - ~\r\n        - ~\r\n      key:\r\n        - val: 7A16746720D4DBAAF15D636AE7A638731203E25FC1FF76E07E347A25D6343F1D\r\n          len: 256\r\n        - 1\r\n  - ValueState:\r\n      plaintext_val: 37473842516A656D4F565951376565573357636F57584A43334C456E52794D5A\r\n      version: 1\r\n      label:\r\n        val: 7A16746720D4DBAAF15D636AE7A638731203E25FC1FF76E07E347A25D6343F1D\r\n        len: 256\r\n      epoch: 1\r\n      username: \"5573657231\"\r\n  - ValueState:\r\n      plaintext_val: 496F684550476557707A46374548623253566F525A534246706A4745674A4876\r\n      version: 1\r\n      label:\r\n        val: 0103D3A12A093B1D1D0A39EC77C4B20185CE3384E22CC25BCFC4563D54C5FC7E\r\n        len: 256\r\n      epoch: 1\r\n      username: \"5573657232\"\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/194", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/194/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/194/events", "html_url": "https://github.com/facebook/akd/pull/194", "id": 1230467669, "node_id": "PR_kwDOFr0TCM43ir3N", "number": 194, "title": "Migrate from structopt to clap 3 and fix random string generation", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-10T01:24:14Z", "updated_at": "2023-01-01T00:38:22Z", "closed_at": "2022-05-11T17:05:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/194", "html_url": "https://github.com/facebook/akd/pull/194", "diff_url": "https://github.com/facebook/akd/pull/194.diff", "patch_url": "https://github.com/facebook/akd/pull/194.patch", "merged_at": "2022-05-11T17:05:31Z"}, "body": "`structopt` is now in [maintenance mode](https://docs.rs/structopt/latest/structopt/#maintenance) and has been superseded by `clap` v3. This PR migrates us to `clap`.\r\n\r\nIn addition, the `get_random_str` helper function did not properly generate 32-byte strings. Instead of creating a 32-char string, it created a string of an array of 32 bytes (e.g. `\"[244, 198, 197, 130, ...]\"`). This PR fixes the function to return a random 32-char string which can later be interpreted as 32 bytes.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/193", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/193/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/193/events", "html_url": "https://github.com/facebook/akd/pull/193", "id": 1227292180, "node_id": "PR_kwDOFr0TCM43YtI3", "number": 193, "title": "Fix clippy lint error", "user": {"login": "afterdusk", "id": 20502803, "node_id": "MDQ6VXNlcjIwNTAyODAz", "avatar_url": "https://avatars.githubusercontent.com/u/20502803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afterdusk", "html_url": "https://github.com/afterdusk", "followers_url": "https://api.github.com/users/afterdusk/followers", "following_url": "https://api.github.com/users/afterdusk/following{/other_user}", "gists_url": "https://api.github.com/users/afterdusk/gists{/gist_id}", "starred_url": "https://api.github.com/users/afterdusk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afterdusk/subscriptions", "organizations_url": "https://api.github.com/users/afterdusk/orgs", "repos_url": "https://api.github.com/users/afterdusk/repos", "events_url": "https://api.github.com/users/afterdusk/events{/privacy}", "received_events_url": "https://api.github.com/users/afterdusk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-06T00:10:10Z", "updated_at": "2023-01-01T00:38:20Z", "closed_at": "2022-05-06T00:40:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/193", "html_url": "https://github.com/facebook/akd/pull/193", "diff_url": "https://github.com/facebook/akd/pull/193.diff", "patch_url": "https://github.com/facebook/akd/pull/193.patch", "merged_at": "2022-05-06T00:40:28Z"}, "body": "As title.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/192", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/192/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/192/events", "html_url": "https://github.com/facebook/akd/pull/192", "id": 1214609827, "node_id": "PR_kwDOFr0TCM42u1GR", "number": 192, "title": "Adding verification of sequential nature of history proof", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-25T14:37:21Z", "updated_at": "2022-05-06T13:13:28Z", "closed_at": "2022-05-06T13:13:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/192", "html_url": "https://github.com/facebook/akd/pull/192", "diff_url": "https://github.com/facebook/akd/pull/192.diff", "patch_url": "https://github.com/facebook/akd/pull/192.patch", "merged_at": "2022-05-06T13:13:25Z"}, "body": "We calculate the expected version number given a maximum version, and work backwards assuring that the versions are sequentially decreasing until the minimum version. This assures there are no gaps in the history \r\n\r\nResolves #191", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/190", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/190/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/190/events", "html_url": "https://github.com/facebook/akd/pull/190", "id": 1212432901, "node_id": "PR_kwDOFr0TCM42oODz", "number": 190, "title": "Adjusting crate dependency tree", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-22T14:25:26Z", "updated_at": "2022-04-22T14:26:02Z", "closed_at": "2022-04-22T14:25:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/190", "html_url": "https://github.com/facebook/akd/pull/190", "diff_url": "https://github.com/facebook/akd/pull/190.diff", "patch_url": "https://github.com/facebook/akd/pull/190.patch", "merged_at": "2022-04-22T14:25:56Z"}, "body": "Needed to hard-target specific version of AKD such that mysql has the expected serialization feature flag.\r\n\r\nAlso moved akd_client up in the publish flow, as it doesn't strictly depend on the akd crate to publish.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/189", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/189/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/189/events", "html_url": "https://github.com/facebook/akd/pull/189", "id": 1205083500, "node_id": "PR_kwDOFr0TCM42RB3D", "number": 189, "title": "Optimized azks", "user": {"login": "eozturk1", "id": 2659276, "node_id": "MDQ6VXNlcjI2NTkyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2659276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eozturk1", "html_url": "https://github.com/eozturk1", "followers_url": "https://api.github.com/users/eozturk1/followers", "following_url": "https://api.github.com/users/eozturk1/following{/other_user}", "gists_url": "https://api.github.com/users/eozturk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/eozturk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eozturk1/subscriptions", "organizations_url": "https://api.github.com/users/eozturk1/orgs", "repos_url": "https://api.github.com/users/eozturk1/repos", "events_url": "https://api.github.com/users/eozturk1/events{/privacy}", "received_events_url": "https://api.github.com/users/eozturk1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-14T22:47:22Z", "updated_at": "2022-06-09T00:06:04Z", "closed_at": "2022-06-02T05:43:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/189", "html_url": "https://github.com/facebook/akd/pull/189", "diff_url": "https://github.com/facebook/akd/pull/189.diff", "patch_url": "https://github.com/facebook/akd/pull/189.patch", "merged_at": "2022-06-02T05:43:00Z"}, "body": "See Issue #186.\r\n\r\nWith the removal of previous states of `HistoryTreeNode`, we don't have a need for keeping states for multiple epochs. In result, `HistoryTreeNode`, `HistoryNodeState` and `HistoryChildState` can simply be replaced with `TreeNode`.\r\n\r\nThis diff starts this conversion by adding the labels of its (1) left and right children, and (2) its hash to the `HistoryTreeNode` (not yet re-named). Actual hash updates will be added in the next diffs. Rather than keeping the node hashes at the parent, I will keep them at the node itself. \r\n\r\nNOTE: The PR builds with `cargo build` but not ready for testing. The purpose of the PR is to \"get it out there\" to get feedback rather than merging it.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/189/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/188", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/188/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/188/events", "html_url": "https://github.com/facebook/akd/pull/188", "id": 1185265039, "node_id": "PR_kwDOFr0TCM41QDOm", "number": 188, "title": "Make VRF(Public|Private) key Cloneable", "user": {"login": "davidjattfb", "id": 96443727, "node_id": "U_kgDOBb-dTw", "avatar_url": "https://avatars.githubusercontent.com/u/96443727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidjattfb", "html_url": "https://github.com/davidjattfb", "followers_url": "https://api.github.com/users/davidjattfb/followers", "following_url": "https://api.github.com/users/davidjattfb/following{/other_user}", "gists_url": "https://api.github.com/users/davidjattfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidjattfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidjattfb/subscriptions", "organizations_url": "https://api.github.com/users/davidjattfb/orgs", "repos_url": "https://api.github.com/users/davidjattfb/repos", "events_url": "https://api.github.com/users/davidjattfb/events{/privacy}", "received_events_url": "https://api.github.com/users/davidjattfb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-29T18:38:34Z", "updated_at": "2022-03-29T19:06:51Z", "closed_at": "2022-03-29T19:06:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/188", "html_url": "https://github.com/facebook/akd/pull/188", "diff_url": "https://github.com/facebook/akd/pull/188.diff", "patch_url": "https://github.com/facebook/akd/pull/188.patch", "merged_at": "2022-03-29T19:06:51Z"}, "body": "This implements the std::clone::Clone trait on the VRFPublicKey and VRFPrivateKey structs. In the case of the PublicKey, the ed25519_dalek::PublicKey already supports clone so the trait can be #derived. The ed25519_dalek::SecretKey does not, so a manual implementation is required. It simply creates a new SecretKey out of the bytes of the original.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/187", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/187/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/187/events", "html_url": "https://github.com/facebook/akd/pull/187", "id": 1181216489, "node_id": "PR_kwDOFr0TCM41Ci8p", "number": 187, "title": "Protect storage key deserializations", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-25T19:58:51Z", "updated_at": "2022-03-28T21:10:21Z", "closed_at": "2022-03-28T21:10:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/187", "html_url": "https://github.com/facebook/akd/pull/187", "diff_url": "https://github.com/facebook/akd/pull/187.diff", "patch_url": "https://github.com/facebook/akd/pull/187.patch", "merged_at": "2022-03-28T21:10:18Z"}, "body": "This change adds a protection on storage-type key deserialization to assert that the first byte does indeed denote the same type of key that is trying to be deserialzed.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/185", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/185/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/185/events", "html_url": "https://github.com/facebook/akd/pull/185", "id": 1173041109, "node_id": "PR_kwDOFr0TCM40oWJX", "number": 185, "title": "Using proper commitments for the AkdValue leaf node representation", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-18T00:04:40Z", "updated_at": "2022-03-25T20:38:46Z", "closed_at": "2022-03-25T20:38:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/185", "html_url": "https://github.com/facebook/akd/pull/185", "diff_url": "https://github.com/facebook/akd/pull/185.diff", "patch_url": "https://github.com/facebook/akd/pull/185.patch", "merged_at": "2022-03-25T20:38:46Z"}, "body": "Introducing a commitment to replace the `value_to_bytes` function used to convert AkdValues to bytestrings that get hashed. We will use a keyed hash (modeled as a random oracle) as a commitment here.\r\n\r\nThis means we need the server to hold a commitment_key server. The server needs to generate a proof for each label+value, and send this proof as a component of the lookup and update proofs. The client can then verify the proofs by supplying the raw value and checking that the commitment matches.\r\n\r\nConstruction:\r\n\r\nproof = H(commitment_key, label, version, value)\r\ncommmitment = H(value, proof)\r\n\r\nResolves #123.\r\n\r\nNote that we do a kindof hacky generation of the commitment key for now. Opened #184 to track a fix for this.", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/183", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/183/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/183/events", "html_url": "https://github.com/facebook/akd/pull/183", "id": 1172497615, "node_id": "PR_kwDOFr0TCM40mvDu", "number": 183, "title": "New PR for publish pipeline in v0.5.4. Also fix typo", "user": {"login": "slawlor", "id": 9451356, "node_id": "MDQ6VXNlcjk0NTEzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9451356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawlor", "html_url": "https://github.com/slawlor", "followers_url": "https://api.github.com/users/slawlor/followers", "following_url": "https://api.github.com/users/slawlor/following{/other_user}", "gists_url": "https://api.github.com/users/slawlor/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawlor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawlor/subscriptions", "organizations_url": "https://api.github.com/users/slawlor/orgs", "repos_url": "https://api.github.com/users/slawlor/repos", "events_url": "https://api.github.com/users/slawlor/events{/privacy}", "received_events_url": "https://api.github.com/users/slawlor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-17T15:45:49Z", "updated_at": "2022-03-17T18:50:01Z", "closed_at": "2022-03-17T18:49:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/183", "html_url": "https://github.com/facebook/akd/pull/183", "diff_url": "https://github.com/facebook/akd/pull/183.diff", "patch_url": "https://github.com/facebook/akd/pull/183.patch", "merged_at": "2022-03-17T18:49:18Z"}, "body": "resolves #182", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/facebook/akd/issues/181", "repository_url": "https://api.github.com/repos/facebook/akd", "labels_url": "https://api.github.com/repos/facebook/akd/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/facebook/akd/issues/181/comments", "events_url": "https://api.github.com/repos/facebook/akd/issues/181/events", "html_url": "https://github.com/facebook/akd/pull/181", "id": 1171986058, "node_id": "PR_kwDOFr0TCM40lChp", "number": 181, "title": "Simplify node label hasher", "user": {"login": "kevinlewi", "id": 5070008, "node_id": "MDQ6VXNlcjUwNzAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5070008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlewi", "html_url": "https://github.com/kevinlewi", "followers_url": "https://api.github.com/users/kevinlewi/followers", "following_url": "https://api.github.com/users/kevinlewi/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlewi/subscriptions", "organizations_url": "https://api.github.com/users/kevinlewi/orgs", "repos_url": "https://api.github.com/users/kevinlewi/repos", "events_url": "https://api.github.com/users/kevinlewi/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlewi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3127723892, "node_id": "MDU6TGFiZWwzMTI3NzIzODky", "url": "https://api.github.com/repos/facebook/akd/labels/CLA%20Signed", "name": "CLA Signed", "color": "009900", "default": false, "description": "This label is managed by the Facebook bot. Authors need to sign the CLA before a PR can be reviewed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-17T06:31:37Z", "updated_at": "2022-03-17T18:50:45Z", "closed_at": "2022-03-17T18:50:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/facebook/akd/pulls/181", "html_url": "https://github.com/facebook/akd/pull/181", "diff_url": "https://github.com/facebook/akd/pull/181.diff", "patch_url": "https://github.com/facebook/akd/pull/181.patch", "merged_at": "2022-03-17T18:50:45Z"}, "body": "Reducing this function from performing 3 hash operations to just 1. We can concatenate the two inputs together and just do one outer hash, rather than first hashing the two items together and then doing the outer hash.\r\n\r\n(Based on top of https://github.com/novifinancial/akd/pull/180)", "reactions": {"url": "https://api.github.com/repos/facebook/akd/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/facebook/akd/issues/181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]